{"version":3,"sources":["jsxgraph/core.cljs"],"mappings":"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","names":["js/jsxgraph","js/jsxgraph.core","js/jsxgraph.core.board-context","jsxgraph.core/board-context","js/module$node_modules$react$index.createContext","jsxgraph.core/Provider","var_args","args__4870__auto__","len__4864__auto__","i__4865__auto__","argseq__4871__auto__","cljs.core/IndexedSeq","jsxgraph.core/JSXGraph","p__91042","map__91043","cljs.core/--destructure-map","cljs.core.get","seq91040","G__91041","cljs.core/first","cljs.core/next","self__4851__auto__","id","style","_","!board","reagent.core.atom","or__4253__auto__","Math/random","kill!","board","props","js/shadow.js.shim.module$$mentatcollective$jsxgraph$default","temp__5753__auto__","ref","init!","cljs.core/clj->js","reagent.core.create_class","this","cljs.core/reset!","reagent.core/props","cljs.core.swap_BANG_","p__91044","vec__91045","cljs.core.nth","p","old-props","cljs.core/map?","new-props","cljs.core.not_EQ_","old-board","cljs.core/deref","base","cljs.core/not","cljs.core.into","reagent.core/children","reagent.core/current-component","jsxgraph.core/add-item!","name","elems","m","seq__91048","cljs.core/seq","chunk__91049","count__91050","i__91051","vec__91058","cljs.core/chunked-seq?","c__4679__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","vec__91061","k","f","callback","elem","cljs.core._EQ_","temp__5751__auto__","coords","jsxgraph.core/element","reagent.core/adapt-react-class","js/module$node_modules$react$index.forwardRef","map__91064","js/module$node_modules$react$index.useContext","parents","cljs.core.js__GT_clj","cljs.core.dissoc","js/module$node_modules$react$index.useEffect","and__4251__auto__","item","jsxgraph.core/Angle","jsxgraph.core/Arc","jsxgraph.core/Arrow","jsxgraph.core/ArrowParallel","jsxgraph.core/Axis","jsxgraph.core/Bisector","jsxgraph.core/Bisectorlines","jsxgraph.core/Boxplot","jsxgraph.core/Button","jsxgraph.core/CardinalSpline","jsxgraph.core/Chart","jsxgraph.core/Checkbox","jsxgraph.core/Circle","jsxgraph.core/Circumcenter","jsxgraph.core/Circumcircle","jsxgraph.core/CircumcircleArc","jsxgraph.core/CircumcircleSector","jsxgraph.core/Comb","jsxgraph.core/Conic","jsxgraph.core/Curve","jsxgraph.core/Curve3D","jsxgraph.core/CurveDifference","jsxgraph.core/CurveIntersection","jsxgraph.core/CurveUnion","jsxgraph.core/Derivative","jsxgraph.core/Ellipse","jsxgraph.core/ForeignObject","jsxgraph.core/FunctionGraph","jsxgraph.core/FunctionGraph3D","jsxgraph.core/Glider","jsxgraph.core/Grid","jsxgraph.core/Group","jsxgraph.core/Hatch","jsxgraph.core/Hyperbola","jsxgraph.core/Image","jsxgraph.core/Incenter","jsxgraph.core/Incircle","jsxgraph.core/Inequality","jsxgraph.core/Input","jsxgraph.core/Integral","jsxgraph.core/Intersection","jsxgraph.core/Label","jsxgraph.core/Legend","jsxgraph.core/Line","jsxgraph.core/Line3D","jsxgraph.core/Locus","jsxgraph.core/MajorArc","jsxgraph.core/MajorSector","jsxgraph.core/MetapostSpline","jsxgraph.core/Midpoint","jsxgraph.core/MinorArc","jsxgraph.core/MinorSector","jsxgraph.core/MirrorElement","jsxgraph.core/MirrorPoint","jsxgraph.core/NonReflexAngle","jsxgraph.core/Normal","jsxgraph.core/OrthogonalProjection","jsxgraph.core/OtherIntersection","jsxgraph.core/Parabola","jsxgraph.core/Parallel","jsxgraph.core/ParallelPoint","jsxgraph.core/ParametricSurface3D","jsxgraph.core/Perpendicular","jsxgraph.core/PerpendicularPoint","jsxgraph.core/PerpendicularSegment","jsxgraph.core/Point","jsxgraph.core/Point3D","jsxgraph.core/PolarLine","jsxgraph.core/PolePoint","jsxgraph.core/Polygon","jsxgraph.core/PolygonalChain","jsxgraph.core/RadicalAxis","jsxgraph.core/Reflection","jsxgraph.core/ReflexAngle","jsxgraph.core/RegularPolygon","jsxgraph.core/RiemannSum","jsxgraph.core/Sector","jsxgraph.core/Segment","jsxgraph.core/Semicircle","jsxgraph.core/Slider","jsxgraph.core/SlopeTriangle","jsxgraph.core/Spline","jsxgraph.core/StepFunction","jsxgraph.core/Tangent","jsxgraph.core/TapeMeasure","jsxgraph.core/Text","jsxgraph.core/Ticks","jsxgraph.core/TraceCurve","jsxgraph.core/Transformation","jsxgraph.core/Turtle","jsxgraph.core/View3D"],"sourcesContent":["(ns jsxgraph.core\n  \"Eventually this will contain wrapper forms for jsxgraph. For now ignore the\n  reactish part and just blow away the full jsxgraph whenever the input\n  change.\n\n  This is currently using my fork of jsxgraph at\n  https://github.com/sritchie/jsxgraph and published to\n  https://www.npmjs.com/package/@mentatcollective/jsxgraph, but these changes\n  should appear upstream soon and we can back off to the official library.\"\n  (:require [\"@mentatcollective/jsxgraph$default\" :as jsx]\n            [reagent.core :as re :include-macros true]\n            [\"react\" :as react]))\n\n;; Utilities\n\n(defonce ^:no-doc board-context (react/createContext nil))\n(def ^:no-doc Provider (.-Provider board-context))\n\n;; Components\n\n(defn JSXGraph\n  \"TODO note that you can either add children etc... OR you can supply a ref that\n  just does all of this crap for you.\"\n  [{:keys [id style]} & _]\n  (let [!board  (re/atom nil)\n\n        id (or id (-> (Math/random)\n                      (.toString 36)\n                      (.substr 2 9)))\n        style (or style {:height \"400px\" :width \"100%\"})\n        kill! (fn [board props]\n                (.suspendUpdate board)\n                (-> (.-JSXGraph jsx) (.freeBoard board))\n                (when-let [ref (:ref props)]\n                  (ref nil))\n                nil)\n        init! (fn [props]\n                (let [board (-> (.-JSXGraph jsx)\n                                (.initBoard id (clj->js props)))]\n                  (when-let [ref (:ref props)]\n                    (ref board))\n                  board))]\n    (re/create-class\n     {:display-name  \"JSXGraph\"\n      :component-did-mount\n      (fn [this]\n        (reset! !board (init! (re/props this))))\n\n      :component-will-unmount\n      (fn [this]\n        (swap! !board kill! re/props this))\n\n      :component-did-update\n      (fn [this [_ p]]\n        (let [old-props (if (map? p) p {})\n              new-props (or (re/props this) {})]\n          (when (not= old-props new-props)\n            (swap! !board (fn [old-board]\n                            (when old-board (kill! old-board new-props))\n                            (init! new-props))))))\n\n      :reagent-render\n      (fn [& _]\n        (let [board @!board\n              base  [:div {:id id :style style}]]\n          (if-not board\n            base\n            [:div {:id id :style style}\n             (into [:> Provider {:value board}]\n                   (re/children\n                    (re/current-component)))])))})))\n\n(defn add-item! [name board elems props]\n  (let [p (.create board\n                   name\n                   (clj->js elems)\n                   (clj->js props))]\n    (when-let [m (props \"on\")]\n      (doseq [[k f] m]\n        (let [callback (fn [_]\n                         (this-as elem\n                           (f elem)))]\n          (if (= k \"update\")\n            (if-let [coords (.-coords p)]\n              (.on coords \"update\" callback)\n              (.on board \"update\" callback))\n            (.on p k callback)))))\n    p))\n\n(defn element [name]\n  (re/adapt-react-class\n   (react/forwardRef\n    (fn [props ref]\n      (let [board (react/useContext board-context)\n            {:strs [parents] :as props} (js->clj props)\n            props (dissoc props \"board\" \"parents\" \"force\")]\n        ;; TODO error if there are no parents or board, or force. Use this in\n        ;; the context of the jsx!\n\n        (react/useEffect\n         (fn mount []\n           ;; sometimes a stale dead board is passed in.\n           (when (and board (.-renderer board))\n             (let [item (add-item! name board parents props)]\n               (when ref (ref item))\n               (fn unmount []\n                 (when board (.removeObject board item))\n                 (when ref (ref nil)))))))\n        nil)))))\n\n;; ## Elements\n;;\n;; see `ElementType` in index.d.ts.\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Angle.html\"}\n  Angle\n  (element \"angle\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Arc.html\"}\n  Arc\n  (element \"arc\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Arrow.html\"}\n  Arrow\n  (element \"arrow\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/ArrowParallel.html\"}\n  ArrowParallel\n  (element \"arrowparallel\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Axis.html\"}\n  Axis\n  (element \"axis\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Bisector.html\"}\n  Bisector\n  (element \"bisector\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Bisectorlines.html\"}\n  Bisectorlines\n  (element \"bisectorlines\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Boxplot.html\"}\n  Boxplot\n  (element \"boxplot\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Button.html\"}\n  Button\n  (element \"button\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/CardinalSpline.html\"}\n  CardinalSpline\n  (element \"cardinalspline\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Chart.html\"}\n  Chart\n  (element \"chart\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Checkbox.html\"}\n  Checkbox\n  (element \"checkbox\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Circle.html\"}\n  Circle\n  (element \"circle\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Circumcenter.html\"}\n  Circumcenter\n  (element \"circumcenter\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Circumcircle.html\"}\n  Circumcircle\n  (element \"circumcircle\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/CircumcircleArc.html\"}\n  CircumcircleArc\n  (element \"circumcirclearc\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/CircumcircleSector.html\"}\n  CircumcircleSector\n  (element \"circumcirclesector\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Comb.html\"}\n  Comb\n  (element \"comb\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Conic.html\"}\n  Conic\n  (element \"conic\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Curve.html\"}\n  Curve\n  (element \"curve\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Curve3D.html\"}\n  Curve3D\n  (element \"Curve3d\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/CurveDifference.html\"}\n  CurveDifference\n  (element \"curvedifference\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/CurveIntersection.html\"}\n  CurveIntersection\n  (element \"curveintersection\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/CurveUnion.html\"}\n  CurveUnion\n  (element \"curveunion\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Derivative.html\"}\n  Derivative\n  (element \"derivative\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Ellipse.html\"}\n  Ellipse\n  (element \"ellipse\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/ForeignObject.html\"}\n  ForeignObject\n  (element \"foreignobject\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/FunctionGraph.html\"}\n  FunctionGraph\n  (element \"functiongraph\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/FunctionGraph3D.html\"}\n  FunctionGraph3D\n  (element \"functiongraph3d\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Glider.html\"}\n  Glider\n  (element \"glider\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Grid.html\"}\n  Grid\n  (element \"grid\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Group.html\"}\n  Group\n  (element \"group\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Hatch.html\"}\n  Hatch\n  (element \"hatch\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Hyperbola.html\"}\n  Hyperbola\n  (element \"hyperbola\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Image.html\"}\n  Image\n  (element \"image\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Incenter.html\"}\n  Incenter\n  (element \"incenter\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Incircle.html\"}\n  Incircle\n  (element \"incircle\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Inequality.html\"}\n  Inequality\n  (element \"inequality\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Input.html\"}\n  Input\n  (element \"input\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Integral.html\"}\n  Integral\n  (element \"integral\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Intersection.html\"}\n  Intersection\n  (element \"intersection\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Label.html\"}\n  Label\n  (element \"label\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Legend.html\"}\n  Legend\n  (element \"legend\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Line.html\"}\n  Line\n  (element \"line\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Line3D.html\"}\n  Line3D\n  (element \"Line3d\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Locus.html\"}\n  Locus\n  (element \"locus\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/MajorArc.html\"}\n  MajorArc\n  (element \"majorarc\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/MajorSector.html\"}\n  MajorSector\n  (element \"majorsector\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/MetapostSpline.html\"}\n  MetapostSpline\n  (element \"metapostspline\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Midpoint.html\"}\n  Midpoint\n  (element \"midpoint\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/MinorArc.html\"}\n  MinorArc\n  (element \"minorarc\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/MinorSector.html\"}\n  MinorSector\n  (element \"minorsector\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Mirr.html\"}\n  MirrorElement\n  (element \"mirrorelement\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/MirrorPoint.html\"}\n  MirrorPoint\n  (element \"mirrorpoint\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/NonReflexAngle.html\"}\n  NonReflexAngle\n  (element \"nonreflexangle\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Normal.html\"}\n  Normal\n  (element \"normal\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/OrthogonalProjection.html\"}\n  OrthogonalProjection\n  (element \"orthogonalprojection\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/OtherIntersection.html\"}\n  OtherIntersection\n  (element \"otherintersection\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Parabola.html\"}\n  Parabola\n  (element \"parabola\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Parallel.html\"}\n  Parallel\n  (element \"parallel\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/ParallelPoint.html\"}\n  ParallelPoint\n  (element \"parallelpoint\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/ParametricSurface3D.html\"}\n  ParametricSurface3D\n  (element \"parametricsurface3d\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Perpendicular.html\"}\n  Perpendicular\n  (element \"perpendicular\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/PerpendicularPoint.html\"}\n  PerpendicularPoint\n  (element \"perpendicularpoint\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/PerpendicularSegment.html\"}\n  PerpendicularSegment\n  (element \"perpendicularsegment\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Point.html\"}\n  Point\n  (element \"point\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Point3D.html\"}\n  Point3D\n  (element \"point3d\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/PolarLine.html\"}\n  PolarLine\n  (element \"polarline\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/PolePoint.html\"}\n  PolePoint\n  (element \"polepoint\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Polygon.html\"}\n  Polygon\n  (element \"polygon\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/PolygonalChain.html\"}\n  PolygonalChain\n  (element \"polygonalchain\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/RadicalAxis.html\"}\n  RadicalAxis\n  (element \"radicalaxis\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Reflection.html\"}\n  Reflection\n  (element \"reflection\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/ReflexAngle.html\"}\n  ReflexAngle\n  (element \"reflexangle\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/RegularPolygon.html\"}\n  RegularPolygon\n  (element \"regularpolygon\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/RiemannSum.html\"}\n  RiemannSum\n  (element \"riemannsum\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Sector.html\"}\n  Sector\n  (element \"sector\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Segment.html\"}\n  Segment\n  (element \"segment\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Semicircle.html\"}\n  Semicircle\n  (element \"semicircle\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Slider.html\"}\n  Slider\n  (element \"slider\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/SlopeTriangle.html\"}\n  SlopeTriangle\n  (element \"slopetriangle\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Spline.html\"}\n  Spline\n  (element \"spline\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/StepFunction.html\"}\n  StepFunction\n  (element \"stepfunction\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Tangent.html\"}\n  Tangent\n  (element \"tangent\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/TapeMeasure.html\"}\n  TapeMeasure\n  (element \"tapemeasure\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Text.html\"}\n  Text\n  (element \"text\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Ticks.html\"}\n  Ticks\n  (element \"ticks\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/TraceCurve.html\"}\n  TraceCurve\n  (element \"tracecurve\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Transformation.html\"}\n  Transformation\n  (element \"transformation\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/Turtle.html\"}\n  Turtle\n  (element \"turtle\"))\n\n(def ^{:doc \"https://jsxgraph.org/docs/symbols/View3D.html\"}\n  View3D\n  (element \"view3D\"))\n"]}