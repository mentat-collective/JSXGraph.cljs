<!DOCTYPE html>
<html><head><title>JSXGraph.cljs</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="A React / Reagent interface to the JSXGraph interactive geometry and mathematics library." property="og:description"><meta content="JSXGraph.cljs" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="https://cdn.jsdelivr.net/npm/jsxgraph@1.5.0/distrib/jsxgraph.css" rel="stylesheet" type="text/css"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./tw/viewer.js", "./tw/**/*.edn"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-gray-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h2 {
    /*We cannot collapse margins due to nesting but we want to*/
    /*keep the h2’s large margin visible*/
    @apply font-condensed font-bold mt-8 first:mt-2;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }

  @media print {
      h1 { @apply text-2xl !important; }
      h2 { @apply text-xl !important; }
      h3 { @apply text-lg !important; }
  }
  
  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.markdown-viewer ul ul {
  @apply mt-1 mb-0;
}

/* compact TOC */
.markdown-viewer .toc ul {
  list-style: none;
  @apply my-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.code-viewer {
  @apply font-mono bg-slate-100 rounded-sm text-sm overflow-x-auto dark:bg-gray-800;
}
.code-listing  {
    @apply -ml-8 -mr-8 relative !important;
}
.code-viewer .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
    .notebook-viewer .code-viewer .cm-content {
        @apply py-4 pl-12;
    }
    .notebook-viewer .code-listing {
        width: 48rem !important;
        @apply -ml-12 mr-0 !important;
    }
}
/* Don’t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-italic, .cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .result-viewer {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-italic.cmt-string {
  @apply dark:text-sky-200;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.notebook-viewer,
.markdown-viewer {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-4
    prose-table:mt-0
    prose-th:mb-0
    prose-img:my-0
    prose-code:font-medium prose-code:bg-slate-100
    max-w-none;
}
.markdown-viewer blockquote p:first-of-type:before,
.markdown-viewer blockquote p:last-of-type:after {
  @apply content-none;
}

/* Images */
/* --------------------------------------------------------------- */


/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.markdown-viewer .toc      { @apply mt-4; }
.markdown-viewer h1 + .toc { @apply mt-8; }

.markdown-viewer .toc h1,
.markdown-viewer .toc h2,
.markdown-viewer .toc h3,
.markdown-viewer .toc h4,
.markdown-viewer .toc h5,
.markdown-viewer .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.markdown-viewer .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.markdown-viewer .toc li    { @apply m-0; }
.markdown-viewer .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.notebook-viewer { @apply py-16; }
#clerk-static-app .notebook-viewer { @apply pt-[0.8rem] pb-16; }
.markdown-viewer *:first-child:not(.code-viewer):not(li):not(h2):not(.sidenote) { @apply mt-0; }
/*.viewer + .viewer { @apply mt-6; }*/
.viewer + .result-viewer { @apply mt-0; }
.code-viewer + .result-viewer { @apply mt-3; }
.markdown-viewer + .markdown-viewer { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
}
.sidenote {
  @apply block font-sans text-xs mt-4 bg-slate-100 dark:bg-slate-800 p-4;
  font-style: normal;
  font-weight: normal;
}
.sidenote-container {
  @apply mb-4;
}
@media (min-width: 860px) {
  .sidenote sup { @apply inline; }
  .sidenote-column {
    @apply w-[165px] absolute right-0 top-0 -mr-[205px];
  }
  .sidenote {
    @apply bg-transparent dark:bg-transparent p-0;
  }
  .sidenote:first-child {
    @apply mt-1;
  }
  .sidenotes-layout .markdown-viewer {
    @apply pr-[205px];
  }
  .sidenote-container {
    @apply relative mb-0;
  }
  .sidenotes-layout h1 {
    @apply w-[756px] !important;
  }
}
.code-viewer + .viewer:not(.markdown-viewer):not(.code-viewer):not(.code-viewer-folded),
.code-viewer-folded + .viewer:not(.markdown-viewer):not(.code-viewer):not(.code-viewer-folded),
.result-viewer + .result-viewer {
  @apply mt-2;
}
.code-viewer + .code-viewer-folded {
  @apply mt-4;
}
.result-viewer {
  @apply leading-tight mb-6;
}
.result-viewer figure {
  @apply mt-0 !important;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by tw’s border-color */
.katex * { @apply border-black; }

@media print {
    .dark-mode-toggle,
    .toc-toggle { @apply hidden; }
    .notebook-viewer { @apply pt-0; font-size: 12pt !important; margin-left: 0 !important; }
    .code-viewer .cm-content,
    .viewer-code .cm-content { @apply whitespace-pre-wrap !important; overflow: none; }
    .code-viewer .cm-line { font-size: 12pt !important; }
    html * { page-break-inside: avoid !important; }
    .toc-panel { @apply hidden; }
}
</style><script src="_data/8Vu6qwSXuRyhYtZyviu3GLvhRJiemjEXhsLE51hi5dKKNp9xuEC33gekuJq6T36r5S7FRomtHpqFMP3E7Zq6FECaWH.js" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script type="module">let state = "{:out-path \"public/build\", :path->doc {\"dev/jsxgraph/notebook.clj\" {:path [], :nextjournal/value {:toc {:type :toc, :children [{:type :toc, :content [{:type :text, :text \"JSXGraph.cljs\"}], :heading-level 1, :attrs {:id \"jsxgraph.cljs\"}, :path [:content 0], :children [{:type :toc, :content [{:type :text, :text \"What is JSXGraph?\"}], :heading-level 2, :attrs {:id \"what-is-jsxgraph?\"}, :path [:content 4]} {:type :toc, :content [{:type :text, :text \"Quickstart\"}], :heading-level 2, :attrs {:id \"quickstart\"}, :path [:content 9]} {:type :toc, :content [{:type :text, :text \"Guides\"}], :heading-level 2, :attrs {:id \"guides\"}, :path [:content 21], :children [{:type :toc, :content [{:type :text, :text \"Creating Your First Board\"}], :heading-level 3, :attrs {:id \"creating-your-first-board\"}, :path [:content 24]} {:type :toc, :content [{:type :text, :text \"Event Listeners\"}], :heading-level 3, :attrs {:id \"event-listeners\"}, :path [:content 34]} {:type :toc, :content [{:type :text, :text \"Functions as Parents\"}], :heading-level 3, :attrs {:id \"functions-as-parents\"}, :path [:content 40]} {:type :toc, :content [{:type :text, :text \"GEONExT Syntax\"}], :heading-level 3, :attrs {:id \"geonext-syntax\"}, :path [:content 44]} {:type :toc, :content [{:type :text, :text \"Component Refs\"}], :heading-level 3, :attrs {:id \"component-refs\"}, :path [:content 48]} {:type :toc, :content [{:type :text, :text \"Custom Components\"}], :heading-level 3, :attrs {:id \"custom-components\"}, :path [:content 52]} {:type :toc, :content [{:type :text, :text \"State across Multiple Boards\"}], :heading-level 3, :attrs {:id \"state-across-multiple-boards\"}, :path [:content 60]}]} {:type :toc, :content [{:type :text, :text \"JSXGraph.cljs via SCI\"}], :heading-level 2, :attrs {:id \"jsxgraph.cljs-via-sci\"}, :path [:content 66]} {:type :toc, :content [{:type :text, :text \"JSXGraph.cljs via Clerk\"}], :heading-level 2, :attrs {:id \"jsxgraph.cljs-via-clerk\"}, :path [:content 72]} {:type :toc, :content [{:type :text, :text \"Project Template\"}], :heading-level 2, :attrs {:id \"project-template\"}, :path [:content 76]} {:type :toc, :content [{:type :text, :text \"Advanced Examples\"}], :heading-level 2, :attrs {:id \"advanced-examples\"}, :path [:content 83], :children [{:type :toc, :content [{:type :text, :text \"Archimedean Spiral\"}], :heading-level 3, :attrs {:id \"archimedean-spiral\"}, :path [:content 85]} {:type :toc, :content [{:type :text, :text \"Lissajous Curve\"}], :heading-level 3, :attrs {:id \"lissajous-curve\"}, :path [:content 90]} {:type :toc, :content [{:type :text, :text \"Unit Circle\"}], :heading-level 3, :attrs {:id \"unit-circle\"}, :path [:content 95]} {:type :toc, :content [{:type :text, :text \"Riemann Sum\"}], :heading-level 3, :attrs {:id \"riemann-sum\"}, :path [:content 103]} {:type :toc, :content [{:type :text, :text \"Vector Field\"}], :heading-level 3, :attrs {:id \"vector-field\"}, :path [:content 110]} {:type :toc, :content [{:type :text, :text \"3D Views\"}], :heading-level 3, :attrs {:id \"3d-views\"}, :path [:content 116]}]} {:type :toc, :content [{:type :text, :text \"JSXGraph vs JSXGraph.cljs\"}], :heading-level 2, :attrs {:id \"jsxgraph-vs-jsxgraph.cljs\"}, :path [:content 125], :children [{:type :toc, :content [{:type :text, :text \"Keyword vs Component\"}], :heading-level 3, :attrs {:id \"keyword-vs-component\"}, :path [:content 141]} {:type :toc, :content [{:type :text, :text \"Imperative Style\"}], :heading-level 3, :attrs {:id \"imperative-style\"}, :path [:content 143]} {:type :toc, :content [{:type :text, :text \"Accessing Element Values\"}], :heading-level 3, :attrs {:id \"accessing-element-values\"}, :path [:content 146]}]} {:type :toc, :content [{:type :text, :text \"Thanks and Support\"}], :heading-level 2, :attrs {:id \"thanks-and-support\"}, :path [:content 150]} {:type :toc, :content [{:type :text, :text \"License\"}], :heading-level 2, :attrs {:id \"license\"}, :path [:content 154]}]}]}, :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns jsxgraph.notebook), :auto-expand-results? nil, :scope jsxgraph.notebook, :bundle? false, :open-graph {:type \"article:clerk\", :title \"JSXGraph.cljs\", :description \"A React / Reagent interface to the JSXGraph interactive geometry and mathematics library.\"}, :title \"JSXGraph.cljs\", :blocks [{:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value #viewer-eval (clojure.core/binding [clojure.core/*ns* clojure.core/*ns*] (require (quote [jsxgraph.core :as jsx])) (require (quote [reagent.core :as reagent]))), :nextjournal/viewer {:var-from-def? true, :render-fn #viewer-fn (fn [x opts] (if (nextjournal.clerk.render/reagent-atom? x) [nextjournal.clerk.render/render-tagged-value {:space? false} \"#object\" [nextjournal.clerk.render/inspect [(symbol (pr-str (type x))) (clojure.core/deref x)]]] [nextjournal.clerk.render/inspect x])), :nextjournal.clerk/remount \"5dszNL1Y42h35e1URSTrMU5VBdFgE5\", :hash \"5ds8bLMA76gGXf9Pj7ZcwkPJZwFhy4\"}}, :nextjournal.clerk.viewer/viewer-eval-form (clojure.core/binding [clojure.core/*ns* clojure.core/*ns*] (require (quote [jsxgraph.core :as jsx])) (require (quote [reagent.core :as reagent])))}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn (fn [_] [:<>]), :hash \"5ds2mGvrvNk7Cbsd66ZxWsbG6bXJDh\"}} {:nextjournal/value [:div.markdown-viewer [\"h1\" {:id \"jsxgraph.cljs\"} [:<> \"JSXGraph.cljs\"]] [:p [:<> \"A \"] [:a {:href \"https://reactjs.org/\"} [:<> \"React\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"/ \"] [:a {:href \"https://reagent-project.github.io/\"} [:<> \"Reagent\"]] [:<> \" interface to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://jsxgraph.org/\"} [:<> \"JSXGraph\"]] [:<> \" interactive geometry and mathematics\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"library.\"]] [:p [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/actions/workflows/kondo.yml\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://github.com/mentat-collective/jsxgraph.cljs/actions/workflows/kondo.yml/badge.svg?branch=main\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/main/LICENSE\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/badge/license-MIT-brightgreen.svg\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://cljdoc.org/d/org.mentat/jsxgraph.cljs/CURRENT\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://cljdoc.org/badge/org.mentat/jsxgraph.cljs\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://clojars.org/org.mentat/jsxgraph.cljs\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/jsxgraph.cljs.svg\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]]] [:blockquote [:p [:<> \"The interactive documentation on this page was generated\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"using \"] [:a {:href \"https://github.com/nextjournal/clerk\"} [:<> \"Clerk\"]] [:<> \". Follow\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/tree/main#interactive-documentation-via-clerk\"} [:<> \"instructions in the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"README\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to run and modify this notebook on your machine!\"]] [:p [:<> \"See the \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs\"} [:<> \"Github\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"project\"]] [:<> \" for more\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"details, and the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/jsxgraph.cljs/CURRENT/doc/readme\"} [:<> \"cljdoc\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"page\"]] [:<> \" for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"detailed API documentation.\"]]] [\"h2\" {:id \"what-is-jsxgraph?\"} [:<> \"What is JSXGraph?\"]] [:p [:a {:href \"https://jsxgraph.org/\"} [:<> \"JSXGraph\"]] [:<> \" is a JavaScript library that lets you build\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"2-dimensional scenes full of geometric objects, function curves and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"interactive UI elements, potentially with many complex constraints defined\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"between these objects.\"]] [:p [:<> \"For example, here is a visual JSXGraph proof that the \"] [:a {:href \"https://en.wikipedia.org//wiki/Euler_line\"} [:<> \"Euler\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"line\"]] [:<> \" passes through any\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"triangle's \"] [:a {:href \"https://en.wikipedia.org/wiki/Orthocenter\"} [:<> \"orthocenter\"]] [:<> \", \"] [:a {:href \"https://en.wikipedia.org/wiki/Centroid\"} [:<> \"centroid\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and \"] [:a {:href \"https://en.wikipedia.org/wiki/Circumcenter\"} [:<> \"circumcenter\"]] [:<> \". Drag the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"triangle's corner points around and watch the example respond:\"]] [:blockquote [:p [:<> \"The 'show code' link below will expand the example's source. Use the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"checkmarks to toggle on and off the elements that contribute to each point\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"on the Euler Line.\"]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (let [!state (atom\\n               {:circumcenter true\\n                :orthocenter true\\n                :centroid true})\\n       centroid?     #(:centroid @!state)\\n       orthocenter?  #(:orthocenter @!state)\\n       circumcenter? #(:circumcenter @!state)\\n       cerise {:strokeColor \\\"#901B77\\\"\\n               :fillColor \\\"#CA147A\\\"}\\n       grass {:strokeColor \\\"#009256\\\"\\n              :fillColor \\\"#65B72E\\\"\\n              :visible true\\n              :withLabel true}\\n       perpendicular {:strokeColor \\\"black\\\"\\n                      :visible orthocenter?\\n                      :dash 1\\n                      :strokeWidth 1}\\n       median {:strokeWidth 1\\n               :strokeColor \\\"#333333\\\"\\n               :dash 2}]\\n   [jsx/JSXGraph\\n    {:boundingbox [-1.5 2 1.5 -1]\\n     :showCopyright false\\n     :keepaspectratio true}\\n    [:checkbox {:parents [-2 1.5 \\\"Circumcenter\\\"]\\n                :checked (:circumcenter @!state)\\n                :on {:up #(swap! !state assoc :circumcenter (not (.Value %)))}}]\\n    [:checkbox {:parents [-2 1.3 \\\"Orthocenter\\\"]\\n                :checked (:orthocenter @!state)\\n                :on {:up #(swap! !state assoc :orthocenter (not (.Value %)))}}]\\n    [:checkbox {:parents [-2 1.1 \\\"Centroid\\\"]\\n                :checked (:centroid @!state)\\n                :on {:up #(swap! !state assoc :centroid (not (.Value %)))}}]\\n\\n    ;; Triangle\\n    [:point (assoc cerise :parents [1 0] :id \\\"A\\\")]\\n    [:point (assoc cerise :parents [-1 0] :id \\\"B\\\")]\\n    [:point (assoc cerise :parents [0.65 1.45] :id \\\"C\\\")]\\n    [:polygon\\n     {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"]\\n      :borders {:ids [\\\"pol_0\\\" \\\"pol_1\\\" \\\"pol_2\\\"]}\\n      :fillColor \\\"#FFFF00\\\"\\n      :lines {:strokeWidth 2\\n              :strokeColor \\\"#009256\\\"}}]\\n\\n    ;; ## Circumcircle\\n    [:circumcircle\\n     {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"]\\n      :strokeColor \\\"#000000\\\"\\n      :visible circumcenter?\\n      :dash 3\\n      :strokeWidth 1\\n      :center (assoc grass\\n                     :name \\\"U\\\"\\n                     :visible circumcenter?)}]\\n\\n    ;; ## Orthocenter\\n    ;;\\n    ;; Altitudes\\n    [:perpendicular\\n     (assoc perpendicular :parents [\\\"pol_0\\\" \\\"C\\\"] :id \\\"pABC\\\")]\\n    [:intersection\\n     (assoc cerise\\n            :parents [\\\"pol_0\\\" \\\"pABC\\\"]\\n            :visible orthocenter?\\n            :name \\\"H_c\\\")]\\n\\n    [:perpendicular\\n     (assoc perpendicular :parents [\\\"pol_1\\\" \\\"A\\\"] :id \\\"pBCA\\\")]\\n    [:intersection\\n     (assoc cerise\\n            :parents [\\\"pol_1\\\" \\\"pBCA\\\"]\\n            :visible orthocenter?\\n            :name \\\"H_a\\\")]\\n\\n    [:perpendicular\\n     (assoc perpendicular :parents [\\\"pol_2\\\" \\\"B\\\"] :id \\\"pCAB\\\")]\\n    [:intersection\\n     (assoc cerise\\n            :parents [\\\"pol_2\\\" \\\"pCAB\\\"]\\n            :visible orthocenter?\\n            :name \\\"H_b\\\")]\\n\\n    ;; Intersection of Altitudes\\n    [:intersection\\n     (assoc grass\\n            :visible orthocenter?\\n            :id \\\"i1\\\"\\n            :name \\\"H\\\"\\n            :parents [\\\"pABC\\\" \\\"pCAB\\\" 0])]\\n\\n    ;; ## Centroid\\n    ;;\\n    ;; Medians\\n    [:midpoint\\n     (assoc cerise :name \\\"M_a\\\"\\n            :visible centroid?\\n            :parents [\\\"B\\\" \\\"C\\\"])]\\n    [:segment\\n     (assoc median :id \\\"ma\\\"\\n            :visible centroid?\\n            :parents [\\\"M_a\\\" \\\"A\\\"])]\\n\\n    [:midpoint\\n     (assoc cerise :name \\\"M_b\\\"\\n            :visible centroid?\\n            :parents [\\\"C\\\" \\\"A\\\"])]\\n    [:segment\\n     (assoc median :id \\\"mb\\\"\\n            :visible centroid?\\n            :parents [\\\"M_b\\\" \\\"B\\\"])]\\n\\n    [:midpoint\\n     (assoc cerise :name \\\"M_c\\\"\\n            :visible centroid?\\n            :parents [\\\"A\\\" \\\"B\\\"])]\\n    [:segment\\n     (assoc median :id \\\"mc\\\"\\n            :visible centroid?\\n            :parents [\\\"M_c\\\" \\\"C\\\"])]\\n\\n    ;; Intersection of Medians\\n    [:intersection\\n     (assoc grass :id \\\"i2\\\"\\n            :visible centroid?\\n            :name \\\"S\\\" :parents [\\\"ma\\\" \\\"mc\\\" 0])]\\n\\n    ;; Euler's Line (intersection of orthocenter and median, but the\\n    ;; circumcenter lies on this line as well).\\n    [:line\\n     {:parents [\\\"i1\\\" \\\"i2\\\"]\\n      :strokeWidth 2\\n      :strokeColor \\\"#901B77\\\"}]]))\", :nextjournal/opts {:loc {:line 57, :end-line 191, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-folded-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-folded-code, :hash \"5dtDa1QgftrPjN8Mut4jai69mpkeDL\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (let [!state (atom {:circumcenter true, :orthocenter true, :centroid true}) centroid? (fn* [] (:centroid (clojure.core/deref !state))) orthocenter? (fn* [] (:orthocenter (clojure.core/deref !state))) circumcenter? (fn* [] (:circumcenter (clojure.core/deref !state))) cerise {:strokeColor \"#901B77\", :fillColor \"#CA147A\"} grass {:strokeColor \"#009256\", :fillColor \"#65B72E\", :visible true, :withLabel true} perpendicular {:strokeColor \"black\", :visible orthocenter?, :dash 1, :strokeWidth 1} median {:strokeWidth 1, :strokeColor \"#333333\", :dash 2}] [jsx/JSXGraph {:boundingbox [-1.5 2 1.5 -1], :showCopyright false, :keepaspectratio true} [:checkbox {:parents [-2 1.5 \"Circumcenter\"], :checked (:circumcenter (clojure.core/deref !state)), :on {:up (fn* [%1] (swap! !state assoc :circumcenter (not (.Value %1))))}}] [:checkbox {:parents [-2 1.3 \"Orthocenter\"], :checked (:orthocenter (clojure.core/deref !state)), :on {:up (fn* [%1] (swap! !state assoc :orthocenter (not (.Value %1))))}}] [:checkbox {:parents [-2 1.1 \"Centroid\"], :checked (:centroid (clojure.core/deref !state)), :on {:up (fn* [%1] (swap! !state assoc :centroid (not (.Value %1))))}}] [:point (assoc cerise :parents [1 0] :id \"A\")] [:point (assoc cerise :parents [-1 0] :id \"B\")] [:point (assoc cerise :parents [0.65 1.45] :id \"C\")] [:polygon {:parents [\"A\" \"B\" \"C\"], :borders {:ids [\"pol_0\" \"pol_1\" \"pol_2\"]}, :fillColor \"#FFFF00\", :lines {:strokeWidth 2, :strokeColor \"#009256\"}}] [:circumcircle {:parents [\"A\" \"B\" \"C\"], :strokeColor \"#000000\", :visible circumcenter?, :dash 3, :strokeWidth 1, :center (assoc grass :name \"U\" :visible circumcenter?)}] [:perpendicular (assoc perpendicular :parents [\"pol_0\" \"C\"] :id \"pABC\")] [:intersection (assoc cerise :parents [\"pol_0\" \"pABC\"] :visible orthocenter? :name \"H_c\")] [:perpendicular (assoc perpendicular :parents [\"pol_1\" \"A\"] :id \"pBCA\")] [:intersection (assoc cerise :parents [\"pol_1\" \"pBCA\"] :visible orthocenter? :name \"H_a\")] [:perpendicular (assoc perpendicular :parents [\"pol_2\" \"B\"] :id \"pCAB\")] [:intersection (assoc cerise :parents [\"pol_2\" \"pCAB\"] :visible orthocenter? :name \"H_b\")] [:intersection (assoc grass :visible orthocenter? :id \"i1\" :name \"H\" :parents [\"pABC\" \"pCAB\" 0])] [:midpoint (assoc cerise :name \"M_a\" :visible centroid? :parents [\"B\" \"C\"])] [:segment (assoc median :id \"ma\" :visible centroid? :parents [\"M_a\" \"A\"])] [:midpoint (assoc cerise :name \"M_b\" :visible centroid? :parents [\"C\" \"A\"])] [:segment (assoc median :id \"mb\" :visible centroid? :parents [\"M_b\" \"B\"])] [:midpoint (assoc cerise :name \"M_c\" :visible centroid? :parents [\"A\" \"B\"])] [:segment (assoc median :id \"mc\" :visible centroid? :parents [\"M_c\" \"C\"])] [:intersection (assoc grass :id \"i2\" :visible centroid? :name \"S\" :parents [\"ma\" \"mc\" 0])] [:line {:parents [\"i1\" \"i2\"], :strokeWidth 2, :strokeColor \"#901B77\"}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5drKXPiFsPdRChiQ4dU19jrFmYsY8U\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs\"} [:<> \"JSXGraph.cljs\"]] [:<> \" extends\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"JSXGraph with a \"] [:a {:href \"https://reagent-project.github.io/\"} [:<> \"Reagent\"]] [:<> \" component that\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"makes it easy to define JSXGraph constructions inside of a user interface\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"built with Clojurescript.\"]] [\"h2\" {:id \"quickstart\"} [:<> \"Quickstart\"]] [:p [:<> \"Install \"] [:code [:<> \"JSXGraph.cljs\"]] [:<> \" into your Clojurescript project using the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"instructions at its Clojars page:\"]] [:p [:a {:href \"https://clojars.org/org.mentat/jsxgraph.cljs\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/jsxgraph.cljs.svg\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]]] [:p [:<> \"Or grab the most recent code using a Git dependency:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div.markdown-viewer [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"\\n{io.github.mentat-collective/jsxgraph.cljs\\n  {:git/sha \\\"83ce94fdd54326dd3a355e283a3a216d08cc2801\\\"}}\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Require \"] [:code [:<> \"jsxgraph.core\"]] [:<> \" in your namespace:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"(ns my-app\\n  (:require [jsxgraph.core :as jsx]\\n            [reagent.core :as reagent]))\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"You'll also need to include the stylesheets that ship with \"] [:code [:<> \"jsxgraph\"]] [:<> \". If\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"you're using Clerk\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and \"] [:a {:href \"https://github.com/mentat-collective/clerk-utils\"} [:code [:<> \"clerk-utils\"]]] [:<> \", add\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"this form to \"] [:code [:<> \"dev/user.clj\"]] [:<> \":\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"(mentat.clerk-utils.css/set-css!\\n \\\"https://cdn.jsdelivr.net/npm/jsxgraph@1.5.0/distrib/jsxgraph.css\\\")\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"Otherwise find some way to load this CSS file in your project's header.\"]] [:p [:<> \"The main entrypoint to the library is the \"] [:code [:<> \"jsxgraph.core/JSXGraph\"]] [:<> \" component.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Each class in the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:<> \"JSXGraph API\"]] [:<> \" has a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"corresponding component bound as \"] [:code [:<> \"jsx/ClassName\"]] [:<> \". Use these to build a simple\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"arrow and drag it around by its point:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph {:boundingbox [-2 2 2 -2] :axis true}\\n  [jsx/Arrow {:name \\\"A\\\" :size 4\\n              :parents [[0 0] [1 1]]}]])\", :nextjournal/opts {:loc {:line 237, :end-line 240, :column 1, :end-column 41}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:boundingbox [-2 2 2 -2], :axis true} [jsx/Arrow {:name \"A\", :size 4, :parents [[0 0] [1 1]]}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5drWBHigKQuJAnpfqrUT49kCnTyXNC\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"This guide assumes that you're coming at \"] [:code [:<> \"JSXGraph\"]] [:<> \" for the first time\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"through \"] [:code [:<> \"JSXGraph.cljs\"]] [:<> \". If you're coming from JavaScript, OR if you're\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"attempting to port \"] [:a {:href \"http://jsxgraph.org/wp/about/index.html\"} [:<> \"one of the many JSXGraph\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"examples\"]] [:<> \", you'll absolutely need to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"read \"] [:a {:href \"#JSXGraph%20vs%20JSXGraph.cljs\"} [:<> \"JSXGraph vs JSXGraph.cljs\"]] [:<> \" below.\"]] [:blockquote [:p [:<> \"If you're not familiar with React or Reagent, or what a \\\"component\\\" is,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"please give the \"] [:a {:href \"https://reagent-project.github.io/\"} [:<> \"Reagent homepage\"]] [:<> \" a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"read. If this is your first Clojurescript experience, come say hi to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"me (@sritchie) in the \"] [:a {:href \"http://clojurians.net/\"} [:<> \"Clojurians Slack\"]] [:<> \" and I'll\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"get you started.\"]]] [\"h2\" {:id \"guides\"} [:<> \"Guides\"]] [:p [:<> \"A \"] [:code [:<> \"JSXGraph\"]] [:<> \" construction consists of a \\\"board\\\" populated by some number of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"\\\"elements\\\", where an element is an instance of one of the classes described\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:<> \"JSXGraph API docs\"]] [:<> \".\"]] [:p [:<> \"The \"] [:a {:href \"https://reactjs.org/\"} [:<> \"React\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"/ \"] [:a {:href \"https://reagent-project.github.io/\"} [:<> \"Reagent\"]] [:<> \" data model is \\\"declarative\\\".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"This means that you create and populate a board by listing, in order, the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"elements that you want to appear on the board.\"]] [\"h3\" {:id \"creating-your-first-board\"} [:<> \"Creating Your First Board\"]] [:p [:<> \"Declare a board with the \"] [:code [:<> \"jsx/JSXGraph\"]] [:<> \" component:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph {:axis true}])\", :nextjournal/opts {:loc {:line 269, :end-line 270, :column 1, :end-column 30}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:axis true}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dsUogQdf9ivQDtr3PrbtJvUW1ibWh\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The component takes\"]] [:ul [:li [:<> [:<> \"a \"] [:code [:<> \"keyword => value\"]] [:<> \" map of attributes (see the \"] [:code [:<> \"attributes\"]] [:<> \" section under\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"Parameters\"]] [:<> \" at \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.JSXGraph.html\"} [:<> \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"page\"]] [:<> \") for allowed\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"values\"]]] [:li [:<> [:<> \"Any number of child components.\"]]]] [:p [:<> \"Child components are added to the board in the order that they're listed. A\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"full re-render is triggered any time any of the properties of the board or\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"any child component changes.\"]] [:p [:<> \"For example, here's a board with two \"] [:code [:<> \"jsx/Point\"]] [:<> \"s and a \"] [:code [:<> \"jsx/Arrow\"]] [:<> \" between\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"them:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph {:boundingbox [-3 3 3 -3] :axis true}\\n  [jsx/Point {:name \\\"A\\\" :size 1 :parents [-1 1]}]\\n  [jsx/Point {:id \\\"B\\\" :name \\\"BEE!\\\" :size 1 :parents [2 -1]}]\\n  [jsx/Arrow {:size 4\\n              :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 287, :end-line 292, :column 1, :end-column 37}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:boundingbox [-3 3 3 -3], :axis true} [jsx/Point {:name \"A\", :size 1, :parents [-1 1]}] [jsx/Point {:id \"B\", :name \"BEE!\", :size 1, :parents [2 -1]}] [jsx/Arrow {:size 4, :parents [\"A\" \"B\"]}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dqxokgKfFPdjbSVDrtaevdmNq58tv\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Note these details:\"]] [:ul [:li [:<> [:<> \"The \"] [:code [:<> \"Point\"]] [:<> \" instances declare their initial coordinates with a vector\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"supplied via the \"] [:code [:<> \":parents\"]] [:<> \" key. (All elements require parents.) This leaves\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"them free to move! Drag each \"] [:code [:<> \"Point\"]] [:<> \" around and see.\"]]] [:li [:<> [:<> \"The \"] [:code [:<> \"Arrow\"]] [:<> \" sets its \"] [:code [:<> \":parents\"]] [:<> \" to points \"] [:code [:<> \"\\\"A\\\"\"]] [:<> \" and \"] [:code [:<> \"\\\"B\\\"\"]] [:<> \" using their IDs.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"This creates a constraint, where the \"] [:code [:<> \"Arrow\"]] [:<> \" can only be moved by moving\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the points.\"]]] [:li [:<> [:<> \"The second \"] [:code [:<> \"Point\"]] [:<> \" has a \"] [:code [:<> \":name\"]] [:<> \" different from its \"] [:code [:<> \":id\"]] [:<> \". This allowed us\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to use the \"] [:code [:<> \":name\"]] [:<> \" for the second \"] [:code [:<> \"Point\"]] [:<> \"'s label, and the \"] [:code [:<> \":id\"]] [:<> \" for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"reference by \"] [:code [:<> \"Arrow\"]] [:<> \".\"]]]] [:p [:<> \"You can also refer to elements by their classname, written as either a string or a keyword:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph {:boundingbox [-3 3 3 -3] :axis true}\\n  [:point {:name \\\"A\\\" :size 1 :parents [-1 1]}]\\n  [\\\"point\\\" {:id \\\"B\\\" :name \\\"BEE!\\\" :size 1 :parents [2 -1]}]\\n  [:arrow {:size 4\\n           :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 308, :end-line 313, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:boundingbox [-3 3 3 -3], :axis true} [:point {:name \"A\", :size 1, :parents [-1 1]}] [\"point\" {:id \"B\", :name \"BEE!\", :size 1, :parents [2 -1]}] [:arrow {:size 4, :parents [\"A\" \"B\"]}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dtesEA5BcRaUbZfazSy9QGWAiZyik\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:blockquote [:p [:<> \"Note that this only works if you insert the element as a direct child of a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"jsx/JSXGraph\"]] [:<> \" component. When writing \"] [:a {:href \"#Custom%20Components\"} [:<> \"Custom\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Components\"]] [:<> \" you'll need to write out the full\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"jsx/<ClassName>\"]] [:<> \" form.\"]]] [\"h3\" {:id \"event-listeners\"} [:<> \"Event Listeners\"]] [:p [:code [:<> \"JSXGraph\"]] [:<> \" elements fire events during various updates and user interactions.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"To get data out of the element, pass a map of \"] [:code [:<> \"{<event-name> <handling-fn>}\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to the element via the \"] [:code [:<> \":on\"]] [:<> \" key.\"]] [:p [:<> \"a \"] [:code [:<> \"Point\"]] [:<> \" exposes its coordinates\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"via \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.CoordsElement.html#X\"} [:code [:<> \"X()\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.CoordsElement.html#X\"} [:code [:<> \"Y()\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"methods.\"]] [:p [:<> \"This example registers a function that updates a \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md#intro-to-atoms\"} [:<> \"reactive\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"atom\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"!state\"]] [:<> \" every time the point fires a \"] [:code [:<> \"\\\"drag\\\"\"]] [:<> \" event, and renders the current\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"value of \"] [:code [:<> \"!state\"]] [:<> \" each time it changes.\"]] [:p [:<> \"Drag the point around and the watch the state update:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!state  (reagent/atom {:x 0 :y 0})\\n    update! (fn [p]\\n              (swap! !state assoc\\n                     :x (.X p)\\n                     :y (.Y p)))]\\n   [:<>\\n    [:pre (str @!state)]\\n    [jsx/JSXGraph {:axis true}\\n     [:point\\n      {:parents [0 0]\\n       :on {:drag update!}}]]]))\", :nextjournal/opts {:loc {:line 338, :end-line 350, :column 1, :end-column 33}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (reagent/with-let [!state (reagent/atom {:x 0, :y 0}) update! (fn [p] (swap! !state assoc :x (.X p) :y (.Y p)))] [:<> [:pre (str (clojure.core/deref !state))] [jsx/JSXGraph {:axis true} [:point {:parents [0 0], :on {:drag update!}}]]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5ds2ModLmTKgDquf1jk3v4n9dGzt5F\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The lovely thing about this data model is that other parts of your\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"application outside of \"] [:code [:<> \"JSXGraph\"]] [:<> \" can read from this state as well.\"]] [\"h3\" {:id \"functions-as-parents\"} [:<> \"Functions as Parents\"]] [:p [:<> \"Many \"] [:code [:<> \"Element\"]] [:<> \" types can take functions as parents. This feature allows you\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to bind an \"] [:code [:<> \"Element\"]] [:<> \"'s coordinate to some external state, like the state\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"persisted above in \"] [:code [:<> \"!state\"]] [:<> \".\"]] [:p [:<> \"This example adds a first free \"] [:code [:<> \"Point\"]] [:<> \" named \"] [:code [:<> \"\\\"A\\\"\"]] [:<> \", and a second \"] [:code [:<> \"Point\"]] [:<> \" with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"position constrained to always equal \"] [:code [:<> \"[cos(A_x), sin(A_y)]\"]] [:<> \".\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!state  (reagent/atom {:x 0 :y 0})\\n    update! (fn [p]\\n              (swap! !state assoc\\n                     :x (.X p)\\n                     :y (.Y p)))\\n    cos-x (fn [] (Math/cos (:x @!state)))\\n    sin-y (fn [] (Math/sin (:y @!state)))]\\n   [:<>\\n    [:pre (str @!state)]\\n    [jsx/JSXGraph {:axis true}\\n     [jsx/Point\\n      {:parents [0 0]\\n       :name \\\"A\\\"\\n       :on {:drag update!}}]\\n     [jsx/Point\\n      {:parents [cos-x sin-y]\\n       :name \\\"[cos A_x, sin A_y]\\\"}]]]))\", :nextjournal/opts {:loc {:line 364, :end-line 382, :column 1, :end-column 40}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (reagent/with-let [!state (reagent/atom {:x 0, :y 0}) update! (fn [p] (swap! !state assoc :x (.X p) :y (.Y p))) cos-x (fn [] (Math/cos (:x (clojure.core/deref !state)))) sin-y (fn [] (Math/sin (:y (clojure.core/deref !state))))] [:<> [:pre (str (clojure.core/deref !state))] [jsx/JSXGraph {:axis true} [jsx/Point {:parents [0 0], :name \"A\", :on {:drag update!}}] [jsx/Point {:parents [cos-x sin-y], :name \"[cos A_x, sin A_y]\"}]]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5du9LyPdYPFnvWHZnssaA3JJBnpz69\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:blockquote [:p [:<> \"There is a \\\"gotcha\\\" here! If you use a \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md#intro-to-atoms\"} [:<> \"reactive\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"atom\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and access its value somewhere in your component, any change to the atom\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"will force the board to re-render.\"]] [:p [:<> \"If you do this you need to be careful to move any functions you want to use\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:em [:<> \"outside\"]] [:<> \" of the component. Otherwise the board will erase and re-mount\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"every component every time the atom's value changes.\"]]] [\"h3\" {:id \"geonext-syntax\"} [:<> \"GEONExT Syntax\"]] [:p [:<> \"Another way to declare dependencies between \"] [:code [:<> \"Element\"]] [:<> \"s is to use \\\"GEONExT\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"syntax\\\". I can't find good documentation for this anywhere, but its\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"referenced \"] [:a {:href \"https://jsxgraph.org/wiki/index.php?title=Point#GEONExT_syntax\"} [:<> \"here on the \"] [:code [:<> \"JSXGraph\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"wiki\"]] [:<> \".\"]] [:p [:<> \"This example adds a first free \"] [:code [:<> \"Point\"]] [:<> \" named \"] [:code [:<> \"\\\"A\\\"\"]] [:<> \", and a second \"] [:code [:<> \"Point\"]] [:<> \" with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"its \"] [:code [:<> \"Y\"]] [:<> \" coordinate free and its \"] [:code [:<> \"X\"]] [:<> \" coordinate constrained to always equal\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"A_x + A_y\"]] [:<> \":\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph {:axis true}\\n  [jsx/Point {:name \\\"A\\\" :parents [0 0]}]\\n  [jsx/Point {:name \\\"B\\\" :parents [\\\"X(A) + Y(A)\\\" 2]}]])\", :nextjournal/opts {:loc {:line 405, :end-line 408, :column 1, :end-column 55}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:axis true} [jsx/Point {:name \"A\", :parents [0 0]}] [jsx/Point {:name \"B\", :parents [\"X(A) + Y(A)\" 2]}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5drndPicxtNJDaMiZhV4twa6cxe7a3\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:blockquote [:p [:<> \"There is currently \"] [:a {:href \"https://github.com/jsxgraph/jsxgraph/issues/489\"} [:<> \"a bug\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"with this feature, where re-rendering a board will trigger an error. You\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"may need to refresh your page if this occurs.\"]]] [\"h3\" {:id \"component-refs\"} [:<> \"Component Refs\"]] [:p [:<> \"If you need access to the actual instance of a \"] [:code [:<> \"JSXGraph\"]] [:<> \" element, pass a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"callback function using the \"] [:code [:<> \":ref\"]] [:<> \" keyword. The \"] [:code [:<> \":ref\"]] [:<> \" function receives an\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"instance of the element when it is mounted, and \"] [:code [:<> \"nil\"]] [:<> \" when the board is\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"destroyed or the element is remounted.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph {:axis true}\\n  [:point\\n   {:parents [1 1]\\n    :ref (fn [p]\\n           (when p\\n             (.setName p \\\"NAME!\\\")))}]])\", :nextjournal/opts {:loc {:line 421, :end-line 427, :column 1, :end-column 40}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:axis true} [:point {:parents [1 1], :ref (fn [p] (when p (.setName p \"NAME!\")))}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5drzYMLexF6mmwCyfiQVa2jVbdoVvr\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"You might use this feature to store a reference to some element that doesn't\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"fire its own events, so that you can query its value when some other element\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"fires.\"]] [:p [:<> \"The \"] [:code [:<> \"RiemannSum\"]] [:<> \" element has this property. The example below uses \"] [:code [:<> \":ref\"]] [:<> \" to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"store a reference to the \"] [:code [:<> \"RiemannSum\"]] [:<> \", so that the \"] [:code [:<> \"Text\"]] [:<> \" element in the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"bottom left of the scene can query it inside its parent function. See the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"inline comments for more detail.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (let [!state (atom {:slider 4 :riemann nil})\\n       f      (fn [x]\\n                ;; 1/2 x^2 - 2x\\n                (- (* 0.5 x x)\\n                   (* 2 x)))]\\n   [jsx/JSXGraph {:boundingbox [-3 7 5 -3]\\n                  :axis true}\\n    [jsx/Slider\\n     {:parents [[0 4] [3 4] [0 (:slider @!state) 10]]\\n      :on {:drag #(swap! !state assoc :slider (.Value %))}}]\\n    [jsx/RiemannSum\\n     {:parents [f #(:slider @!state) \\\"middle\\\" -2 5]\\n      :fillOpacity 0.4\\n      ;; When this element mounts, a reference to the `RiemannSum` instance is\\n      ;; stored under the `:riemann` key in the `!state` atom.\\n      :ref (fn [elem]\\n             (when elem\\n               (swap! !state assoc :riemann elem)))}]\\n    [jsx/FunctionGraph\\n     {:parents [f -2 5]}]\\n    [jsx/Text\\n     {:parents [-2 -2 (fn []\\n                        ;; The `:riemann` key has been populated by the time the\\n                        ;; `Text` component is mounted, so we don't need to\\n                        ;; guard against a `nil` value here.\\n                        (let [v (.Value (:riemann @!state))]\\n                          (str \\\"Sum: \\\" (.toFixed v 4))))]}]]))\", :nextjournal/opts {:loc {:line 438, :end-line 465, :column 1, :end-column 63}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (let [!state (atom {:slider 4, :riemann nil}) f (fn [x] (- (* 0.5 x x) (* 2 x)))] [jsx/JSXGraph {:boundingbox [-3 7 5 -3], :axis true} [jsx/Slider {:parents [[0 4] [3 4] [0 (:slider (clojure.core/deref !state)) 10]], :on {:drag (fn* [%1] (swap! !state assoc :slider (.Value %1)))}}] [jsx/RiemannSum {:parents [f (fn* [] (:slider (clojure.core/deref !state))) \"middle\" -2 5], :fillOpacity 0.4, :ref (fn [elem] (when elem (swap! !state assoc :riemann elem)))}] [jsx/FunctionGraph {:parents [f -2 5]}] [jsx/Text {:parents [-2 -2 (fn [] (let [v (.Value (:riemann (clojure.core/deref !state)))] (str \"Sum: \" (.toFixed v 4))))]}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dtdNw8E92NpLFv5GTY6SrK2SPMLeC\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"custom-components\"} [:<> \"Custom Components\"]] [:p [:<> \"If you want to reuse some pattern in your board declaration, you can create a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"new Reagent component that bundles together a sequence of primitives,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"possibly closing over some state that these elements need.\"]] [:blockquote [:p [:<> \"See the \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/CreatingReagentComponents.md#the-three-ways\"} [:<> \"Reagent Component\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Guide\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for more detail.\"]]] [:p [:<> \"Create a component by writing a function that takes some number of arguments\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and returns a vector of the form \"] [:code [:<> \"[:<> <any-number-of-elements>]\"]] [:<> \". Here is a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"component that accepts 3 vertex point definitions and creates a triangle:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defn Triangle [a b c]\\n   [:<>\\n    [jsx/Point {:name \\\"A\\\" :size 4 :parents a}]\\n    [jsx/Point {:name \\\"B\\\" :size 4 :parents b}]\\n    [jsx/Point {:name \\\"C\\\" :size 4 :parents c}]\\n    [jsx/Polygon {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"]}]]))\", :nextjournal/opts {:loc {:line 481, :end-line 487, :column 1, :end-column 46}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (defn Triangle [a b c] [:<> [jsx/Point {:name \"A\", :size 4, :parents a}] [jsx/Point {:name \"B\", :size 4, :parents b}] [jsx/Point {:name \"C\", :size 4, :parents c}] [jsx/Polygon {:parents [\"A\" \"B\" \"C\"]}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dsLgmGK9EWog9dF1TRYEyYFCPkqTP\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Use your component by including a vector of the form \"] [:code [:<> \"[ComponentName  <arguments>]\"]] [:<> \" as a child if your \"] [:code [:<> \"JSXGraph\"]] [:<> \" component;\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph {:axis true}\\n  [Triangle\\n   [-1 -1] [1 1] [-1 1]]])\", :nextjournal/opts {:loc {:line 492, :end-line 495, :column 1, :end-column 27}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:axis true} [Triangle [-1 -1] [1 1] [-1 1]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dsvpngyL9LGjuYmFbJd94Jeo8HcD4\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"You can abstract this example further by writing your own version of a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"Polygon\"]] [:<> \" element that takes a map of ID => a point's \"] [:code [:<> \":parents\"]] [:<> \" entry:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defn MyPolygon [id->parents]\\n   (let [ids (into [] (keys id->parents))\\n         points (for [[id parents] id->parents]\\n                  [jsx/Point {:name id :parents parents}])]\\n     ;; Build [:<> ...points...], then add `[jsx/Polygon ...]` to the end of the\\n     ;; list.\\n     (-> (into [:<>] points)\\n         (conj [jsx/Polygon {:parents ids}])))))\", :nextjournal/opts {:loc {:line 500, :end-line 508, :column 1, :end-column 49}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (defn MyPolygon [id->parents] (let [ids (into [] (keys id->parents)) points (for [[id parents] id->parents] [jsx/Point {:name id, :parents parents}])] (-> (into [:<>] points) (conj [jsx/Polygon {:parents ids}])))))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dr8iHwKY4Z98CZQBK36fKCgJcdKuY\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Re-define a version of \"] [:code [:<> \"Triangle\"]] [:<> \" that uses \"] [:code [:<> \"MyPolygon\"]] [:<> \":\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defn Triangle* [a b c]\\n   [MyPolygon {:A a :B b :C c}]))\", :nextjournal/opts {:loc {:line 512, :end-line 514, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (defn Triangle* [a b c] [MyPolygon {:A a, :B b, :C c}]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dtf4VYSnzPqzk7zwmnpAzGw414KKA\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"These elements should look exactly the same as the previous \"] [:code [:<> \"Triangle\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"definition:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph {:axis true}\\n  [Triangle*\\n   [-1 -1] [1 1] [-1 1]]])\", :nextjournal/opts {:loc {:line 519, :end-line 522, :column 1, :end-column 27}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:axis true} [Triangle* [-1 -1] [1 1] [-1 1]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dtskvLqxumAnqYjNWKJaWmqWMg6pK\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"state-across-multiple-boards\"} [:<> \"State across Multiple Boards\"]] [:p [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md\"} [:<> \"Reagent's state\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"model\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"makes it easy to get data out of various elements on the board. Storing state\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in an external atom allows you to use state updates from one board to trigger\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"updates on another board.\"]] [:p [:<> \"The following example places a free point one board (the parent), and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"designates a second board as a child with \"] [:code [:<> \"addChild\"]] [:<> \". The second board will\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"hold a point with location fixed by the first point. Any interaction with the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"parent board will trigger updates to every element on the child board.\"]] [:p [:<> \"First, our state:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defonce !state\\n   (atom {:x 1 :y 1})))\", :nextjournal/opts {:loc {:line 539, :end-line 541, :column 1, :end-column 24}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (defonce !state (atom {:x 1, :y 1})))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dqr1C441npWBuZq9HKrCa51HrxLLG\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Then the parent board with its free point. We'll use a \"] [:code [:<> \":ref\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"function (see \"] [:a {:href \"#Component%20Refs\"} [:<> \"Component Refs\"]] [:<> \") to perform the \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.Board.html#addChild\"} [:code [:<> \"addChild\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"mutation\"]] [:<> \":\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (let [update! (fn [p]\\n                 (swap! !state assoc\\n                        :x (.X p)\\n                        :y (.Y p)))]\\n   [jsx/JSXGraph\\n    {:axis true\\n     :style {:height \\\"300px\\\"}\\n     :ref (fn [b]\\n            (when b (swap! !state assoc :board b)))}\\n    [jsx/Point {:on {:drag update!}\\n                :parents [(:x @!state) (:y @!state)]}]]))\", :nextjournal/opts {:loc {:line 547, :end-line 558, :column 1, :end-column 58}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (let [update! (fn [p] (swap! !state assoc :x (.X p) :y (.Y p)))] [jsx/JSXGraph {:axis true, :style {:height \"300px\"}, :ref (fn [b] (when b (swap! !state assoc :board b)))} [jsx/Point {:on {:drag update!}, :parents [(:x (clojure.core/deref !state)) (:y (clojure.core/deref !state))]}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dtfsfiiaR5gRBt8gZzzXJEX1tjURQ\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The child board will call \"] [:code [:<> \"addChild\"]] [:<> \" in its \"] [:code [:<> \":ref\"]] [:<> \" function. Note that the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"parents of the second point are no-argument functions that access the \"] [:code [:<> \":x\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and \"] [:code [:<> \":y\"]] [:<> \" coordinates stored in \"] [:code [:<> \"!state\"]] [:<> \". (The next example is folded so you\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"can see both boards at once. Click \\\"show code\\\" to unfold.)\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph\\n  {:axis true\\n   :style {:height \\\"300px\\\"}\\n   :ref (fn [b]\\n          (when b\\n            (.addChild (:board @!state) b)))}\\n  [jsx/Point {:parents\\n              [#(:x @!state) #(:y @!state)]}]])\", :nextjournal/opts {:loc {:line 565, :end-line 574, :column 1, :end-column 48}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-folded-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-folded-code, :hash \"5dtDa1QgftrPjN8Mut4jai69mpkeDL\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:axis true, :style {:height \"300px\"}, :ref (fn [b] (when b (.addChild (:board (clojure.core/deref !state)) b)))} [jsx/Point {:parents [(fn* [] (:x (clojure.core/deref !state))) (fn* [] (:y (clojure.core/deref !state)))]}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dt1o4XL8VbXemkMJAKcTGmhT3k4qX\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h2\" {:id \"jsxgraph.cljs-via-sci\"} [:<> \"JSXGraph.cljs via SCI\"]] [:p [:code [:<> \"JSXGraph.cljs\"]] [:<> \" is compatible with \"] [:a {:href \"https://github.com/babashka/sci\"} [:<> \"SCI, the Small Clojure\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Interpreter\"]] [:<> \".\"]] [:p [:<> \"To install \"] [:code [:<> \"JSXGraph.cljs\"]] [:<> \" into your SCI context, require\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/jsxgraph.cljs/CURRENT/api/jsxgraph.sci\"} [:code [:<> \"jsxgraph.sci\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"namespace and call \"] [:code [:<> \"jsxgraph.sci/install!\"]] [:<> \":\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"(ns myproject.sci-extensions\\n  (:require [jsxgraph.sci]))\\n\\n(jsxgraph.sci/install!)\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"If you want more granular control, see the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/jsxgraph.cljs/CURRENT/api/jsxgraph.sci\"} [:<> \"cljdoc page for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"jsxgraph.sci\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for an SCI config and distinct SCI namespace objects that you can piece\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"together.\"]] [:blockquote [:p [:<> \"Note that \"] [:code [:<> \"JSXGraph.cljs\"]] [:<> \" does not ship with a dependency on SCI, so you'll\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"need to install your own version.\"]]] [\"h2\" {:id \"jsxgraph.cljs-via-clerk\"} [:<> \"JSXGraph.cljs via Clerk\"]] [:p [:<> \"Using \"] [:code [:<> \"JSXGraph.cljs\"]] [:<> \" with Nextjournal's \"] [:a {:href \"https://clerk.vision/\"} [:<> \"Clerk\"]] [:<> \" gives\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"you the ability to write notebooks like this one with embedded JSXGraph\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"constructions.\"]] [:p [:<> \"Doing this requires that you generate a custom ClojureScript build for your\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Clerk project. The easiest way to do this for an existing project is with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://clerk-utils.mentat.org/\"} [:code [:<> \"clerk-utils\"]] [:<> \" project\"]] [:<> \". Follow the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"instructions on the \"] [:a {:href \"https://clerk-utils.mentat.org/#custom-clojurescript-builds\"} [:code [:<> \"clerk-utils\"]] [:<> \" guide for custom\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"ClojureScript\"]] [:<> \".\"]] [:p [:<> \"If this is your first time using Clerk, use the \"] [:a {:href \"#project-template\"} [:code [:<> \"jsxgraph/clerk\"]] [:<> \" template\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"described below\"]] [:<> \" to generate a new project with all steps\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"described in \"] [:a {:href \"#jsxgraph.cljs-via-sci\"} [:<> \"\\\"JSXGraph.cljs via SCI\\\"\"]] [:<> \" already\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"completed.\"]] [\"h2\" {:id \"project-template\"} [:<> \"Project Template\"]] [:p [:code [:<> \"JSXGraph.cljs\"]] [:<> \" includes\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"a \"] [:a {:href \"https://github.com/seancorfield/deps-new\"} [:code [:<> \"deps-new\"]]] [:<> \" template called\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/tree/main/resources/jsxgraph/clerk\"} [:code [:<> \"jsxgraph/clerk\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"that makes it easy to configure a new Clerk project with everything described\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in \"] [:a {:href \"#jsxgraph.cljs-via-sci\"} [:<> \"\\\"JSXGraph.cljs via SCI\\\"\"]] [:<> \" already configured.\"]] [:p [:<> \"First, install the \"] [:a {:href \"https://github.com/seancorfield/deps-new\"} [:code [:<> \"deps-new\"]]] [:<> \" tool:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"clojure -Ttools install io.github.seancorfield/deps-new '{:git/tag \\\"v0.5.0\\\"}' :as new\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"To create a new Clerk project based on\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/tree/main/resources/jsxgraph/clerk\"} [:code [:<> \"jsxgraph/clerk\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in a folder called \"] [:code [:<> \"my-notebook-project\"]] [:<> \", run the following command:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div.markdown-viewer [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"clojure -Sdeps '{:deps {io.github.mentat-collective/jsxgraph.cljs {:git/sha \\\"83ce94fdd54326dd3a355e283a3a216d08cc2801\\\"}}}' \\\\\\n-Tnew create \\\\\\n:template jsxgraph/clerk \\\\\\n:name myusername/my-notebook-project\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The \"] [:code [:<> \"README.md\"]] [:<> \" file in the generated project contains information on how to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"develop within the new project.\"]] [:p [:<> \"If you have an existing Clerk notebook project and are considering adding\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"JSXGraph.cljs\"]] [:<> \", you might consider\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"using \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/tree/main/resources/jsxgraph/clerk\"} [:code [:<> \"jsxgraph/clerk\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to get some ideas on how to structure your own project.\"]] [\"h2\" {:id \"advanced-examples\"} [:<> \"Advanced Examples\"]] [:p [:<> \"This section explores \"] [:code [:<> \"JSXGraph\"]] [:<> \" by porting a few of the more complex\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"examples from the \"] [:a {:href \"http://jsxgraph.org/wp/about/index.html\"} [:<> \"Example\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"directory\"]] [:<> \" and inventing a few of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"our own constructions.\"]] [\"h3\" {:id \"archimedean-spiral\"} [:<> \"Archimedean Spiral\"]] [:p [:<> \"This example allows for interactive exploration of the \"] [:a {:href \"https://en.wikipedia.org/wiki/Archimedean_spiral\"} [:<> \"Archimedean\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Spiral\"]] [:<> \". This is a curve of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the form\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"r=a + b \\\\cdot \\\\theta.\", :nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn nextjournal.clerk.render/render-katex, :hash \"5dtLYB93Mi3NowoYurf1Ue76yrXtDC\"}}] [:p [:<> \"The board below includes interactive sliders for the \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"a\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5duDUzBYStgL791AjypieLzKMEbuJo\"}}] [:<> \" and \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"b\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5duDUzBYStgL791AjypieLzKMEbuJo\"}}] [:<> \" parameters,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and plots a polar curve for every pair of \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"(r, \\\\theta)\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5duDUzBYStgL791AjypieLzKMEbuJo\"}}] [:<> \". See the comments in\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the source code for details on our choices.\"]] [:blockquote [:p [:<> \"The original example lives at \"] [:a {:href \"http://jsxgraph.org/wiki/index.php/Archimedean_spiral\"} [:<> \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"page\"]] [:<> \".\"]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n ;; The `!state` atom is populated with the initial slider positions. Note that\\n ;; we are NOT using a `reagent/atom`, because we don't need Reagent to perform\\n ;; any re-renders when the state changes. Instead, state changes are picked up\\n ;; by the function we provide to the curve below.\\n (let [!state (atom {:a 1 :b 0.25})]\\n   [jsx/JSXGraph\\n    {:boundingbox [-10 10 10 -10]\\n     :showCopyright false\\n     ;; This option prevents the spiral from bulging out on the left and right\\n     ;; side on wider windows by adjusting the provided `:boundingBox`.\\n     :keepAspectRatio true}\\n\\n    ;; Just for fun we are using the keyword form here to define components.\\n    [:slider\\n     {:name \\\"a\\\"\\n      ;; The `:parents` are of the form\\n      ;;\\n      ;; [<left-point> <right-point> [<min> <current> <max>]]\\n      :parents [[1 8] [5 8] [0 (:a @!state) 4]]\\n\\n      ;; Each slider updates a value stored in `!state` above.\\n      :on {:drag #(swap! !state assoc :a (.Value %))}}]\\n    [:slider\\n     {:name \\\"b\\\"\\n      :parents [[1 9] [5 9] [0 (:b @!state) 4]]\\n      :on {:drag #(swap! !state assoc :b (.Value %))}}]\\n    [:curve\\n     {:id \\\"c\\\"\\n      ;; [<r(phi)>, <origin-coords>, <min-phi>, <max-phi>]\\n      :parents [(fn [phi]\\n                  (let [{:keys [a b]} @!state]\\n                    (+ a (* b phi))))\\n                [0 0] 0 (* 8 Math/PI)]\\n      :curveType \\\"polar\\\"\\n      :strokewidth 4}]\\n    ;; Note here that the parents of these elements reference the string-based\\n    ;; IDs of the element they want to target, instead of the actual\\n    ;; instance (like in the original example)\\n    [:glider  {:parents [\\\"c\\\"] :name \\\"g\\\"}]\\n    [:tangent {:parents [\\\"g\\\"] :dash 2 :strokeColor \\\"#a612a9\\\"}]\\n    [:normal  {:parents [\\\"g\\\"] :dash 2 :strokeColor \\\"#a612a9\\\"}]]))\", :nextjournal/opts {:loc {:line 675, :end-line 716, :column 1, :end-column 66}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (let [!state (atom {:a 1, :b 0.25})] [jsx/JSXGraph {:boundingbox [-10 10 10 -10], :showCopyright false, :keepAspectRatio true} [:slider {:name \"a\", :parents [[1 8] [5 8] [0 (:a (clojure.core/deref !state)) 4]], :on {:drag (fn* [%1] (swap! !state assoc :a (.Value %1)))}}] [:slider {:name \"b\", :parents [[1 9] [5 9] [0 (:b (clojure.core/deref !state)) 4]], :on {:drag (fn* [%1] (swap! !state assoc :b (.Value %1)))}}] [:curve {:id \"c\", :parents [(fn [phi] (let [{:keys [a b]} (clojure.core/deref !state)] (+ a (* b phi)))) [0 0] 0 (* 8 Math/PI)], :curveType \"polar\", :strokewidth 4}] [:glider {:parents [\"c\"], :name \"g\"}] [:tangent {:parents [\"g\"], :dash 2, :strokeColor \"#a612a9\"}] [:normal {:parents [\"g\"], :dash 2, :strokeColor \"#a612a9\"}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5ds2EqGcwPRGDxtN7SVFmhZAG4nfWU\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"lissajous-curve\"} [:<> \"Lissajous Curve\"]] [:p [:<> \"From the \"] [:a {:href \"https://en.wikipedia.org//wiki/Lissajous_curve\"} [:<> \"Wikipedia page\"]] [:<> \",\"]] [:blockquote [:p [:<> \"A Lissajous curve (also known as a Lissajous figure or Bowditch curve) is\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the graph of a system of parametric equations\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"x=A\\\\sin(at+\\\\delta),\\\\quad y=B\\\\sin(bt).\", :nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn nextjournal.clerk.render/render-katex, :hash \"5dtLYB93Mi3NowoYurf1Ue76yrXtDC\"}}] [:p [:<> \"which describe \"] [:a {:href \"https://en.wikipedia.org/wiki/Complex_harmonic_motion\"} [:<> \"complex harmonic\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"motion\"]] [:<> \".\"]]] [:p [:<> \"The board below includes interactive sliders for the \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"a\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5duDUzBYStgL791AjypieLzKMEbuJo\"}}] [:<> \", \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"b\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5duDUzBYStgL791AjypieLzKMEbuJo\"}}] [:<> \", \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"A\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5duDUzBYStgL791AjypieLzKMEbuJo\"}}] [:<> \" and \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"B\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5duDUzBYStgL791AjypieLzKMEbuJo\"}}] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"parameters, and plots a parametric curve for every pair of \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"(x y)\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5duDUzBYStgL791AjypieLzKMEbuJo\"}}] [:<> \".\"]] [:p [:<> \"The original example lives at \"] [:a {:href \"http://jsxgraph.org/wiki/index.php/Lissajous_curves\"} [:<> \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"page\"]] [:<> \".\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (let [!state (atom {:a 3 :b 2 :A 3 :B 3 :delta 0})]\\n   [jsx/JSXGraph\\n    {:boundingbox [-8 8 8 -8]\\n     :showCopyright false\\n     :keepAspectRatio true\\n     :axis true}\\n    ;; Interactive Sliders\\n    [:slider\\n     {:name \\\"a\\\" :parents [[2,8],[6,8],[0,3,6]]\\n      :on {:drag #(swap! !state assoc :a (.Value %))}}]\\n    [:slider\\n     {:name \\\"b\\\" :parents [[2,7],[6,7],[0,2,6]]\\n      :on {:drag #(swap! !state assoc :b (.Value %))}}]\\n    [:slider\\n     {:name \\\"A\\\" :parents [[2,6],[6,6],[0,3,6]]\\n      :on {:drag #(swap! !state assoc :A (.Value %))}}]\\n    [:slider\\n     {:name \\\"B\\\" :parents [[2,5],[6,5],[0,3,6]]\\n      :on {:drag #(swap! !state assoc :B (.Value %))}}]\\n    [:slider\\n     {:name \\\"&delta;\\\" :parents [[2,4],[6,4],[0,0,Math.PI]]\\n      :on {:drag #(swap! !state assoc :delta (.Value %))}}]\\n\\n    ;; The Curve!\\n    [:curve\\n     {:parents\\n      ;; [<x-fn>, <y-fn>, <min-t>, <max-y>]\\n      [(fn [t]\\n         (let [{:keys [a A delta]} @!state]\\n           (* A (Math/sin (+ (* a t) delta)))))\\n       (fn [t]\\n         (let [{:keys [b B]} @!state]\\n           (* B (Math/sin (* b t)))))\\n       0\\n       (* 2 Math/PI)]\\n      :strokeColor \\\"#aa2233\\\"\\n      :strokewidth 3}]]))\", :nextjournal/opts {:loc {:line 736, :end-line 773, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (let [!state (atom {:a 3, :b 2, :A 3, :B 3, :delta 0})] [jsx/JSXGraph {:boundingbox [-8 8 8 -8], :showCopyright false, :keepAspectRatio true, :axis true} [:slider {:name \"a\", :parents [[2 8] [6 8] [0 3 6]], :on {:drag (fn* [%1] (swap! !state assoc :a (.Value %1)))}}] [:slider {:name \"b\", :parents [[2 7] [6 7] [0 2 6]], :on {:drag (fn* [%1] (swap! !state assoc :b (.Value %1)))}}] [:slider {:name \"A\", :parents [[2 6] [6 6] [0 3 6]], :on {:drag (fn* [%1] (swap! !state assoc :A (.Value %1)))}}] [:slider {:name \"B\", :parents [[2 5] [6 5] [0 3 6]], :on {:drag (fn* [%1] (swap! !state assoc :B (.Value %1)))}}] [:slider {:name \"&delta;\", :parents [[2 4] [6 4] [0 0 Math.PI]], :on {:drag (fn* [%1] (swap! !state assoc :delta (.Value %1)))}}] [:curve {:parents [(fn [t] (let [{:keys [a A delta]} (clojure.core/deref !state)] (* A (Math/sin (+ (* a t) delta))))) (fn [t] (let [{:keys [b B]} (clojure.core/deref !state)] (* B (Math/sin (* b t))))) 0 (* 2 Math/PI)], :strokeColor \"#aa2233\", :strokewidth 3}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dsxGUZG6RE263hu7ZepJQNMCT7BDv\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"unit-circle\"} [:<> \"Unit Circle\"]] [:p [:<> \"This example uses a custom Reagent component \"] [:code [:<> \"UnitCircle\"]] [:<> \" to inscribe a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"polygon of \"] [:code [:<> \"n\"]] [:<> \" points into the unit circle. \"] [:code [:<> \"UnitCircle\"]] [:<> \" is similar to the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"MyPolygon\"]] [:<> \" implementation above in \"] [:a {:href \"#Custom%20Components\"} [:<> \"Custom\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Components\"]] [:<> \", but generates its own point coordinates\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"internally.\"]] [:p [:<> \"The component below also shows off a case where we \"] [:em [:<> \"do\"]] [:<> \" need to use a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"reagent/atom\"]] [:<> \".\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defn UnitCircle [n]\\n   (let [ids (range n)\\n         i->pt (fn [i]\\n                 (let [angle (* (/ i n) 2 Math/PI)\\n                       x (Math/cos angle)\\n                       y (Math/sin angle)]\\n                   [jsx/Point\\n                    {:name i :size 5 :parents [x y]}]))]\\n     [:<>\\n      (into [:<>] (map i->pt) ids)\\n      [jsx/Polygon\\n       {:parents (mapv str ids)\\n        :borders {:strokeColor \\\"black\\\"}}]])))\", :nextjournal/opts {:loc {:line 786, :end-line 799, :column 1, :end-column 46}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (defn UnitCircle [n] (let [ids (range n) i->pt (fn [i] (let [angle (* (/ i n) 2 Math/PI) x (Math/cos angle) y (Math/sin angle)] [jsx/Point {:name i, :size 5, :parents [x y]}]))] [:<> (into [:<>] (map i->pt) ids) [jsx/Polygon {:parents (mapv str ids), :borders {:strokeColor \"black\"}}]])))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5drxb2e9hAbniASMpb7cnzHNLUzewB\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The board below instantiates the \"] [:code [:<> \"UnitCircle\"]] [:<> \" component using an \"] [:code [:<> \"n\"]] [:<> \" that\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"comes from an interactive slider.\"]] [:p [:<> \"To bind the state, we\"]] [:ul [:li [:<> [:<> \"use \"] [:code [:<> \"reagent/with-let\"]] [:<> \" instead of \"] [:code [:<> \"let\"]]]] [:li [:<> [:code [:<> \"reagent/atom\"]] [:<> \" instead of \"] [:code [:<> \"atom\"]]]]] [:p [:<> \"Doing this will force any component that dereferences \"] [:code [:<> \"!state\"]] [:<> \" to re-render.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"This is what we want! We want a change in the \"] [:code [:<> \"n\"]] [:<> \" slider to trigger the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"drawing of a new \"] [:code [:<> \"UnitCircle\"]] [:<> \", vs previous examples where we wanted to send\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"new information to elements that had rendered a single time on the board.\"]] [:p [:<> \"Drag the slider around and note the slight flicker as the board redraws.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!n    (reagent/atom 6)\\n    ->!n #(reset! !n (.Value %))]\\n   [jsx/JSXGraph\\n    {:boundingbox [-1.5 2 1.5 -2]\\n     :showCopyright false\\n     :keepAspectRatio true}\\n    ;; Any time `!n` is updated by the `->!n` function provided to the slider\\n    ;; below, this component AND the `jsx/Slider` will re-render.\\n    [UnitCircle @!n]\\n    [jsx/Slider\\n     {:name \\\"n\\\"\\n      :snapWidth 1\\n      :on {:drag ->!n}\\n      :parents\\n      [[-1 1.5] [1 1.5] [1 @!n 50]]}]]))\", :nextjournal/opts {:loc {:line 816, :end-line 832, :column 1, :end-column 41}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (reagent/with-let [!n (reagent/atom 6) ->!n (fn* [%1] (reset! !n (.Value %1)))] [jsx/JSXGraph {:boundingbox [-1.5 2 1.5 -2], :showCopyright false, :keepAspectRatio true} [UnitCircle (clojure.core/deref !n)] [jsx/Slider {:name \"n\", :snapWidth 1, :on {:drag ->!n}, :parents [[-1 1.5] [1 1.5] [1 (clojure.core/deref !n) 50]]}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dteYZXgfE9aJqB5CJ8hAuu6K9bjDG\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"riemann-sum\"} [:<> \"Riemann Sum\"]] [:p [:<> \"A \"] [:a {:href \"https://en.wikipedia.org/wiki/Riemann_sum\"} [:<> \"Riemann Sum\"]] [:<> \" is an\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"approximation of the integral of a function (the area under its curve). You\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"generate rectangles whose heights are determined by the values of the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"function, and add up the rectangles to obtain your approximation. Chopping\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the area into more rectangles gives a better estimate.\"]] [:p [:<> \"This example plots \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"\\\\sin(x)\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5duDUzBYStgL791AjypieLzKMEbuJo\"}}] [:<> \" along with a visual representation of a Riemann\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"sum. The board contains sliders to change the left and right bounds of the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"function, as well as the number of rectangles in the (middle) Riemann sum.\"]] [:blockquote [:p [:<> \"The original example lives at \"] [:a {:href \"https://jsxgraph.org/wiki/index.php/Riemann_sums\"} [:<> \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"page\"]] [:<> \".\"]]] [:p [:<> \"First we'll create our \"] [:code [:<> \"!state\"]] [:<> \" outside of the \"] [:code [:<> \"reagent/with-let\"]] [:<> \" block. This\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"will let other components access the state.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defonce !r-state\\n   (reagent/atom\\n    {:start -3 :end (* 2 Math/PI) :n 10})))\", :nextjournal/opts {:loc {:line 852, :end-line 855, :column 1, :end-column 44}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (defonce !r-state (reagent/atom {:start -3, :end (* 2 Math/PI), :n 10})))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dsrJc2pPXJKzZiZzioCTuVsWJroeL\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The board uses \"] [:code [:<> \"reagent/with-let\"]] [:<> \"; this will prevent the dereference calls\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"inside the bindings from triggering a component re-render.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [init         @!r-state\\n    start-update #(swap! !r-state assoc :start (.Value %))\\n    end-update   #(swap! !r-state assoc :end (.Value %))\\n    n-update     #(swap! !r-state assoc :n (.Value %))\\n    nf           #(:n @!r-state)\\n    startf       #(:start @!r-state)\\n    endf         #(:end @!r-state)\\n    sin          #(Math/sin %)]\\n   [jsx/JSXGraph\\n    {:boundingbox [-8 4 8 -5]\\n     :showCopyright false\\n     :axis true}\\n    [jsx/Slider {:name \\\"start\\\"\\n                 :on {:drag start-update}\\n                 :parents\\n                 [[1 3.5] [5 3.5] [-10 (:start init) 0]]}]\\n    [jsx/Slider {:name \\\"end\\\"\\n                 :on {:drag end-update}\\n                 :parents\\n                 [[1 2.5] [5 2.5] [0 (:end init) 10]]}]\\n    [jsx/Slider {:name \\\"n\\\"\\n                 :snapWidth 1\\n                 :on {:drag n-update}\\n                 :parents\\n                 [[1 1.5] [5 1.5] [1 (:n init) 100]]}]\\n\\n    [jsx/RiemannSum\\n     {:parents [sin nf \\\"middle\\\" startf endf]\\n      ;; Store a reference to the `RiemannSum` instance so that we can query it\\n      ;; from our text below.\\n      :ref (fn [elem]\\n             (when elem\\n               (swap! !r-state assoc :riemann elem)))}]\\n\\n    ;; Graph the actual function.\\n    [jsx/FunctionGraph {:parents [sin startf endf]}]\\n    [jsx/Text\\n     {:parents\\n      [-3.5 3 (fn []\\n                (let [v (.Value (:riemann @!r-state))]\\n                  (str \\\"Riemann Sum: \\\"\\n                       (.toFixed v 4))))]}]\\n    [jsx/Text\\n     {:parents\\n      [-3.5 2.5 (fn []\\n                  (let [{:keys [start end]} @!r-state]\\n                    (str \\\"Actual Integral: \\\"\\n                         (-> (- (- (Math/cos end))\\n                                (- (Math/cos start)))\\n                             (.toFixed 4)))))]}]]))\", :nextjournal/opts {:loc {:line 860, :end-line 911, :column 1, :end-column 52}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (reagent/with-let [init (clojure.core/deref !r-state) start-update (fn* [%1] (swap! !r-state assoc :start (.Value %1))) end-update (fn* [%1] (swap! !r-state assoc :end (.Value %1))) n-update (fn* [%1] (swap! !r-state assoc :n (.Value %1))) nf (fn* [] (:n (clojure.core/deref !r-state))) startf (fn* [] (:start (clojure.core/deref !r-state))) endf (fn* [] (:end (clojure.core/deref !r-state))) sin (fn* [%1] (Math/sin %1))] [jsx/JSXGraph {:boundingbox [-8 4 8 -5], :showCopyright false, :axis true} [jsx/Slider {:name \"start\", :on {:drag start-update}, :parents [[1 3.5] [5 3.5] [-10 (:start init) 0]]}] [jsx/Slider {:name \"end\", :on {:drag end-update}, :parents [[1 2.5] [5 2.5] [0 (:end init) 10]]}] [jsx/Slider {:name \"n\", :snapWidth 1, :on {:drag n-update}, :parents [[1 1.5] [5 1.5] [1 (:n init) 100]]}] [jsx/RiemannSum {:parents [sin nf \"middle\" startf endf], :ref (fn [elem] (when elem (swap! !r-state assoc :riemann elem)))}] [jsx/FunctionGraph {:parents [sin startf endf]}] [jsx/Text {:parents [-3.5 3 (fn [] (let [v (.Value (:riemann (clojure.core/deref !r-state)))] (str \"Riemann Sum: \" (.toFixed v 4))))]}] [jsx/Text {:parents [-3.5 2.5 (fn [] (let [{:keys [start end]} (clojure.core/deref !r-state)] (str \"Actual Integral: \" (-> (- (- (Math/cos end)) (- (Math/cos start))) (.toFixed 4)))))]}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5drmsfWcCyjRiaVt776ibBYDMuaz1Z\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Because we stored our state outside of a \"] [:code [:<> \"let\"]] [:<> \" binding, we can query it from\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"other components, and they'll re-render on any update to \"] [:code [:<> \"!r-state\"]] [:<> \". Change the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"sliders above and watch these values change:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [:pre (str (dissoc @!r-state :riemann))])\", :nextjournal/opts {:loc {:line 917, :end-line 918, :column 1, :end-column 43}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [:pre (str (dissoc (clojure.core/deref !r-state) :riemann))])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dszV2B4QWFnCjZJ9hDfhZx4otqGFM\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"vector-field\"} [:<> \"Vector Field\"]] [:p [:<> \"I found this lovely animation of an interactive vector field over\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"at \"] [:a {:href \"https://mafs.dev/guides/display/vector-fields/\"} [:<> \"mafs.dev\"]] [:<> \", and had to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"implement the example here in \"] [:code [:<> \"JSXGraph.cljs\"]] [:<> \".\"]] [:p [:<> \"This \"] [:a {:href \"https://en.wikipedia.org/wiki/Vector_field\"} [:<> \"vector field\"]] [:<> \" example\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"assigns a vector, in this case a small arrow with a constant magnitude equal\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to the value provided via \"] [:code [:<> \":scale\"]] [:<> \", to each point on a 2-dimensional grid.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"The \"] [:code [:<> \":dimensions\"]] [:<> \" options takes a 2-vector of the form \"] [:code [:<> \"[<x-steps>,  <y-steps>]\"]]] [:p [:<> \"The \"] [:code [:<> \":coords-fn\"]] [:<> \" option takes a pair of \"] [:code [:<> \"[x y]\"]] [:<> \" coordinates and returns the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"tip \"] [:code [:<> \"[x', y']\"]] [:<> \" of a new vector. This will generate a vector on the grid\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"starting at \"] [:code [:<> \"[x y]\"]] [:<> \" and pointing at the same angle \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"\\\\theta\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5duDUzBYStgL791AjypieLzKMEbuJo\"}}] [:<> \" as the new\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"vector.\"]] [:p [:code [:<> \":opacity-fn\"]] [:<> \" takes the coordinates of the base of the vector and returns its\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"opacity.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defn VectorField\\n   [{:keys [dimensions coords-fn opacity-fn scale]\\n     :or {scale 1\\n          dimensions [5 5]}}]\\n   (let [f (fn [x y]\\n             (let [[x' y'] (coords-fn x y)\\n                   theta   (Math/atan2 y' x')]\\n               ;; Calculate the angle, then scale and translate the new vector's\\n               ;; end to the appropriate point.\\n               (js/Array.\\n                (+ x (* scale (Math/cos theta)))\\n                (+ y (* scale (Math/sin theta))))))\\n         [nx ny] dimensions]\\n     (into [:<>]\\n           (for [x (range nx)\\n                 y (range ny)\\n                 :let [x (- x (/ nx 2))\\n                       y (- y (/ ny 2))]]\\n             ;; We generate a `jsx/Line` vs a `jsx/Arrow` to have some more\\n             ;; control over the arrowhead via the `:lastArrow` key below.\\n             [jsx/Line\\n              {:parents [#(js/Array. x y) #(f x y)]\\n               :straightFirst false\\n               :lastArrow {:type 1 :size 4}\\n               :straightLast false\\n               :strokeOpacity\\n               (opacity-fn x y)}])))))\", :nextjournal/opts {:loc {:line 940, :end-line 967, :column 1, :end-column 39}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (defn VectorField [{:keys [dimensions coords-fn opacity-fn scale], :or {scale 1, dimensions [5 5]}}] (let [f (fn [x y] (let [[x' y'] (coords-fn x y) theta (Math/atan2 y' x')] (js/Array. (+ x (* scale (Math/cos theta))) (+ y (* scale (Math/sin theta)))))) [nx ny] dimensions] (into [:<>] (for [x (range nx) y (range ny) :let [x (- x (/ nx 2)) y (- y (/ ny 2))]] [jsx/Line {:parents [(fn* [] (js/Array. x y)) (fn* [] (f x y))], :straightFirst false, :lastArrow {:type 1, :size 4}, :straightLast false, :strokeOpacity (opacity-fn x y)}])))))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dt5AteW5N94MFeoRu3ziGYgbDDx1J\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Now that we have the \"] [:code [:<> \"VectorField\"]] [:<> \", we can use our tricks from above to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"customize the \"] [:code [:<> \"VectorField\"]] [:<> \"'s vector values based on the position of a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"moveable \"] [:code [:<> \"Point\"]] [:<> \" in the scene. Drag the point around!\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (let [!coords (atom {:x 0.6 :y 0.6})\\n       update! (fn [p]\\n                 (swap! !coords assoc\\n                        :x (.X p)\\n                        :y (.Y p)))]\\n   [jsx/JSXGraph\\n    {:boundingbox [-6 6 6 -6]\\n     :axis true\\n     :grid true\\n     :showNavigation false\\n     :keepAspectRatio true}\\n    [jsx/Point {:parents [(:x @!coords)\\n                          (:y @!coords)]\\n                :on {:drag update!}}]\\n    [VectorField\\n     {:dimensions [20 14]\\n      :scale 0.5\\n      :coords-fn\\n      (fn [x y]\\n        (let [{px :x py :y} @!coords]\\n          [(- y py (- x px))\\n           (- (- px x) (- y py))]))\\n      :opacity-fn\\n      (fn [x y]\\n        (/ (+ (Math/abs x) (Math/abs y)) 10))}]]))\", :nextjournal/opts {:loc {:line 973, :end-line 998, :column 1, :end-column 51}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (let [!coords (atom {:x 0.6, :y 0.6}) update! (fn [p] (swap! !coords assoc :x (.X p) :y (.Y p)))] [jsx/JSXGraph {:boundingbox [-6 6 6 -6], :axis true, :grid true, :showNavigation false, :keepAspectRatio true} [jsx/Point {:parents [(:x (clojure.core/deref !coords)) (:y (clojure.core/deref !coords))], :on {:drag update!}}] [VectorField {:dimensions [20 14], :scale 0.5, :coords-fn (fn [x y] (let [{px :x, py :y} (clojure.core/deref !coords)] [(- y py (- x px)) (- (- px x) (- y py))])), :opacity-fn (fn [x y] (/ (+ (Math/abs x) (Math/abs y)) 10))}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5drnAEcw8qBg2zGLt268xnQLPG8EgL\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"3d-views\"} [:<> \"3D Views\"]] [:p [:<> \"As of \"] [:a {:href \"https://jsxgraph.uni-bayreuth.de/wp/2022-05-27-release-of-version-1.4.4/\"} [:<> \"version\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"1.4.4\"]] [:<> \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"JSXGraph has support for 3d views.\"]] [:p [:<> \"Unlike all other elements, 3d elements must be added as children of a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"view3d\"]] [:<> \" element.\"]] [:blockquote [:p [:code [:<> \"JSXGraph.cljs\"]] [:<> \" doesn't currently support adding children to \"] [:code [:<> \"jsx/View3D\"]] [:<> \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"but we will! Follow \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/issues/23\"} [:<> \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"ticket\"]] [:<> \" for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"updates.\"]]] [:p [:<> \"The allowed 3D elements are:\"]] [:ul [:li [:<> [:a {:href \"https://jsxgraph.org/docs/symbols/Curve3D.html\"} [:<> \"Curve3D\"]]]] [:li [:<> [:a {:href \"https://jsxgraph.org/docs/symbols/Functiongraph3D.html\"} [:<> \"FunctionGraph3D\"]]]] [:li [:<> [:a {:href \"https://jsxgraph.org/docs/symbols/Line3D.html\"} [:<> \"Line3D\"]]]] [:li [:<> [:a {:href \"https://jsxgraph.org/docs/symbols/ParametricSurface3D.html\"} [:<> \"ParametricSurface3D\"]]]] [:li [:<> [:a {:href \"https://jsxgraph.org/docs/symbols/Point3D.html\"} [:<> \"Point3D\"]]]]] [:p [:<> \"To instantiate a 3D scene with \"] [:code [:<> \"JSXGraph.cljs\"]] [:<> \", you'll need to use\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"#Imperative%20Style\"} [:<> \"Imperative Style\"]] [:<> \" described below to create your\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"view and 3D elements directly on the \"] [:code [:<> \"board\"]] [:<> \" instance.\"]] [:p [:<> \"The following example is a port of the demo listed under\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://jsxgraph.org/docs/symbols/Functiongraph3D.html\"} [:code [:<> \"FunctionGraph3D\"]] [:<> \" API\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"entry\"]] [:<> \". The plot\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"shows the surface defined by the equation\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"F(x, y) = \\\\sin\\\\left(\\\\frac{xy}{4}\\\\right).\", :nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn nextjournal.clerk.render/render-katex, :hash \"5dtLYB93Mi3NowoYurf1Ue76yrXtDC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (let [box [-5 5]\\n       F   (fn [x y]\\n             (Math/sin (* x (/ y 4))))]\\n   [jsx/JSXGraph\\n    {:boundingbox [-8 8 8 -8]\\n     :showCopyright false\\n     :axis false\\n     :showNavigation false\\n     :ref (fn [b]\\n            (when b\\n              ;; First, create a `view3d` object on the board `b`.\\n              (let [view\\n                    (jsx/create b \\\"view3d\\\"\\n                                [[-6 -3] [8 8]\\n                                 [box box box]]\\n                                {:xPlaneRear {:visible false}\\n                                 :yPlaneRear {:visible false}})]\\n                ;; Note that we create any 3d elements on `view`, not on the board\\n                ;; `b`.\\n                (jsx/create view \\\"functiongraph3d\\\"\\n                            [F box box]\\n                            {:strokeWidth 0.5\\n                             :stepsU 70\\n                             :stepsV 70}))))}]))\", :nextjournal/opts {:loc {:line 1033, :end-line 1057, :column 1, :end-column 49}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do (let [box [-5 5] F (fn [x y] (Math/sin (* x (/ y 4))))] [jsx/JSXGraph {:boundingbox [-8 8 8 -8], :showCopyright false, :axis false, :showNavigation false, :ref (fn [b] (when b (let [view (jsx/create b \"view3d\" [[-6 -3] [8 8] [box box box]] {:xPlaneRear {:visible false}, :yPlaneRear {:visible false}})] (jsx/create view \"functiongraph3d\" [F box box] {:strokeWidth 0.5, :stepsU 70, :stepsV 70}))))}]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dtkM5pK3cNhbkdFfvAcV87vJgj8KK\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h2\" {:id \"jsxgraph-vs-jsxgraph.cljs\"} [:<> \"JSXGraph vs JSXGraph.cljs\"]] [:p [:<> \"This section discusses differences between the \"] [:a {:href \"https://reactjs.org/\"} [:<> \"React\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"/ \"] [:a {:href \"https://reagent-project.github.io/\"} [:<> \"Reagent\"]] [:<> \"-based interface provided by\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"JSXGraph.cljs\"]] [:<> \" and the imperative JavaScript API presented by the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"original \"] [:a {:href \"http://jsxgraph.org/\"} [:code [:<> \"JSXGraph\"]]] [:<> \" library.\"]] [:p [:<> \"Let's compare two implementations of the \"] [:a {:href \"http://jsxgraph.org/wiki/index.php/Circle\"} [:<> \"Circle\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"example\"]] [:<> \" from the \"] [:a {:href \"http://jsxgraph.org/wiki/index.php?title=Category:Examples\"} [:<> \"JSXGraph\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"examples\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"directory\"]] [:<> \".\"]] [:p [:<> \"Given some \"] [:code [:<> \"div\"]] [:<> \" with \"] [:code [:<> \"id=\\\"jxgbox\\\"\"]] [:<> \", the following snippet of JavaScript will\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"inject a \"] [:code [:<> \"JSXGraph\"]] [:<> \" construction into the \"] [:code [:<> \"div\"]] [:<> \":\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"var b = JXG.JSXGraph.initBoard('jxgbox', {boundingbox: [-5, 2, 5, -2]});\\nvar p1 = b.create('point',[0,0], {name:'A',size: 4, face: 'o'});\\nvar p2 = b.create('point',[2,-1], {name:'B',size: 4, face: 'o'})\\nvar ci = b.createElement('circle',[\\\"A\\\",\\\"B\\\"], {strokeColor:'#00ff00',strokeWidth:2});\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"In \"] [:code [:<> \"JSXGraph.cljs\"]] [:<> \" we can write the example like this:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph {:boundingbox [-5 5 5 -2]\\n                :keepAspectRatio true}\\n  [:point {:name \\\"A\\\" :size 4 :face \\\"o\\\" :parents [0 0]}]\\n  [:point {:name \\\"B\\\" :size 4 :face \\\"o\\\" :parents [2 -1]}]\\n  [:circle {:strokeColor \\\"#00ff00\\\" :strokeWidth 2\\n            :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 1083, :end-line 1089, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :keepAspectRatio true} [:point {:name \"A\", :size 4, :face \"o\", :parents [0 0]}] [:point {:name \"B\", :size 4, :face \"o\", :parents [2 -1]}] [:circle {:strokeColor \"#00ff00\", :strokeWidth 2, :parents [\"A\" \"B\"]}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dt3vL7UVVWWwPD5JZ9g98YmDyCKjK\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Note the following differences:\"]] [:p [:strong [:<> \"In JSXGraph:\"]]] [:p [:<> \"You create a board by calling \"] [:code [:<> \"initBoard\"]] [:<> \" with the id of some existing \"] [:code [:<> \"div\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and a map of options.\"]] [:p [:<> \"New elements are added to a board by calling \"] [:code [:<> \"board.create(<type-string>   <parents> <attrs>)\"]] [:<> \", where\"]] [:ul [:li [:p [:code [:<> \"<type-string>\"]] [:<> \": the lowercase version of one of the classes in the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:<> \"API\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Reference\"]]]] [:li [:p [:code [:<> \"<parents>\"]] [:<> \": an array of the elements described under each class's \\\"Element\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Detail\\\"\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"section. (A \"] [:a {:href \"https://jsxgraph.org/docs/symbols/Circle.html\"} [:<> \"Circle\"]] [:<> \", for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"example, takes two parents: a \"] [:code [:<> \"Point\"]] [:<> \" for its center, and either a \"] [:code [:<> \"Point\"]] [:<> \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"Line\"]] [:<> \" or \"] [:code [:<> \"Circle\"]] [:<> \" for its radial point.)\"]]] [:li [:p [:code [:<> \"<attrs>\"]] [:<> \": a map of attributes described under the class's \\\"Attributes\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Summary\\\" section.\"]]]] [:p [:strong [:<> \"In JSXGraph.cljs\"]]] [:p [:<> \"You create a board by providing a vector of the form \"] [:code [:<> \"[jsx/JSXGraph  <options-map>]\"]] [:<> \". The component creates its own \"] [:code [:<> \"div\"]] [:<> \". If you want to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"customize the div, provide \"] [:code [:<> \":id\"]] [:<> \" or \"] [:code [:<> \":style\"]] [:<> \" keys.\"]] [:p [:<> \"To add an element, add a vector of the following form as a child of the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"JSXGraph\"]] [:<> \" component:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[<class-keyword> {:parents <parents>, <attrs>}]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"Where \"] [:code [:<> \"<class-keyword>\"]] [:<> \" is the keyword form of the classname (\"] [:code [:<> \":circle\"]] [:<> \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \":functiongraph\"]] [:<> \" etc), \"] [:code [:<> \"<parents>\"]] [:<> \" are the parents described above and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"<attrs>\"]] [:<> \" are any other key-value pairs.\"]] [\"h3\" {:id \"keyword-vs-component\"} [:<> \"Keyword vs Component\"]] [:p [:<> \"All classes the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:<> \"JSXGraph API\"]] [:<> \" are\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"exposed as components\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/main/src/jsxgraph/core.cljs#L149\"} [:code [:<> \"jsxgraph.core\"]]] [:<> \".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"You can use these components directly in place of the keyword in the example\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"above:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph {:boundingbox [-5 5 5 -2] :showCopyright false}\\n  [jsx/Point {:name \\\"A\\\" :size 4 :parents [-1 1]}]\\n  [jsx/Point {:name \\\"B\\\" :size 4 :parents [2 -1]}]\\n  [jsx/Line {:strokeColor \\\"#00ff00\\\" :strokeWidth 2\\n             :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 1138, :end-line 1143, :column 1, :end-column 36}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :showCopyright false} [jsx/Point {:name \"A\", :size 4, :parents [-1 1]}] [jsx/Point {:name \"B\", :size 4, :parents [2 -1]}] [jsx/Line {:strokeColor \"#00ff00\", :strokeWidth 2, :parents [\"A\" \"B\"]}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5drZyMxk6ae83yETEfWifTzKKDUVTk\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"imperative-style\"} [:<> \"Imperative Style\"]] [:p [:<> \"If you prefer the more imperative style of the original \"] [:code [:<> \"JSXGraph\"]] [:<> \" library,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"or if you need immediate access to an element after you add it to the board,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"you can provide a callback to the \"] [:code [:<> \"jsx/JSXGraph\"]] [:<> \" component using the \"] [:code [:<> \":ref\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"key and get access to the \"] [:code [:<> \"board\"]] [:<> \" object.\"]] [:p [:<> \"Use \"] [:code [:<> \"jsxgraph.core/create\"]] [:<> \" just like you'd use \"] [:code [:<> \"board.create\"]] [:<> \" in JavaScript\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to add elements:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [jsx/JSXGraph\\n  {:boundingbox [-5 5 5 -2]\\n   :style {:height \\\"200px\\\" :width \\\"100%\\\"}\\n   :ref (fn [b]\\n          ;; `b` will be `nil` when the board is first created. After the board\\n          ;; mounts itself, the `:ref` callback will be called again with the\\n          ;; `JSXGraph` instance.\\n          (when b\\n            (let [p1 (jsx/create b \\\"point\\\" [0 0] {:name \\\"A\\\" :size 4 :face \\\"o\\\"})\\n                  p2 (jsx/create b \\\"point\\\" [2 -1] {:name \\\"B\\\" :size 4 :face \\\"o\\\"})]\\n              (jsx/create b \\\"line\\\"\\n                          ;; Note that we have the actual point instances here and\\n                          ;; can add them, instead of relying on the string ID.\\n                          [p1 p2]\\n                          {:strokeColor \\\"#00ff00\\\" :strokeWidth 2}))))}])\", :nextjournal/opts {:loc {:line 1155, :end-line 1170, :column 1, :end-column 73}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54809__auto__] (clojure.core/let [result__54810__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :style {:height \"200px\", :width \"100%\"}, :ref (fn [b] (when b (let [p1 (jsx/create b \"point\" [0 0] {:name \"A\", :size 4, :face \"o\"}) p2 (jsx/create b \"point\" [2 -1] {:name \"B\", :size 4, :face \"o\"})] (jsx/create b \"line\" [p1 p2] {:strokeColor \"#00ff00\", :strokeWidth 2}))))}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54810__auto__) result__54810__auto__ [nextjournal.clerk.render/inspect result__54810__auto__])))), :hash \"5dtTd9mLANdPnQcSiAu9CDoGACZ34Q\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"accessing-element-values\"} [:<> \"Accessing Element Values\"]] [:p [:<> \"A big difference between the \"] [:code [:<> \"JSXGraph.cljs\"]] [:<> \" and \"] [:code [:<> \"JSXGraph\"]] [:<> \" versions has to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"do with how data is communicated. In JS, you typically create elements and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"then query them on demand from other elements.\"]] [:p [:<> \"In \"] [:code [:<> \"JSXGraph.cljs\"]] [:<> \", elements communicate via updates to a shared \"] [:code [:<> \"atom\"]] [:<> \" or\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"reagent/atom\"]] [:<> \". Many of the examples in the \"] [:a {:href \"#Guides\"} [:<> \"Guides\"]] [:<> \" and \"] [:a {:href \"#Advanced%20Examples\"} [:<> \"Advanced\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Examples\"]] [:<> \" above use this style, so please study these\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"carefully.\"]] [:blockquote [:p [:<> \"See \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md\"} [:<> \"Reagent's guide to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"state\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for more detail.\"]]] [\"h2\" {:id \"thanks-and-support\"} [:<> \"Thanks and Support\"]] [:p [:<> \"To support this work and my other open source projects, consider sponsoring\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"me via my \"] [:a {:href \"https://github.com/sponsors/sritchie\"} [:<> \"GitHub Sponsors page\"]] [:<> \". Thank\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"you to my current sponsors!\"]] [:p [:<> \"I'm grateful to \"] [:a {:href \"https://www.clojuriststogether.org/\"} [:<> \"Clojurists Together\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for financial support during this library's creation. Please\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"consider \"] [:a {:href \"https://www.clojuriststogether.org/developers/\"} [:<> \"becoming a member\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to support this work and projects like it.\"]] [:p [:<> \"For more information on me and my work, visit \"] [:a {:href \"https://samritchie.io\"} [:<> \"https://samritchie.io\"]] [:<> \".\"]] [\"h2\" {:id \"license\"} [:<> \"License\"]] [:p [:<> \"Copyright © 2022-2023 Sam Ritchie.\"]] [:p [:<> \"Distributed under the \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/main/LICENSE\"} [:<> \"MIT\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"License\"]] [:<> \".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"See \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/main/LICENSE\"} [:<> \"LICENSE\"]] [:<> \".\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}}], :css-class nil}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5duAFDxE4sCnRX71Wo6zeCpC9C3djE\"}}}, :cljs-namespaces [jsxgraph.sci-extensions], :index \"dev/jsxgraph/notebook.clj\", :browse? false, :git/url \"https://github.com/mentat-collective/jsxgraph.cljs\", :paths [\"dev/jsxgraph/notebook.clj\"], :resource->url {\"/js/viewer.js\" \"_data/8Vu6qwSXuRyhYtZyviu3GLvhRJiemjEXhsLE51hi5dKKNp9xuEC33gekuJq6T36r5S7FRomtHpqFMP3E7Zq6FECaWH.js\"}, :current-path \"dev/jsxgraph/notebook.clj\", :bundle? false, :git/sha \"83ce94fdd54326dd3a355e283a3a216d08cc2801\", :path->url {\"dev/jsxgraph/notebook.clj\" \"\"}, :expanded-paths [\"dev/jsxgraph/notebook.clj\"], :cname \"jsxgraph.mentat.org\", :watch-paths [\"dev\"], :report-fn #object[nextjournal.clerk.builder$stdout_reporter 0x14e72fe4 \"nextjournal.clerk.builder$stdout_reporter@14e72fe4\"]}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
let opts = nextjournal.clerk.sci_env.read_string(state)
nextjournal.clerk.static_app.init(opts)
</script></body></html>