<!DOCTYPE html>
<html class="overflow-hidden min-h-screen"><head><title>JSXGraph.cljs</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="A React/ Reagent interface tothe JSXGraph interactive geometry and mathematicslibrary." property="og:description"><meta content="JSXGraph.cljs" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./tw/viewer.js", "./tw/**/*.edn"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-gray-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h2 {
    /*We cannot collapse margins due to nesting but we want to*/
    /*keep the h2’s large margin visible*/
    @apply font-condensed font-bold mt-8 first:mt-2;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }

  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.viewer-markdown ul ul {
  @apply mt-1 mb-0;
}

/* compact TOC */
.viewer-markdown .toc ul {
  list-style: none;
  @apply my-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.viewer-code {
  @apply font-mono bg-slate-100 rounded-sm text-sm overflow-x-auto dark:bg-gray-800;
}
.viewer-code .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
  .viewer-notebook .viewer-code .cm-content {
    @apply py-4 pl-12;
  }
}
/* Don’t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-italic, .cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .viewer-result {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-italic.cmt-string {
  @apply dark:text-sky-200;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.viewer-notebook,
.viewer-markdown {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-4
    prose-table:mt-0
    prose-th:mb-0
    prose-img:my-0
    prose-code:font-medium prose-code:bg-slate-100
    max-w-none;
}
.viewer-markdown blockquote p:first-of-type:before,
.viewer-markdown blockquote p:last-of-type:after {
  @apply content-none;
}

/* Images */
/* --------------------------------------------------------------- */


/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.viewer-markdown .toc      { @apply mt-4; }
.viewer-markdown h1 + .toc { @apply mt-8; }

.viewer-markdown .toc h1,
.viewer-markdown .toc h2,
.viewer-markdown .toc h3,
.viewer-markdown .toc h4,
.viewer-markdown .toc h5,
.viewer-markdown .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.viewer-markdown .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.viewer-markdown .toc li    { @apply m-0; }
.viewer-markdown .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.viewer-notebook { @apply py-16; }
#clerk-static-app .viewer-notebook { @apply pt-[0.8rem] pb-16; }
.viewer-markdown *:first-child:not(.viewer-code):not(li):not(h2) { @apply mt-0; }
/*.viewer + .viewer { @apply mt-6; }*/
.viewer + .viewer-result { @apply mt-0; }
.viewer-code + .viewer-result { @apply mt-3; }
.viewer-markdown + .viewer-markdown { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-3px] inline-flex justify-center items-center w-[18px] h-[18px]
    rounded-full bg-slate-100 border border-slate-300 hover:bg-slate-200 hover:border-slate-300
    m-0 ml-[4px] cursor-pointer;
}
.sidenote {
  @apply hidden float-left clear-both mx-[2.5%] my-4 text-xs relative w-[95%];
}
.sidenote-ref.expanded + .sidenote {
  @apply block;
}
@media (min-width: 860px) {
  .sidenote-ref {
    @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
  }
  .sidenote sup { @apply inline; }
  .viewer-markdown .contains-sidenotes p { @apply max-w-[65%]; }
  .viewer-markdown p .sidenote {
    @apply mr-[-54%] mt-[0.2rem] w-1/2 float-right clear-right relative block;
  }
}
.viewer-code + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-code-folded + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-result + .viewer-result {
  @apply mt-2;
}
.viewer-code + .viewer-code-folded {
  @apply mt-4;
}
.viewer-result {
  @apply leading-tight mb-6;
}
.viewer-result figure {
  @apply mt-0 !important;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by tw’s border-color */
.katex * { @apply border-black; }
</style><script src="/js/_data/8VvsAwujkdJiFYSAJ4QUDUW8JDDdsZ7MVm2TcPMzMVEcqdwqpqaVW2URBaVNuDKgpCLKjofzjrBeK9wyLLzZ6F6i6b.js" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-code:400,700%7Cfira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script type="module">let viewer = nextjournal.clerk.sci_env
let app = nextjournal.clerk.static_app
let opts = viewer.read_string("{:out-path \"public\", :path->doc {\"dev/jsxgraph/notebook.clj\" {:path [], :nextjournal/value {:toc {:type :toc, :children [{:type :toc, :content [{:type :text, :text \"JSXGraph.cljs\"}], :heading-level 1, :children [{:type :toc, :content [{:type :text, :text \"What is JSXGraph?\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"Quickstart\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"Guides\"}], :heading-level 2, :children [{:type :toc, :content [{:type :text, :text \"Creating Your First Board\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Event Listeners\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Functions as Parents\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"GEONExT Syntax\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Component Refs\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Custom Components\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"State across Multiple Boards\"}], :heading-level 3}]} {:type :toc, :content [{:type :text, :text \"Advanced Examples\"}], :heading-level 2, :children [{:type :toc, :content [{:type :text, :text \"Archimedean Spiral\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Lissajous Curve\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Unit Circle\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Riemann Sum\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Vector Field\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"3D Views\"}], :heading-level 3}]} {:type :toc, :content [{:type :text, :text \"JSXGraph vs JSXGraph.cljs\"}], :heading-level 2, :children [{:type :toc, :content [{:type :text, :text \"Keyword vs Component\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Imperative Style\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Accessing Element Values\"}], :heading-level 3}]} {:type :toc, :content [{:type :text, :text \"Thanks and Support\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"License\"}], :heading-level 2}]}]}, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :auto-expand-results? nil, :scope {:namespace :jsxgraph.notebook}, :open-graph {:type \"article:clerk\", :title \"JSXGraph.cljs\", :description \"A React/ Reagent interface tothe JSXGraph interactive geometry and mathematicslibrary.\"}, :title \"JSXGraph.cljs\", :blocks [{:nextjournal/value [:div.viewer-markdown [\"h1\" {:id \"jsxgraph.cljs\"} [:span \"JSXGraph.cljs\"]] [:p [:span \"A \"] [:a {:href \"https://reactjs.org/\"} [:span \"React\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"/ \"] [:a {:href \"https://reagent-project.github.io/\"} [:span \"Reagent\"]] [:span \" interface to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the \"] [:a {:href \"https://jsxgraph.org/\"} [:span \"JSXGraph\"]] [:span \" interactive geometry and mathematics\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"library.\"]] [:p [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/actions/workflows/kondo.yml\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://github.com/mentat-collective/jsxgraph.cljs/actions/workflows/kondo.yml/badge.svg?branch=main\", :alt \"\"}], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/main/LICENSE\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/badge/license-MIT-brightgreen.svg\", :alt \"\"}], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:a {:href \"https://cljdoc.org/d/org.mentat/jsxgraph.cljs/CURRENT\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://cljdoc.org/badge/org.mentat/jsxgraph.cljs\", :alt \"\"}], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:a {:href \"https://clojars.org/org.mentat/jsxgraph.cljs\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/jsxgraph.cljs.svg\", :alt \"\"}], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}]]] [:blockquote [:p [:span \"The interactive documentation on this page was generated from \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/09750064c76487f62965fa22c856b4b9a9606cd9/dev/jsxgraph/notebook.clj\"} [:span \"this source\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"file\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"using \"] [:a {:href \"https://github.com/nextjournal/clerk\"} [:span \"Clerk\"]] [:span \". Follow\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/tree/main#interactive-documentation-via-clerk\"} [:span \"instructions in the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"README\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to run and modify this notebook on your machine!\"]] [:p [:span \"See the \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs\"} [:span \"Github\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"project\"]] [:span \" for more\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"details, and the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/jsxgraph.cljs/CURRENT/doc/readme\"} [:span \"cljdoc\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"page\"]] [:span \" for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"detailed API documentation.\"]]] [\"h2\" {:id \"what_is_jsxgraph?\"} [:span \"What is JSXGraph?\"]] [:p [:a {:href \"https://jsxgraph.org/\"} [:span \"JSXGraph\"]] [:span \" is a JavaScript library that lets you build\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"2-dimensional scenes full of geometric objects, function curves and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"interactive UI elements, potentially with many complex constraints defined\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"between these objects.\"]] [:p [:span \"For example, here is a visual JSXGraph proof that the \"] [:a {:href \"https://en.wikipedia.org//wiki/Euler_line\"} [:span \"Euler\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"line\"]] [:span \" passes through any\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"triangle's \"] [:a {:href \"https://en.wikipedia.org/wiki/Orthocenter\"} [:span \"orthocenter\"]] [:span \", \"] [:a {:href \"https://en.wikipedia.org/wiki/Centroid\"} [:span \"centroid\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"and \"] [:a {:href \"https://en.wikipedia.org/wiki/Circumcenter\"} [:span \"circumcenter\"]] [:span \". Drag the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"triangle's corner points around and watch the example respond:\"]] [:blockquote [:p [:span \"The 'show code' link below will expand the example's source. Use the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"checkmarks to toggle on and off the elements that contribute to each point\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"on the Euler Line.\"]]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/visibility {:code :fold}}\\n(cljs\\n (let [!state (atom\\n               {:circumcenter true\\n                :orthocenter true\\n                :centroid true})\\n       centroid?     #(:centroid @!state)\\n       orthocenter?  #(:orthocenter @!state)\\n       circumcenter? #(:circumcenter @!state)\\n       cerise {:strokeColor \\\"#901B77\\\"\\n               :fillColor \\\"#CA147A\\\"}\\n       grass {:strokeColor \\\"#009256\\\"\\n              :fillColor \\\"#65B72E\\\"\\n              :visible true\\n              :withLabel true}\\n       perpendicular {:strokeColor \\\"black\\\"\\n                      :visible orthocenter?\\n                      :dash 1\\n                      :strokeWidth 1}\\n       median {:strokeWidth 1\\n               :strokeColor \\\"#333333\\\"\\n               :dash 2}]\\n   [jsx/JSXGraph\\n    {:boundingbox [-1.5 2 1.5 -1]\\n     :showCopyright false\\n     :keepaspectratio true}\\n    [:checkbox {:parents [-2 1.5 \\\"Circumcenter\\\"]\\n                :checked (:circumcenter @!state)\\n                :on {:up #(swap! !state assoc :circumcenter (not (.Value %)))}}]\\n    [:checkbox {:parents [-2 1.3 \\\"Orthocenter\\\"]\\n                :checked (:orthocenter @!state)\\n                :on {:up #(swap! !state assoc :orthocenter (not (.Value %)))}}]\\n    [:checkbox {:parents [-2 1.1 \\\"Centroid\\\"]\\n                :checked (:centroid @!state)\\n                :on {:up #(swap! !state assoc :centroid (not (.Value %)))}}]\\n\\n    ;; Triangle\\n    [:point (assoc cerise :parents [1 0] :id \\\"A\\\")]\\n    [:point (assoc cerise :parents [-1 0] :id \\\"B\\\")]\\n    [:point (assoc cerise :parents [0.65 1.45] :id \\\"C\\\")]\\n    [:polygon\\n     {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"]\\n      :borders {:ids [\\\"pol_0\\\" \\\"pol_1\\\" \\\"pol_2\\\"]}\\n      :fillColor \\\"#FFFF00\\\"\\n      :lines {:strokeWidth 2\\n              :strokeColor \\\"#009256\\\"}}]\\n\\n    ;; ## Circumcircle\\n    [:circumcircle\\n     {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"]\\n      :strokeColor \\\"#000000\\\"\\n      :visible circumcenter?\\n      :dash 3\\n      :strokeWidth 1\\n      :center (assoc grass\\n                     :name \\\"U\\\"\\n                     :visible circumcenter?)}]\\n\\n    ;; ## Orthocenter\\n    ;;\\n    ;; Altitudes\\n    [:perpendicular\\n     (assoc perpendicular :parents [\\\"pol_0\\\" \\\"C\\\"] :id \\\"pABC\\\")]\\n    [:intersection\\n     (assoc cerise\\n            :parents [\\\"pol_0\\\" \\\"pABC\\\"]\\n            :visible orthocenter?\\n            :name \\\"H_c\\\")]\\n\\n    [:perpendicular\\n     (assoc perpendicular :parents [\\\"pol_1\\\" \\\"A\\\"] :id \\\"pBCA\\\")]\\n    [:intersection\\n     (assoc cerise\\n            :parents [\\\"pol_1\\\" \\\"pBCA\\\"]\\n            :visible orthocenter?\\n            :name \\\"H_a\\\")]\\n\\n    [:perpendicular\\n     (assoc perpendicular :parents [\\\"pol_2\\\" \\\"B\\\"] :id \\\"pCAB\\\")]\\n    [:intersection\\n     (assoc cerise\\n            :parents [\\\"pol_2\\\" \\\"pCAB\\\"]\\n            :visible orthocenter?\\n            :name \\\"H_b\\\")]\\n\\n    ;; Intersection of Altitudes\\n    [:intersection\\n     (assoc grass\\n            :visible orthocenter?\\n            :id \\\"i1\\\"\\n            :name \\\"H\\\"\\n            :parents [\\\"pABC\\\" \\\"pCAB\\\" 0])]\\n\\n    ;; ## Centroid\\n    ;;\\n    ;; Medians\\n    [:midpoint\\n     (assoc cerise :name \\\"M_a\\\"\\n            :visible centroid?\\n            :parents [\\\"B\\\" \\\"C\\\"])]\\n    [:segment\\n     (assoc median :id \\\"ma\\\"\\n            :visible centroid?\\n            :parents [\\\"M_a\\\" \\\"A\\\"])]\\n\\n    [:midpoint\\n     (assoc cerise :name \\\"M_b\\\"\\n            :visible centroid?\\n            :parents [\\\"C\\\" \\\"A\\\"])]\\n    [:segment\\n     (assoc median :id \\\"mb\\\"\\n            :visible centroid?\\n            :parents [\\\"M_b\\\" \\\"B\\\"])]\\n\\n    [:midpoint\\n     (assoc cerise :name \\\"M_c\\\"\\n            :visible centroid?\\n            :parents [\\\"A\\\" \\\"B\\\"])]\\n    [:segment\\n     (assoc median :id \\\"mc\\\"\\n            :visible centroid?\\n            :parents [\\\"M_c\\\" \\\"C\\\"])]\\n\\n    ;; Intersection of Medians\\n    [:intersection\\n     (assoc grass :id \\\"i2\\\"\\n            :visible centroid?\\n            :name \\\"S\\\" :parents [\\\"ma\\\" \\\"mc\\\" 0])]\\n\\n    ;; Euler's Line (intersection of orthocenter and median, but the\\n    ;; circumcenter lies on this line as well).\\n    [:line\\n     {:parents [\\\"i1\\\" \\\"i2\\\"]\\n      :strokeWidth 2\\n      :strokeColor \\\"#901B77\\\"}]]))\", :nextjournal/opts {:loc {:line 50, :column 1}}, :nextjournal/viewer {:name :code-folded, :render-fn #viewer-fn nextjournal.clerk.render/render-folded-code, :hash \"5dqxn3akuEMwMuR49nVx1Xvqr1jYQM\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (let [!state (atom {:circumcenter true, :orthocenter true, :centroid true}) centroid? (fn* [] (:centroid (clojure.core/deref !state))) orthocenter? (fn* [] (:orthocenter (clojure.core/deref !state))) circumcenter? (fn* [] (:circumcenter (clojure.core/deref !state))) cerise {:strokeColor \"#901B77\", :fillColor \"#CA147A\"} grass {:strokeColor \"#009256\", :fillColor \"#65B72E\", :visible true, :withLabel true} perpendicular {:strokeColor \"black\", :visible orthocenter?, :dash 1, :strokeWidth 1} median {:strokeWidth 1, :strokeColor \"#333333\", :dash 2}] [jsx/JSXGraph {:boundingbox [-1.5 2 1.5 -1], :showCopyright false, :keepaspectratio true} [:checkbox {:parents [-2 1.5 \"Circumcenter\"], :checked (:circumcenter (clojure.core/deref !state)), :on {:up (fn* [%1] (swap! !state assoc :circumcenter (not (.Value %1))))}}] [:checkbox {:parents [-2 1.3 \"Orthocenter\"], :checked (:orthocenter (clojure.core/deref !state)), :on {:up (fn* [%1] (swap! !state assoc :orthocenter (not (.Value %1))))}}] [:checkbox {:parents [-2 1.1 \"Centroid\"], :checked (:centroid (clojure.core/deref !state)), :on {:up (fn* [%1] (swap! !state assoc :centroid (not (.Value %1))))}}] [:point (assoc cerise :parents [1 0] :id \"A\")] [:point (assoc cerise :parents [-1 0] :id \"B\")] [:point (assoc cerise :parents [0.65 1.45] :id \"C\")] [:polygon {:parents [\"A\" \"B\" \"C\"], :borders {:ids [\"pol_0\" \"pol_1\" \"pol_2\"]}, :fillColor \"#FFFF00\", :lines {:strokeWidth 2, :strokeColor \"#009256\"}}] [:circumcircle {:parents [\"A\" \"B\" \"C\"], :strokeColor \"#000000\", :visible circumcenter?, :dash 3, :strokeWidth 1, :center (assoc grass :name \"U\" :visible circumcenter?)}] [:perpendicular (assoc perpendicular :parents [\"pol_0\" \"C\"] :id \"pABC\")] [:intersection (assoc cerise :parents [\"pol_0\" \"pABC\"] :visible orthocenter? :name \"H_c\")] [:perpendicular (assoc perpendicular :parents [\"pol_1\" \"A\"] :id \"pBCA\")] [:intersection (assoc cerise :parents [\"pol_1\" \"pBCA\"] :visible orthocenter? :name \"H_a\")] [:perpendicular (assoc perpendicular :parents [\"pol_2\" \"B\"] :id \"pCAB\")] [:intersection (assoc cerise :parents [\"pol_2\" \"pCAB\"] :visible orthocenter? :name \"H_b\")] [:intersection (assoc grass :visible orthocenter? :id \"i1\" :name \"H\" :parents [\"pABC\" \"pCAB\" 0])] [:midpoint (assoc cerise :name \"M_a\" :visible centroid? :parents [\"B\" \"C\"])] [:segment (assoc median :id \"ma\" :visible centroid? :parents [\"M_a\" \"A\"])] [:midpoint (assoc cerise :name \"M_b\" :visible centroid? :parents [\"C\" \"A\"])] [:segment (assoc median :id \"mb\" :visible centroid? :parents [\"M_b\" \"B\"])] [:midpoint (assoc cerise :name \"M_c\" :visible centroid? :parents [\"A\" \"B\"])] [:segment (assoc median :id \"mc\" :visible centroid? :parents [\"M_c\" \"C\"])] [:intersection (assoc grass :id \"i2\" :visible centroid? :name \"S\" :parents [\"ma\" \"mc\" 0])] [:line {:parents [\"i1\" \"i2\"], :strokeWidth 2, :strokeColor \"#901B77\"}]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dtBFxxKhjab86dg5m4H8RrF5TSy3C\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs\"} [:span \"JSXGraph.cljs\"]] [:span \" extends\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"JSXGraph with a \"] [:a {:href \"https://reagent-project.github.io/\"} [:span \"Reagent\"]] [:span \" component that\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"makes it easy to define JSXGraph constructions inside of a user interface\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"built with Clojurescript.\"]] [\"h2\" {:id \"quickstart\"} [:span \"Quickstart\"]] [:p [:span \"Install \"] [:code [:span \"JSXGraph.cljs\"]] [:span \" into your Clojurescript project using the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"instructions at its Clojars page:\"]] [:p [:a {:href \"https://clojars.org/org.mentat/jsxgraph.cljs\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/jsxgraph.cljs.svg\", :alt \"\"}], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}]]] [:p [:span \"Or grab the most recent code using a Git dependency:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \";; deps\\n{org.mentat/jsxgraph.cljs\\n  {:git/sha \\\"09750064c76487f62965fa22c856b4b9a9606cd9\\\"}}\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:p [:span \"Require \"] [:code [:span \"jsxgraph.core\"]] [:span \" in your namespace:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"(ns my-app\\n  (:require [jsxgraph.core :as jsx]\\n            [reagent.core :as reagent]))\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:p [:span \"The main entrypoint to the library is the \"] [:code [:span \"jsxgraph.core/JSXGraph\"]] [:span \" component.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Each class in the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:span \"JSXGraph API\"]] [:span \" has a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"corresponding component bound as \"] [:code [:span \"jsx/ClassName\"]] [:span \". Use these to build a simple\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"arrow and drag it around by its point:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-2 2 2 -2] :axis true}\\n  [jsx/Arrow {:name \\\"A\\\" :size 4\\n              :parents [[0 0] [1 1]]}]])\", :nextjournal/opts {:loc {:line 220, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:boundingbox [-2 2 2 -2], :axis true} [jsx/Arrow {:name \"A\", :size 4, :parents [[0 0] [1 1]]}]])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5ds5GZZ62Kc3k2XY8Cm6XzC5L8ZwfJ\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"This guide assumes that you're coming at \"] [:code [:span \"JSXGraph\"]] [:span \" for the first time\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"through \"] [:code [:span \"JSXGraph.cljs\"]] [:span \". If you're coming from JavaScript, OR if you're\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"attempting to port \"] [:a {:href \"http://jsxgraph.org/wp/about/index.html\"} [:span \"one of the many JSXGraph\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"examples\"]] [:span \", you'll absolutely need to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"read \"] [:a {:href \"#JSXGraph%20vs%20JSXGraph.cljs\"} [:span \"JSXGraph vs JSXGraph.cljs\"]] [:span \" below.\"]] [:blockquote [:p [:span \"If you're not familiar with React or Reagent, or what a \\\"component\\\" is,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"please give the \"] [:a {:href \"https://reagent-project.github.io/\"} [:span \"Reagent homepage\"]] [:span \" a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"read. If this is your first Clojurescript experience, come say hi to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"me (@sritchie) in the \"] [:a {:href \"http://clojurians.net/\"} [:span \"Clojurians Slack\"]] [:span \" and I'll\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"get you started.\"]]] [\"h2\" {:id \"guides\"} [:span \"Guides\"]] [:p [:span \"A \"] [:code [:span \"JSXGraph\"]] [:span \" construction consists of a \\\"board\\\" populated by some number of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"\\\"elements\\\", where an element is an instance of one of the classes described\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"in the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:span \"JSXGraph API docs\"]] [:span \".\"]] [:p [:span \"The \"] [:a {:href \"https://reactjs.org/\"} [:span \"React\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"/ \"] [:a {:href \"https://reagent-project.github.io/\"} [:span \"Reagent\"]] [:span \" data model is \\\"declarative\\\".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"This means that you create and populate a board by listing, in order, the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"elements that you want to appear on the board.\"]] [\"h3\" {:id \"creating_your_first_board\"} [:span \"Creating Your First Board\"]] [:p [:span \"Declare a board with the \"] [:code [:span \"jsx/JSXGraph\"]] [:span \" component:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph {:axis true}])\", :nextjournal/opts {:loc {:line 252, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:axis true}])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dsXqzKmLHPqAKqbzZCchv7sfhPYAK\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"The component takes\"]] [:ul [:li [:<> [:span \"a \"] [:code [:span \"keyword => value\"]] [:span \" map of attributes (see the \"] [:code [:span \"attributes\"]] [:span \" section under\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"Parameters\"]] [:span \" at \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.JSXGraph.html\"} [:span \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"page\"]] [:span \") for allowed\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"values\"]]] [:li [:<> [:span \"Any number of child components.\"]]]] [:p [:span \"Child components are added to the board in the order that they're listed. A\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"full re-render is triggered any time any of the properties of the board or\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"any child component changes.\"]] [:p [:span \"For example, here's a board with two \"] [:code [:span \"jsx/Point\"]] [:span \"s and a \"] [:code [:span \"jsx/Arrow\"]] [:span \" between\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"them:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-3 3 3 -3] :axis true}\\n  [jsx/Point {:name \\\"A\\\" :size 1 :parents [-1 1]}]\\n  [jsx/Point {:id \\\"B\\\" :name \\\"BEE!\\\" :size 1 :parents [2 -1]}]\\n  [jsx/Arrow {:size 4\\n              :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 270, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:boundingbox [-3 3 3 -3], :axis true} [jsx/Point {:name \"A\", :size 1, :parents [-1 1]}] [jsx/Point {:id \"B\", :name \"BEE!\", :size 1, :parents [2 -1]}] [jsx/Arrow {:size 4, :parents [\"A\" \"B\"]}]])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drN5WGZNSeGBAE7w8SiNomd7Jz1oc\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Note these details:\"]] [:ul [:li [:<> [:span \"The \"] [:code [:span \"Point\"]] [:span \" instances declare their initial coordinates with a vector\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"supplied via the \"] [:code [:span \":parents\"]] [:span \" key. (All elements require parents.) This leaves\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"them free to move! Drag each \"] [:code [:span \"Point\"]] [:span \" around and see.\"]]] [:li [:<> [:span \"The \"] [:code [:span \"Arrow\"]] [:span \" sets its \"] [:code [:span \":parents\"]] [:span \" to points \"] [:code [:span \"\\\"A\\\"\"]] [:span \" and \"] [:code [:span \"\\\"B\\\"\"]] [:span \" using their IDs.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"This creates a constraint, where the \"] [:code [:span \"Arrow\"]] [:span \" can only be moved by moving\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the points.\"]]] [:li [:<> [:span \"The second \"] [:code [:span \"Point\"]] [:span \" has a \"] [:code [:span \":name\"]] [:span \" different from its \"] [:code [:span \":id\"]] [:span \". This allowed us\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to use the \"] [:code [:span \":name\"]] [:span \" for the second \"] [:code [:span \"Point\"]] [:span \"'s label, and the \"] [:code [:span \":id\"]] [:span \" for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"reference by \"] [:code [:span \"Arrow\"]] [:span \".\"]]]] [:p [:span \"You can also refer to elements by their classname, written as either a string or a keyword:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-3 3 3 -3] :axis true}\\n  [:point {:name \\\"A\\\" :size 1 :parents [-1 1]}]\\n  [\\\"point\\\" {:id \\\"B\\\" :name \\\"BEE!\\\" :size 1 :parents [2 -1]}]\\n  [:arrow {:size 4\\n           :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 291, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:boundingbox [-3 3 3 -3], :axis true} [:point {:name \"A\", :size 1, :parents [-1 1]}] [\"point\" {:id \"B\", :name \"BEE!\", :size 1, :parents [2 -1]}] [:arrow {:size 4, :parents [\"A\" \"B\"]}]])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dr4PJVNbe6ALd6qpqN5Hei2bsWxtJ\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:blockquote [:p [:span \"Note that this only works if you insert the element as a direct child of a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"jsx/JSXGraph\"]] [:span \" component. When writing \"] [:a {:href \"#Custom%20Components\"} [:span \"Custom\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Components\"]] [:span \" you'll need to write out the full\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"jsx/<ClassName>\"]] [:span \" form.\"]]] [\"h3\" {:id \"event_listeners\"} [:span \"Event Listeners\"]] [:p [:code [:span \"JSXGraph\"]] [:span \" elements fire events during various updates and user interactions.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"To get data out of the element, pass a map of \"] [:code [:span \"{<event-name> <handling-fn>}\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to the element via the \"] [:code [:span \":on\"]] [:span \" key.\"]] [:p [:span \"a \"] [:code [:span \"Point\"]] [:span \" exposes its coordinates\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"via \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.CoordsElement.html#X\"} [:code [:span \"X()\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"and \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.CoordsElement.html#X\"} [:code [:span \"Y()\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"methods.\"]] [:p [:span \"This example registers a function that updates a \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md#intro-to-atoms\"} [:span \"reactive\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"atom\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"!state\"]] [:span \" every time the point fires a \"] [:code [:span \"\\\"drag\\\"\"]] [:span \" event, and renders the current\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"value of \"] [:code [:span \"!state\"]] [:span \" each time it changes.\"]] [:p [:span \"Drag the point around and the watch the state update:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (reagent/with-let\\n   [!state  (reagent/atom {:x 0 :y 0})\\n    update! (fn [p]\\n              (swap! !state assoc\\n                     :x (.X p)\\n                     :y (.Y p)))]\\n   [:<>\\n    [:pre (str @!state)]\\n    [jsx/JSXGraph {:axis true}\\n     [:point\\n      {:parents [0 0]\\n       :on {:drag update!}}]]]))\", :nextjournal/opts {:loc {:line 321, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (reagent/with-let [!state (reagent/atom {:x 0, :y 0}) update! (fn [p] (swap! !state assoc :x (.X p) :y (.Y p)))] [:<> [:pre (str (clojure.core/deref !state))] [jsx/JSXGraph {:axis true} [:point {:parents [0 0], :on {:drag update!}}]]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dsL8nkFGMNcYsk9WMwN7PqXH11JXy\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"The lovely thing about this data model is that other parts of your\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"application outside of \"] [:code [:span \"JSXGraph\"]] [:span \" can read from this state as well.\"]] [\"h3\" {:id \"functions_as_parents\"} [:span \"Functions as Parents\"]] [:p [:span \"Many \"] [:code [:span \"Element\"]] [:span \" types can take functions as parents. This feature allows you\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to bind an \"] [:code [:span \"Element\"]] [:span \"'s coordinate to some external state, like the state\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"persisted above in \"] [:code [:span \"!state\"]] [:span \".\"]] [:p [:span \"This example adds a first free \"] [:code [:span \"Point\"]] [:span \" named \"] [:code [:span \"\\\"A\\\"\"]] [:span \", and a second \"] [:code [:span \"Point\"]] [:span \" with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"position constrained to always equal \"] [:code [:span \"[cos(A_x), sin(A_y)]\"]] [:span \".\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (reagent/with-let\\n   [!state  (reagent/atom {:x 0 :y 0})\\n    update! (fn [p]\\n              (swap! !state assoc\\n                     :x (.X p)\\n                     :y (.Y p)))\\n    cos-x (fn [] (Math/cos (:x @!state)))\\n    sin-y (fn [] (Math/sin (:y @!state)))]\\n   [:<>\\n    [:pre (str @!state)]\\n    [jsx/JSXGraph {:axis true}\\n     [jsx/Point\\n      {:parents [0 0]\\n       :name \\\"A\\\"\\n       :on {:drag update!}}]\\n     [jsx/Point\\n      {:parents [cos-x sin-y]\\n       :name \\\"[cos A_x, sin A_y]\\\"}]]]))\", :nextjournal/opts {:loc {:line 347, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (reagent/with-let [!state (reagent/atom {:x 0, :y 0}) update! (fn [p] (swap! !state assoc :x (.X p) :y (.Y p))) cos-x (fn [] (Math/cos (:x (clojure.core/deref !state)))) sin-y (fn [] (Math/sin (:y (clojure.core/deref !state))))] [:<> [:pre (str (clojure.core/deref !state))] [jsx/JSXGraph {:axis true} [jsx/Point {:parents [0 0], :name \"A\", :on {:drag update!}}] [jsx/Point {:parents [cos-x sin-y], :name \"[cos A_x, sin A_y]\"}]]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dt7AhLeVe65VvaDGyXN7Toobo4xMG\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:blockquote [:p [:span \"There is a \\\"gotcha\\\" here! If you use a \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md#intro-to-atoms\"} [:span \"reactive\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"atom\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"and access its value somewhere in your component, any change to the atom\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"will force the board to re-render.\"]] [:p [:span \"If you do this you need to be careful to move any functions you want to use\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:em [:span \"outside\"]] [:span \" of the component. Otherwise the board will erase and re-mount\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"every component every time the atom's value changes.\"]]] [\"h3\" {:id \"geonext_syntax\"} [:span \"GEONExT Syntax\"]] [:p [:span \"Another way to declare dependencies between \"] [:code [:span \"Element\"]] [:span \"s is to use \\\"GEONExT\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"syntax\\\". I can't find good documentation for this anywhere, but its\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"referenced \"] [:a {:href \"https://jsxgraph.org/wiki/index.php?title=Point#GEONExT_syntax\"} [:span \"here on the \"] [:code [:span \"JSXGraph\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"wiki\"]] [:span \".\"]] [:p [:span \"This example adds a first free \"] [:code [:span \"Point\"]] [:span \" named \"] [:code [:span \"\\\"A\\\"\"]] [:span \", and a second \"] [:code [:span \"Point\"]] [:span \" with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"its \"] [:code [:span \"Y\"]] [:span \" coordinate free and its \"] [:code [:span \"X\"]] [:span \" coordinate constrained to always equal\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"A_x + A_y\"]] [:span \":\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph {:axis true}\\n  [jsx/Point {:name \\\"A\\\" :parents [0 0]}]\\n  [jsx/Point {:name \\\"B\\\" :parents [\\\"X(A) + Y(A)\\\" 2]}]])\", :nextjournal/opts {:loc {:line 388, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:axis true} [jsx/Point {:name \"A\", :parents [0 0]}] [jsx/Point {:name \"B\", :parents [\"X(A) + Y(A)\" 2]}]])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dtDRghUKLr8WfgrEir2mQsCZkQhZC\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:blockquote [:p [:span \"There is currently \"] [:a {:href \"https://github.com/jsxgraph/jsxgraph/issues/489\"} [:span \"a bug\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"with this feature, where re-rendering a board will trigger an error. You\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"may need to refresh your page if this occurs.\"]]] [\"h3\" {:id \"component_refs\"} [:span \"Component Refs\"]] [:p [:span \"If you need access to the actual instance of a \"] [:code [:span \"JSXGraph\"]] [:span \" element, pass a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"callback function using the \"] [:code [:span \":ref\"]] [:span \" keyword. The \"] [:code [:span \":ref\"]] [:span \" function receives an\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"instance of the element when it is mounted, and \"] [:code [:span \"nil\"]] [:span \" when the board is\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"destroyed or the element is remounted.\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph {:axis true}\\n  [:point\\n   {:parents [1 1]\\n    :ref (fn [p]\\n           (when p\\n             (.setName p \\\"NAME!\\\")))}]])\", :nextjournal/opts {:loc {:line 404, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:axis true} [:point {:parents [1 1], :ref (fn [p] (when p (.setName p \"NAME!\")))}]])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dsygU2Kone4a69YAZP76k9tUpvyc9\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"You might use this feature to store a reference to some element that doesn't\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"fire its own events, so that you can query its value when some other element\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"fires.\"]] [:p [:span \"The \"] [:code [:span \"RiemannSum\"]] [:span \" element has this property. The example below uses \"] [:code [:span \":ref\"]] [:span \" to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"store a reference to the \"] [:code [:span \"RiemannSum\"]] [:span \", so that the \"] [:code [:span \"Text\"]] [:span \" element in the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"bottom left of the scene can query it inside its parent function. See the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"inline comments for more detail.\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (let [!state (atom {:slider 4 :riemann nil})\\n       f      (fn [x]\\n                ;; 1/2 x^2 - 2x\\n                (- (* 0.5 x x)\\n                   (* 2 x)))]\\n   [jsx/JSXGraph {:boundingbox [-3 7 5 -3]\\n                  :axis true}\\n    [jsx/Slider\\n     {:parents [[0 4] [3 4] [0 (:slider @!state) 10]]\\n      :on {:drag #(swap! !state assoc :slider (.Value %))}}]\\n    [jsx/RiemannSum\\n     {:parents [f #(:slider @!state) \\\"middle\\\" -2 5]\\n      :fillOpacity 0.4\\n      ;; When this element mounts, a reference to the `RiemannSum` instance is\\n      ;; stored under the `:riemann` key in the `!state` atom.\\n      :ref (fn [elem]\\n             (when elem\\n               (swap! !state assoc :riemann elem)))}]\\n    [jsx/FunctionGraph\\n     {:parents [f -2 5]}]\\n    [jsx/Text\\n     {:parents [-2 -2 (fn []\\n                        ;; The `:riemann` key has been populated by the time the\\n                        ;; `Text` component is mounted, so we don't need to\\n                        ;; guard against a `nil` value here.\\n                        (let [v (.Value (:riemann @!state))]\\n                          (str \\\"Sum: \\\" (.toFixed v 4))))]}]]))\", :nextjournal/opts {:loc {:line 421, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (let [!state (atom {:slider 4, :riemann nil}) f (fn [x] (- (* 0.5 x x) (* 2 x)))] [jsx/JSXGraph {:boundingbox [-3 7 5 -3], :axis true} [jsx/Slider {:parents [[0 4] [3 4] [0 (:slider (clojure.core/deref !state)) 10]], :on {:drag (fn* [%1] (swap! !state assoc :slider (.Value %1)))}}] [jsx/RiemannSum {:parents [f (fn* [] (:slider (clojure.core/deref !state))) \"middle\" -2 5], :fillOpacity 0.4, :ref (fn [elem] (when elem (swap! !state assoc :riemann elem)))}] [jsx/FunctionGraph {:parents [f -2 5]}] [jsx/Text {:parents [-2 -2 (fn [] (let [v (.Value (:riemann (clojure.core/deref !state)))] (str \"Sum: \" (.toFixed v 4))))]}]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dqvdxC28KLni6YYmwTWPsCST8J2Ec\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"custom_components\"} [:span \"Custom Components\"]] [:p [:span \"If you want to reuse some pattern in your board declaration, you can create a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"new Reagent component that bundles together a sequence of primitives,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"possibly closing over some state that these elements need.\"]] [:blockquote [:p [:span \"See the \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/CreatingReagentComponents.md#the-three-ways\"} [:span \"Reagent Component\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Guide\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"for more detail.\"]]] [:p [:span \"Create a component by writing a function that takes some number of arguments\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"and returns a vector of the form \"] [:code [:span \"[:<> <any-number-of-elements>]\"]] [:span \". Here is a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"component that accepts 3 vertex point definitions and creates a triangle:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (defn Triangle [a b c]\\n   [:<>\\n    [jsx/Point {:name \\\"A\\\" :size 4 :parents a}]\\n    [jsx/Point {:name \\\"B\\\" :size 4 :parents b}]\\n    [jsx/Point {:name \\\"C\\\" :size 4 :parents c}]\\n    [jsx/Polygon {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"]}]]))\", :nextjournal/opts {:loc {:line 464, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (defn Triangle [a b c] [:<> [jsx/Point {:name \"A\", :size 4, :parents a}] [jsx/Point {:name \"B\", :size 4, :parents b}] [jsx/Point {:name \"C\", :size 4, :parents c}] [jsx/Polygon {:parents [\"A\" \"B\" \"C\"]}]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dqyALoN8PyifeZXJgkdpabtGHjuTz\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Use your component by including a vector of the form \"] [:code [:span \"[ComponentName  <arguments>]\"]] [:span \" as a child if your \"] [:code [:span \"JSXGraph\"]] [:span \" component;\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph {:axis true}\\n  [Triangle\\n   [-1 -1] [1 1] [-1 1]]])\", :nextjournal/opts {:loc {:line 475, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:axis true} [Triangle [-1 -1] [1 1] [-1 1]]])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5ds9bC8XDBkMTpqatbkYGwk8UHNCad\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"You can abstract this example further by writing your own version of a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"Polygon\"]] [:span \" element that takes a map of ID => a point's \"] [:code [:span \":parents\"]] [:span \" entry:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (defn MyPolygon [id->parents]\\n   (let [ids (into [] (keys id->parents))\\n         points (for [[id parents] id->parents]\\n                  [jsx/Point {:name id :parents parents}])]\\n     ;; Build [:<> ...points...], then add `[jsx/Polygon ...]` to the end of the\\n     ;; list.\\n     (-> (into [:<>] points)\\n         (conj [jsx/Polygon {:parents ids}])))))\", :nextjournal/opts {:loc {:line 483, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (defn MyPolygon [id->parents] (let [ids (into [] (keys id->parents)) points (for [[id parents] id->parents] [jsx/Point {:name id, :parents parents}])] (-> (into [:<>] points) (conj [jsx/Polygon {:parents ids}])))))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drAxNvVHyTJrFfiKAtCK5AAXnLeC7\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Re-define a version of \"] [:code [:span \"Triangle\"]] [:span \" that uses \"] [:code [:span \"MyPolygon\"]] [:span \":\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (defn Triangle* [a b c]\\n   [MyPolygon {:A a :B b :C c}]))\", :nextjournal/opts {:loc {:line 495, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (defn Triangle* [a b c] [MyPolygon {:A a, :B b, :C c}]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dtWyjAaTFZopWPDJXe4XHwHMVxQbg\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"These elements should look exactly the same as the previous \"] [:code [:span \"Triangle\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"definition:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph {:axis true}\\n  [Triangle*\\n   [-1 -1] [1 1] [-1 1]]])\", :nextjournal/opts {:loc {:line 502, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:axis true} [Triangle* [-1 -1] [1 1] [-1 1]]])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drBWmpvJ2uVyRz9eCPexkPqJnQWEo\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"state_across_multiple_boards\"} [:span \"State across Multiple Boards\"]] [:p [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md\"} [:span \"Reagent's state\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"model\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"makes it easy to get data out of various elements on the board. Storing state\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"in an external atom allows you to use state updates from one board to trigger\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"updates on another board.\"]] [:p [:span \"The following example places a free point one board (the parent), and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"designates a second board as a child with \"] [:code [:span \"addChild\"]] [:span \". The second board will\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"hold a point with location fixed by the first point. Any interaction with the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"parent board will trigger updates to every element on the child board.\"]] [:p [:span \"First, our state:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (defonce !state\\n   (atom {:x 1 :y 1})))\", :nextjournal/opts {:loc {:line 522, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (defonce !state (atom {:x 1, :y 1})))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drUr4dxT2hyvCjXAqzHuaT4Y7cr51\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Then the parent board with its free point. We'll use a \"] [:code [:span \":ref\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"function (see \"] [:a {:href \"#Component%20Refs\"} [:span \"Component Refs\"]] [:span \") to perform the \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.Board.html#addChild\"} [:code [:span \"addChild\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"mutation\"]] [:span \":\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (let [update! (fn [p]\\n                 (swap! !state assoc\\n                        :x (.X p)\\n                        :y (.Y p)))]\\n   [jsx/JSXGraph\\n    {:axis true\\n     :style {:height \\\"300px\\\"}\\n     :ref (fn [b]\\n            (when b (swap! !state assoc :board b)))}\\n    [jsx/Point {:on {:drag update!}\\n                :parents [(:x @!state) (:y @!state)]}]]))\", :nextjournal/opts {:loc {:line 530, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (let [update! (fn [p] (swap! !state assoc :x (.X p) :y (.Y p)))] [jsx/JSXGraph {:axis true, :style {:height \"300px\"}, :ref (fn [b] (when b (swap! !state assoc :board b)))} [jsx/Point {:on {:drag update!}, :parents [(:x (clojure.core/deref !state)) (:y (clojure.core/deref !state))]}]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dr36trVtNwDs6AgLRiR2n1Cfftnbq\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"The child board will call \"] [:code [:span \"addChild\"]] [:span \" in its \"] [:code [:span \":ref\"]] [:span \" function. Note that the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"parents of the second point are no-argument functions that access the \"] [:code [:span \":x\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"and \"] [:code [:span \":y\"]] [:span \" coordinates stored in \"] [:code [:span \"!state\"]] [:span \". (The next example is folded so you\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"can see both boards at once. Click \\\"show code\\\" to unfold.)\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/visibility {:code :fold}}\\n(cljs\\n [jsx/JSXGraph\\n  {:axis true\\n   :style {:height \\\"300px\\\"}\\n   :ref (fn [b]\\n          (when b\\n            (.addChild (:board @!state) b)))}\\n  [jsx/Point {:parents\\n              [#(:x @!state) #(:y @!state)]}]])\", :nextjournal/opts {:loc {:line 548, :column 1}}, :nextjournal/viewer {:name :code-folded, :render-fn #viewer-fn nextjournal.clerk.render/render-folded-code, :hash \"5dqxn3akuEMwMuR49nVx1Xvqr1jYQM\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:axis true, :style {:height \"300px\"}, :ref (fn [b] (when b (.addChild (:board (clojure.core/deref !state)) b)))} [jsx/Point {:parents [(fn* [] (:x (clojure.core/deref !state))) (fn* [] (:y (clojure.core/deref !state)))]}]])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dtFFE45s7uyzDMpfJhGQDzArcD3QP\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"advanced_examples\"} [:span \"Advanced Examples\"]] [:p [:span \"This section explores \"] [:code [:span \"JSXGraph\"]] [:span \" by porting a few of the more complex\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"examples from the \"] [:a {:href \"http://jsxgraph.org/wp/about/index.html\"} [:span \"Example\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"directory\"]] [:span \" and inventing a few of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"our own constructions.\"]] [\"h3\" {:id \"archimedean_spiral\"} [:span \"Archimedean Spiral\"]] [:p [:span \"This example allows for interactive exploration of the \"] [:a {:href \"https://en.wikipedia.org/wiki/Archimedean_spiral\"} [:span \"Archimedean\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Spiral\"]] [:span \". This is a curve of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the form\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"r=a + b \\\\cdot \\\\theta.\", :nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn nextjournal.clerk.render/render-katex, :hash \"5dtLYB93Mi3NowoYurf1Ue76yrXtDC\"}}] [:p [:span \"The board below includes interactive sliders for the \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"a\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dtnKksNpcTTwNUs1KPq4h5ftFcxBL\"}}] [:span \" and \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"b\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dtnKksNpcTTwNUs1KPq4h5ftFcxBL\"}}] [:span \" parameters,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"and plots a polar curve for every pair of \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"(r, \\\\theta)\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dtnKksNpcTTwNUs1KPq4h5ftFcxBL\"}}] [:span \". See the comments in\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the source code for details on our choices.\"]] [:blockquote [:p [:span \"The original example lives at \"] [:a {:href \"http://jsxgraph.org/wiki/index.php/Archimedean_spiral\"} [:span \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"page\"]] [:span \".\"]]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n ;; The `!state` atom is populated with the initial slider positions. Note that\\n ;; we are NOT using a `reagent/atom`, because we don't need Reagent to perform\\n ;; any re-renders when the state changes. Instead, state changes are picked up\\n ;; by the function we provide to the curve below.\\n (let [!state (atom {:a 1 :b 0.25})]\\n   [jsx/JSXGraph\\n    {:boundingbox [-10 10 10 -10]\\n     :showCopyright false\\n     ;; This option prevents the spiral from bulging out on the left and right\\n     ;; side on wider windows by adjusting the provided `:boundingBox`.\\n     :keepAspectRatio true}\\n\\n    ;; Just for fun we are using the keyword form here to define components.\\n    [:slider\\n     {:name \\\"a\\\"\\n      ;; The `:parents` are of the form\\n      ;;\\n      ;; [<left-point> <right-point> [<min> <current> <max>]]\\n      :parents [[1 8] [5 8] [0 (:a @!state) 4]]\\n\\n      ;; Each slider updates a value stored in `!state` above.\\n      :on {:drag #(swap! !state assoc :a (.Value %))}}]\\n    [:slider\\n     {:name \\\"b\\\"\\n      :parents [[1 9] [5 9] [0 (:b @!state) 4]]\\n      :on {:drag #(swap! !state assoc :b (.Value %))}}]\\n    [:curve\\n     {:id \\\"c\\\"\\n      ;; [<r(phi)>, <origin-coords>, <min-phi>, <max-phi>]\\n      :parents [(fn [phi]\\n                  (let [{:keys [a b]} @!state]\\n                    (+ a (* b phi))))\\n                [0 0] 0 (* 8 Math/PI)]\\n      :curveType \\\"polar\\\"\\n      :strokewidth 4}]\\n    ;; Note here that the parents of these elements reference the string-based\\n    ;; IDs of the element they want to target, instead of the actual\\n    ;; instance (like in the original example)\\n    [:glider  {:parents [\\\"c\\\"] :name \\\"g\\\"}]\\n    [:tangent {:parents [\\\"g\\\"] :dash 2 :strokeColor \\\"#a612a9\\\"}]\\n    [:normal  {:parents [\\\"g\\\"] :dash 2 :strokeColor \\\"#a612a9\\\"}]]))\", :nextjournal/opts {:loc {:line 581, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (let [!state (atom {:a 1, :b 0.25})] [jsx/JSXGraph {:boundingbox [-10 10 10 -10], :showCopyright false, :keepAspectRatio true} [:slider {:name \"a\", :parents [[1 8] [5 8] [0 (:a (clojure.core/deref !state)) 4]], :on {:drag (fn* [%1] (swap! !state assoc :a (.Value %1)))}}] [:slider {:name \"b\", :parents [[1 9] [5 9] [0 (:b (clojure.core/deref !state)) 4]], :on {:drag (fn* [%1] (swap! !state assoc :b (.Value %1)))}}] [:curve {:id \"c\", :parents [(fn [phi] (let [{:keys [a b]} (clojure.core/deref !state)] (+ a (* b phi)))) [0 0] 0 (* 8 Math/PI)], :curveType \"polar\", :strokewidth 4}] [:glider {:parents [\"c\"], :name \"g\"}] [:tangent {:parents [\"g\"], :dash 2, :strokeColor \"#a612a9\"}] [:normal {:parents [\"g\"], :dash 2, :strokeColor \"#a612a9\"}]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drxvo78BE83YbGXiaQ1bMtNCrrLGN\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"lissajous_curve\"} [:span \"Lissajous Curve\"]] [:p [:span \"From the \"] [:a {:href \"https://en.wikipedia.org//wiki/Lissajous_curve\"} [:span \"Wikipedia page\"]] [:span \",\"]] [:blockquote [:p [:span \"A Lissajous curve (also known as a Lissajous figure or Bowditch curve) is\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the graph of a system of parametric equations\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"x=A\\\\sin(at+\\\\delta),\\\\quad y=B\\\\sin(bt).\", :nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn nextjournal.clerk.render/render-katex, :hash \"5dtLYB93Mi3NowoYurf1Ue76yrXtDC\"}}] [:p [:span \"which describe \"] [:a {:href \"https://en.wikipedia.org/wiki/Complex_harmonic_motion\"} [:span \"complex harmonic\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"motion\"]] [:span \".\"]]] [:p [:span \"The board below includes interactive sliders for the \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"a\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dtnKksNpcTTwNUs1KPq4h5ftFcxBL\"}}] [:span \", \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"b\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dtnKksNpcTTwNUs1KPq4h5ftFcxBL\"}}] [:span \", \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"A\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dtnKksNpcTTwNUs1KPq4h5ftFcxBL\"}}] [:span \" and \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"B\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dtnKksNpcTTwNUs1KPq4h5ftFcxBL\"}}] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"parameters, and plots a parametric curve for every pair of \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"(x y)\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dtnKksNpcTTwNUs1KPq4h5ftFcxBL\"}}] [:span \".\"]] [:p [:span \"The original example lives at \"] [:a {:href \"http://jsxgraph.org/wiki/index.php/Lissajous_curves\"} [:span \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"page\"]] [:span \".\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (let [!state (atom {:a 3 :b 2 :A 3 :B 3 :delta 0})]\\n   [jsx/JSXGraph\\n    {:boundingbox [-8 8 8 -8]\\n     :showCopyright false\\n     :keepAspectRatio true\\n     :axis true}\\n    ;; Interactive Sliders\\n    [:slider\\n     {:name \\\"a\\\" :parents [[2,8],[6,8],[0,3,6]]\\n      :on {:drag #(swap! !state assoc :a (.Value %))}}]\\n    [:slider\\n     {:name \\\"b\\\" :parents [[2,7],[6,7],[0,2,6]]\\n      :on {:drag #(swap! !state assoc :b (.Value %))}}]\\n    [:slider\\n     {:name \\\"A\\\" :parents [[2,6],[6,6],[0,3,6]]\\n      :on {:drag #(swap! !state assoc :A (.Value %))}}]\\n    [:slider\\n     {:name \\\"B\\\" :parents [[2,5],[6,5],[0,3,6]]\\n      :on {:drag #(swap! !state assoc :B (.Value %))}}]\\n    [:slider\\n     {:name \\\"&delta;\\\" :parents [[2,4],[6,4],[0,0,Math.PI]]\\n      :on {:drag #(swap! !state assoc :delta (.Value %))}}]\\n\\n    ;; The Curve!\\n    [:curve\\n     {:parents\\n      ;; [<x-fn>, <y-fn>, <min-t>, <max-y>]\\n      [(fn [t]\\n         (let [{:keys [a A delta]} @!state]\\n           (* A (Math/sin (+ (* a t) delta)))))\\n       (fn [t]\\n         (let [{:keys [b B]} @!state]\\n           (* B (Math/sin (* b t)))))\\n       0\\n       (* 2 Math/PI)]\\n      :strokeColor \\\"#aa2233\\\"\\n      :strokewidth 3}]]))\", :nextjournal/opts {:loc {:line 642, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (let [!state (atom {:a 3, :b 2, :A 3, :B 3, :delta 0})] [jsx/JSXGraph {:boundingbox [-8 8 8 -8], :showCopyright false, :keepAspectRatio true, :axis true} [:slider {:name \"a\", :parents [[2 8] [6 8] [0 3 6]], :on {:drag (fn* [%1] (swap! !state assoc :a (.Value %1)))}}] [:slider {:name \"b\", :parents [[2 7] [6 7] [0 2 6]], :on {:drag (fn* [%1] (swap! !state assoc :b (.Value %1)))}}] [:slider {:name \"A\", :parents [[2 6] [6 6] [0 3 6]], :on {:drag (fn* [%1] (swap! !state assoc :A (.Value %1)))}}] [:slider {:name \"B\", :parents [[2 5] [6 5] [0 3 6]], :on {:drag (fn* [%1] (swap! !state assoc :B (.Value %1)))}}] [:slider {:name \"&delta;\", :parents [[2 4] [6 4] [0 0 Math.PI]], :on {:drag (fn* [%1] (swap! !state assoc :delta (.Value %1)))}}] [:curve {:parents [(fn [t] (let [{:keys [a A delta]} (clojure.core/deref !state)] (* A (Math/sin (+ (* a t) delta))))) (fn [t] (let [{:keys [b B]} (clojure.core/deref !state)] (* B (Math/sin (* b t))))) 0 (* 2 Math/PI)], :strokeColor \"#aa2233\", :strokewidth 3}]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drZ71kV9upJPP7gPfR34yHjTLpjtM\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"unit_circle\"} [:span \"Unit Circle\"]] [:p [:span \"This example uses a custom Reagent component \"] [:code [:span \"UnitCircle\"]] [:span \" to inscribe a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"polygon of \"] [:code [:span \"n\"]] [:span \" points into the unit circle. \"] [:code [:span \"UnitCircle\"]] [:span \" is similar to the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"MyPolygon\"]] [:span \" implementation above in \"] [:a {:href \"#Custom%20Components\"} [:span \"Custom\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Components\"]] [:span \", but generates its own point coordinates\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"internally.\"]] [:p [:span \"The component below also shows off a case where we \"] [:em [:span \"do\"]] [:span \" need to use a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"reagent/atom\"]] [:span \".\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (defn UnitCircle [n]\\n   (let [ids (range n)\\n         i->pt (fn [i]\\n                 (let [angle (* (/ i n) 2 Math/PI)\\n                       x (Math/cos angle)\\n                       y (Math/sin angle)]\\n                   [jsx/Point\\n                    {:name i :size 5 :parents [x y]}]))]\\n     [:<>\\n      (into [:<>] (map i->pt) ids)\\n      [jsx/Polygon\\n       {:parents (mapv str ids)\\n        :borders {:strokeColor \\\"black\\\"}}]])))\", :nextjournal/opts {:loc {:line 692, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (defn UnitCircle [n] (let [ids (range n) i->pt (fn [i] (let [angle (* (/ i n) 2 Math/PI) x (Math/cos angle) y (Math/sin angle)] [jsx/Point {:name i, :size 5, :parents [x y]}]))] [:<> (into [:<>] (map i->pt) ids) [jsx/Polygon {:parents (mapv str ids), :borders {:strokeColor \"black\"}}]])))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dsk7bsDk2tmJtS3wwYWpvxiw4LPLg\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"The board below instantiates the \"] [:code [:span \"UnitCircle\"]] [:span \" component using an \"] [:code [:span \"n\"]] [:span \" that\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"comes from an interactive slider.\"]] [:p [:span \"To bind the state, we\"]] [:ul [:li [:<> [:span \"use \"] [:code [:span \"reagent/with-let\"]] [:span \" instead of \"] [:code [:span \"let\"]]]] [:li [:<> [:code [:span \"reagent/atom\"]] [:span \" instead of \"] [:code [:span \"atom\"]]]]] [:p [:span \"Doing this will force any component that dereferences \"] [:code [:span \"!state\"]] [:span \" to re-render.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"This is what we want! We want a change in the \"] [:code [:span \"n\"]] [:span \" slider to trigger the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"drawing of a new \"] [:code [:span \"UnitCircle\"]] [:span \", vs previous examples where we wanted to send\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"new information to elements that had rendered a single time on the board.\"]] [:p [:span \"Drag the slider around and note the slight flicker as the board redraws.\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (reagent/with-let\\n   [!n    (reagent/atom 6)\\n    ->!n #(reset! !n (.Value %))]\\n   [jsx/JSXGraph\\n    {:boundingbox [-1.5 2 1.5 -2]\\n     :showCopyright false\\n     :keepAspectRatio true}\\n    ;; Any time `!n` is updated by the `->!n` function provided to the slider\\n    ;; below, this component AND the `jsx/Slider` will re-render.\\n    [UnitCircle @!n]\\n    [jsx/Slider\\n     {:name \\\"n\\\"\\n      :snapWidth 1\\n      :on {:drag ->!n}\\n      :parents\\n      [[-1 1.5] [1 1.5] [1 @!n 50]]}]]))\", :nextjournal/opts {:loc {:line 722, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (reagent/with-let [!n (reagent/atom 6) ->!n (fn* [%1] (reset! !n (.Value %1)))] [jsx/JSXGraph {:boundingbox [-1.5 2 1.5 -2], :showCopyright false, :keepAspectRatio true} [UnitCircle (clojure.core/deref !n)] [jsx/Slider {:name \"n\", :snapWidth 1, :on {:drag ->!n}, :parents [[-1 1.5] [1 1.5] [1 (clojure.core/deref !n) 50]]}]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5duAxGvG1NxHUgJ4JFCnHBf1Tj5TQX\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"riemann_sum\"} [:span \"Riemann Sum\"]] [:p [:span \"A \"] [:a {:href \"https://en.wikipedia.org/wiki/Riemann_sum\"} [:span \"Riemann Sum\"]] [:span \" is an\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"approximation of the integral of a function (the area under its curve). You\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"generate rectangles whose heights are determined by the values of the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"function, and add up the rectangles to obtain your approximation. Chopping\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the area into more rectangles gives a better estimate.\"]] [:p [:span \"This example plots \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"\\\\sin(x)\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dtnKksNpcTTwNUs1KPq4h5ftFcxBL\"}}] [:span \" along with a visual representation of a Riemann\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"sum. The board contains sliders to change the left and right bounds of the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"function, as well as the number of rectangles in the (middle) Riemann sum.\"]] [:blockquote [:p [:span \"The original example lives at \"] [:a {:href \"https://jsxgraph.org/wiki/index.php/Riemann_sums\"} [:span \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"page\"]] [:span \".\"]]] [:p [:span \"First we'll create our \"] [:code [:span \"!state\"]] [:span \" outside of the \"] [:code [:span \"reagent/with-let\"]] [:span \" block. This\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"will let other components access the state.\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (defonce !r-state\\n   (reagent/atom\\n    {:start -3 :end (* 2 Math/PI) :n 10})))\", :nextjournal/opts {:loc {:line 758, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (defonce !r-state (reagent/atom {:start -3, :end (* 2 Math/PI), :n 10})))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drDyCPHESCZQrvtCmWh9SyNMrcGN1\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"The board uses \"] [:code [:span \"reagent/with-let\"]] [:span \"; this will prevent the dereference calls\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"inside the bindings from triggering a component re-render.\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (reagent/with-let\\n   [init         @!r-state\\n    start-update #(swap! !r-state assoc :start (.Value %))\\n    end-update   #(swap! !r-state assoc :end (.Value %))\\n    n-update     #(swap! !r-state assoc :n (.Value %))\\n    nf           #(:n @!r-state)\\n    startf       #(:start @!r-state)\\n    endf         #(:end @!r-state)\\n    sin          #(Math/sin %)]\\n   [jsx/JSXGraph\\n    {:boundingbox [-8 4 8 -5]\\n     :showCopyright false\\n     :axis true}\\n    [jsx/Slider {:name \\\"start\\\"\\n                 :on {:drag start-update}\\n                 :parents\\n                 [[1 3.5] [5 3.5] [-10 (:start init) 0]]}]\\n    [jsx/Slider {:name \\\"end\\\"\\n                 :on {:drag end-update}\\n                 :parents\\n                 [[1 2.5] [5 2.5] [0 (:end init) 10]]}]\\n    [jsx/Slider {:name \\\"n\\\"\\n                 :snapWidth 1\\n                 :on {:drag n-update}\\n                 :parents\\n                 [[1 1.5] [5 1.5] [1 (:n init) 100]]}]\\n\\n    [jsx/RiemannSum\\n     {:parents [sin nf \\\"middle\\\" startf endf]\\n      ;; Store a reference to the `RiemannSum` instance so that we can query it\\n      ;; from our text below.\\n      :ref (fn [elem]\\n             (when elem\\n               (swap! !r-state assoc :riemann elem)))}]\\n\\n    ;; Graph the actual function.\\n    [jsx/FunctionGraph {:parents [sin startf endf]}]\\n    [jsx/Text\\n     {:parents\\n      [-3.5 3 (fn []\\n                (let [v (.Value (:riemann @!r-state))]\\n                  (str \\\"Riemann Sum: \\\"\\n                       (.toFixed v 4))))]}]\\n    [jsx/Text\\n     {:parents\\n      [-3.5 2.5 (fn []\\n                  (let [{:keys [start end]} @!r-state]\\n                    (str \\\"Actual Integral: \\\"\\n                         (-> (- (- (Math/cos end))\\n                                (- (Math/cos start)))\\n                             (.toFixed 4)))))]}]]))\", :nextjournal/opts {:loc {:line 766, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (reagent/with-let [init (clojure.core/deref !r-state) start-update (fn* [%1] (swap! !r-state assoc :start (.Value %1))) end-update (fn* [%1] (swap! !r-state assoc :end (.Value %1))) n-update (fn* [%1] (swap! !r-state assoc :n (.Value %1))) nf (fn* [] (:n (clojure.core/deref !r-state))) startf (fn* [] (:start (clojure.core/deref !r-state))) endf (fn* [] (:end (clojure.core/deref !r-state))) sin (fn* [%1] (Math/sin %1))] [jsx/JSXGraph {:boundingbox [-8 4 8 -5], :showCopyright false, :axis true} [jsx/Slider {:name \"start\", :on {:drag start-update}, :parents [[1 3.5] [5 3.5] [-10 (:start init) 0]]}] [jsx/Slider {:name \"end\", :on {:drag end-update}, :parents [[1 2.5] [5 2.5] [0 (:end init) 10]]}] [jsx/Slider {:name \"n\", :snapWidth 1, :on {:drag n-update}, :parents [[1 1.5] [5 1.5] [1 (:n init) 100]]}] [jsx/RiemannSum {:parents [sin nf \"middle\" startf endf], :ref (fn [elem] (when elem (swap! !r-state assoc :riemann elem)))}] [jsx/FunctionGraph {:parents [sin startf endf]}] [jsx/Text {:parents [-3.5 3 (fn [] (let [v (.Value (:riemann (clojure.core/deref !r-state)))] (str \"Riemann Sum: \" (.toFixed v 4))))]}] [jsx/Text {:parents [-3.5 2.5 (fn [] (let [{:keys [start end]} (clojure.core/deref !r-state)] (str \"Actual Integral: \" (-> (- (- (Math/cos end)) (- (Math/cos start))) (.toFixed 4)))))]}]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dsRvGDj9jyGiFF4mfVkaFdYU65z4h\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Because we stored our state outside of a \"] [:code [:span \"let\"]] [:span \" binding, we can query it from\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"other components, and they'll re-render on any update to \"] [:code [:span \"!r-state\"]] [:span \". Change the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"sliders above and watch these values change:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [:pre (str (dissoc @!r-state :riemann))])\", :nextjournal/opts {:loc {:line 823, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [:pre (str (dissoc (clojure.core/deref !r-state) :riemann))])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drtKhtDu5UA5abotWmjyYDYKsRgfc\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"vector_field\"} [:span \"Vector Field\"]] [:p [:span \"I found this lovely animation of an interactive vector field over\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"at \"] [:a {:href \"https://mafs.dev/guides/display/vector-fields/\"} [:span \"mafs.dev\"]] [:span \", and had to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"implement the example here in \"] [:code [:span \"JSXGraph.cljs\"]] [:span \".\"]] [:p [:span \"This \"] [:a {:href \"https://en.wikipedia.org/wiki/Vector_field\"} [:span \"vector field\"]] [:span \" example\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"assigns a vector, in this case a small arrow with a constant magnitude equal\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to the value provided via \"] [:code [:span \":scale\"]] [:span \", to each point on a 2-dimensional grid.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"The \"] [:code [:span \":dimensions\"]] [:span \" options takes a 2-vector of the form \"] [:code [:span \"[<x-steps>,  <y-steps>]\"]]] [:p [:span \"The \"] [:code [:span \":coords-fn\"]] [:span \" option takes a pair of \"] [:code [:span \"[x y]\"]] [:span \" coordinates and returns the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"tip \"] [:code [:span \"[x', y']\"]] [:span \" of a new vector. This will generate a vector on the grid\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"starting at \"] [:code [:span \"[x y]\"]] [:span \" and pointing at the same angle \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"\\\\theta\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dtnKksNpcTTwNUs1KPq4h5ftFcxBL\"}}] [:span \" as the new\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"vector.\"]] [:p [:code [:span \":opacity-fn\"]] [:span \" takes the coordinates of the base of the vector and returns its\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"opacity.\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (defn VectorField\\n   [{:keys [dimensions coords-fn opacity-fn scale]\\n     :or {scale 1\\n          dimensions [5 5]}}]\\n   (let [f (fn [x y]\\n             (let [[x' y'] (coords-fn x y)\\n                   theta   (Math/atan2 y' x')]\\n               ;; Calculate the angle, then scale and translate the new vector's\\n               ;; end to the appropriate point.\\n               (js/Array.\\n                (+ x (* scale (Math/cos theta)))\\n                (+ y (* scale (Math/sin theta))))))\\n         [nx ny] dimensions]\\n     (into [:<>]\\n           (for [x (range nx)\\n                 y (range ny)\\n                 :let [x (- x (/ nx 2))\\n                       y (- y (/ ny 2))]]\\n             ;; We generate a `jsx/Line` vs a `jsx/Arrow` to have some more\\n             ;; control over the arrowhead via the `:lastArrow` key below.\\n             [jsx/Line\\n              {:parents [#(js/Array. x y) #(f x y)]\\n               :straightFirst false\\n               :lastArrow {:type 1 :size 4}\\n               :straightLast false\\n               :strokeOpacity\\n               (opacity-fn x y)}])))))\", :nextjournal/opts {:loc {:line 846, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (defn VectorField [{:keys [dimensions coords-fn opacity-fn scale], :or {scale 1, dimensions [5 5]}}] (let [f (fn [x y] (let [[x' y'] (coords-fn x y) theta (Math/atan2 y' x')] (js/Array. (+ x (* scale (Math/cos theta))) (+ y (* scale (Math/sin theta)))))) [nx ny] dimensions] (into [:<>] (for [x (range nx) y (range ny) :let [x (- x (/ nx 2)) y (- y (/ ny 2))]] [jsx/Line {:parents [(fn* [] (js/Array. x y)) (fn* [] (f x y))], :straightFirst false, :lastArrow {:type 1, :size 4}, :straightLast false, :strokeOpacity (opacity-fn x y)}])))))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dsuhBNo6yasCe2K2s8zwgSTXroLwo\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Now that we have the \"] [:code [:span \"VectorField\"]] [:span \", we can use our tricks from above to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"customize the \"] [:code [:span \"VectorField\"]] [:span \"'s vector values based on the position of a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"moveable \"] [:code [:span \"Point\"]] [:span \" in the scene. Drag the point around!\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (let [!coords (atom {:x 0.6 :y 0.6})\\n       update! (fn [p]\\n                 (swap! !coords assoc\\n                        :x (.X p)\\n                        :y (.Y p)))]\\n   [jsx/JSXGraph\\n    {:boundingbox [-6 6 6 -6]\\n     :axis true\\n     :grid true\\n     :showNavigation false\\n     :keepAspectRatio true}\\n    [jsx/Point {:parents [(:x @!coords)\\n                          (:y @!coords)]\\n                :on {:drag update!}}]\\n    [VectorField\\n     {:dimensions [20 14]\\n      :scale 0.5\\n      :coords-fn\\n      (fn [x y]\\n        (let [{px :x py :y} @!coords]\\n          [(- y py (- x px))\\n           (- (- px x) (- y py))]))\\n      :opacity-fn\\n      (fn [x y]\\n        (/ (+ (Math/abs x) (Math/abs y)) 10))}]]))\", :nextjournal/opts {:loc {:line 879, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (let [!coords (atom {:x 0.6, :y 0.6}) update! (fn [p] (swap! !coords assoc :x (.X p) :y (.Y p)))] [jsx/JSXGraph {:boundingbox [-6 6 6 -6], :axis true, :grid true, :showNavigation false, :keepAspectRatio true} [jsx/Point {:parents [(:x (clojure.core/deref !coords)) (:y (clojure.core/deref !coords))], :on {:drag update!}}] [VectorField {:dimensions [20 14], :scale 0.5, :coords-fn (fn [x y] (let [{px :x, py :y} (clojure.core/deref !coords)] [(- y py (- x px)) (- (- px x) (- y py))])), :opacity-fn (fn [x y] (/ (+ (Math/abs x) (Math/abs y)) 10))}]]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dqu2DeXNDzkivPrqS9d7ThdK1Sqq9\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"3d_views\"} [:span \"3D Views\"]] [:p [:span \"As of \"] [:a {:href \"https://jsxgraph.uni-bayreuth.de/wp/2022-05-27-release-of-version-1.4.4/\"} [:span \"version\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"1.4.4\"]] [:span \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"JSXGraph has support for 3d views.\"]] [:p [:span \"Unlike all other elements, 3d elements must be added as children of a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"view3d\"]] [:span \" element.\"]] [:blockquote [:p [:code [:span \"JSXGraph.cljs\"]] [:span \" doesn't currently support adding children to \"] [:code [:span \"jsx/View3D\"]] [:span \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"but we will! Follow \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/issues/23\"} [:span \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"ticket\"]] [:span \" for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"updates.\"]]] [:p [:span \"The allowed 3D elements are:\"]] [:ul [:li [:<> [:a {:href \"https://jsxgraph.org/docs/symbols/Curve3D.html\"} [:span \"Curve3D\"]]]] [:li [:<> [:a {:href \"https://jsxgraph.org/docs/symbols/Functiongraph3D.html\"} [:span \"FunctionGraph3D\"]]]] [:li [:<> [:a {:href \"https://jsxgraph.org/docs/symbols/Line3D.html\"} [:span \"Line3D\"]]]] [:li [:<> [:a {:href \"https://jsxgraph.org/docs/symbols/ParametricSurface3D.html\"} [:span \"ParametricSurface3D\"]]]] [:li [:<> [:a {:href \"https://jsxgraph.org/docs/symbols/Point3D.html\"} [:span \"Point3D\"]]]]] [:p [:span \"To instantiate a 3D scene with \"] [:code [:span \"JSXGraph.cljs\"]] [:span \", you'll need to use\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the \"] [:a {:href \"#Imperative%20Style\"} [:span \"Imperative Style\"]] [:span \" described below to create your\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"view and 3D elements directly on the \"] [:code [:span \"board\"]] [:span \" instance.\"]] [:p [:span \"The following example is a port of the demo listed under\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the \"] [:a {:href \"https://jsxgraph.org/docs/symbols/Functiongraph3D.html\"} [:code [:span \"FunctionGraph3D\"]] [:span \" API\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"entry\"]] [:span \". The plot\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"shows the surface defined by the equation\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"F(x, y) = \\\\sin\\\\left(\\\\frac{xy}{4}\\\\right).\", :nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn nextjournal.clerk.render/render-katex, :hash \"5dtLYB93Mi3NowoYurf1Ue76yrXtDC\"}}]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n (let [box [-5 5]\\n       F   (fn [x y]\\n             (Math/sin (* x (/ y 4))))]\\n   [jsx/JSXGraph\\n    {:boundingbox [-8 8 8 -8]\\n     :showCopyright false\\n     :axis false\\n     :showNavigation false\\n     :ref (fn [b]\\n            (when b\\n              ;; First, create a `view3d` object on the board `b`.\\n              (let [view\\n                    (jsx/create b \\\"view3d\\\"\\n                                [[-6 -3] [8 8]\\n                                 [box box box]]\\n                                {:xPlaneRear {:visible false}\\n                                 :yPlaneRear {:visible false}})]\\n                ;; Note that we create any 3d elements on `view`, not on the board\\n                ;; `b`.\\n                (jsx/create view \\\"functiongraph3d\\\"\\n                            [F box box]\\n                            {:strokeWidth 0.5\\n                             :stepsU 70\\n                             :stepsV 70}))))}]))\", :nextjournal/opts {:loc {:line 939, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do (let [box [-5 5] F (fn [x y] (Math/sin (* x (/ y 4))))] [jsx/JSXGraph {:boundingbox [-8 8 8 -8], :showCopyright false, :axis false, :showNavigation false, :ref (fn [b] (when b (let [view (jsx/create b \"view3d\" [[-6 -3] [8 8] [box box box]] {:xPlaneRear {:visible false}, :yPlaneRear {:visible false}})] (jsx/create view \"functiongraph3d\" [F box box] {:strokeWidth 0.5, :stepsU 70, :stepsV 70}))))}]))] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5dqw5EeXoSsGxWMavruBZCx3jt1Vt7\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"jsxgraph_vs_jsxgraph.cljs\"} [:span \"JSXGraph vs JSXGraph.cljs\"]] [:p [:span \"This section discusses differences between the \"] [:a {:href \"https://reactjs.org/\"} [:span \"React\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"/ \"] [:a {:href \"https://reagent-project.github.io/\"} [:span \"Reagent\"]] [:span \"-based interface provided by\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"JSXGraph.cljs\"]] [:span \" and the imperative JavaScript API presented by the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"original \"] [:a {:href \"http://jsxgraph.org/\"} [:code [:span \"JSXGraph\"]]] [:span \" library.\"]] [:p [:span \"Let's compare two implementations of the \"] [:a {:href \"http://jsxgraph.org/wiki/index.php/Circle\"} [:span \"Circle\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"example\"]] [:span \" from the \"] [:a {:href \"http://jsxgraph.org/wiki/index.php?title=Category:Examples\"} [:span \"JSXGraph\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"examples\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"directory\"]] [:span \".\"]] [:p [:span \"Given some \"] [:code [:span \"div\"]] [:span \" with \"] [:code [:span \"id=\\\"jxgbox\\\"\"]] [:span \", the following snippet of JavaScript will\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"inject a \"] [:code [:span \"JSXGraph\"]] [:span \" construction into the \"] [:code [:span \"div\"]] [:span \":\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"var b = JXG.JSXGraph.initBoard('jxgbox', {boundingbox: [-5, 2, 5, -2]});\\nvar p1 = b.create('point',[0,0], {name:'A',size: 4, face: 'o'});\\nvar p2 = b.create('point',[2,-1], {name:'B',size: 4, face: 'o'})\\nvar ci = b.createElement('circle',[\\\"A\\\",\\\"B\\\"], {strokeColor:'#00ff00',strokeWidth:2});\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:p [:span \"In \"] [:code [:span \"JSXGraph.cljs\"]] [:span \" we can write the example like this:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-5 5 5 -2]\\n                :keepAspectRatio true}\\n  [:point {:name \\\"A\\\" :size 4 :face \\\"o\\\" :parents [0 0]}]\\n  [:point {:name \\\"B\\\" :size 4 :face \\\"o\\\" :parents [2 -1]}]\\n  [:circle {:strokeColor \\\"#00ff00\\\" :strokeWidth 2\\n            :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 989, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :keepAspectRatio true} [:point {:name \"A\", :size 4, :face \"o\", :parents [0 0]}] [:point {:name \"B\", :size 4, :face \"o\", :parents [2 -1]}] [:circle {:strokeColor \"#00ff00\", :strokeWidth 2, :parents [\"A\" \"B\"]}]])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drA4iBXBPgByHH5mZnXNK6gjjwwYd\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Note the following differences:\"]] [:p [:strong [:span \"In JSXGraph:\"]]] [:p [:span \"You create a board by calling \"] [:code [:span \"initBoard\"]] [:span \" with the id of some existing \"] [:code [:span \"div\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"and a map of options.\"]] [:p [:span \"New elements are added to a board by calling \"] [:code [:span \"board.create(<type-string>   <parents> <attrs>)\"]] [:span \", where\"]] [:ul [:li [:p [:code [:span \"<type-string>\"]] [:span \": the lowercase version of one of the classes in the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:span \"API\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Reference\"]]]] [:li [:p [:code [:span \"<parents>\"]] [:span \": an array of the elements described under each class's \\\"Element\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Detail\\\"\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"section. (A \"] [:a {:href \"https://jsxgraph.org/docs/symbols/Circle.html\"} [:span \"Circle\"]] [:span \", for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"example, takes two parents: a \"] [:code [:span \"Point\"]] [:span \" for its center, and either a \"] [:code [:span \"Point\"]] [:span \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"Line\"]] [:span \" or \"] [:code [:span \"Circle\"]] [:span \" for its radial point.)\"]]] [:li [:p [:code [:span \"<attrs>\"]] [:span \": a map of attributes described under the class's \\\"Attributes\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Summary\\\" section.\"]]]] [:p [:strong [:span \"In JSXGraph.cljs\"]]] [:p [:span \"You create a board by providing a vector of the form \"] [:code [:span \"[jsx/JSXGraph  <options-map>]\"]] [:span \". The component creates its own \"] [:code [:span \"div\"]] [:span \". If you want to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"customize the div, provide \"] [:code [:span \":id\"]] [:span \" or \"] [:code [:span \":style\"]] [:span \" keys.\"]] [:p [:span \"To add an element, add a vector of the following form as a child of the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"JSXGraph\"]] [:span \" component:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"[<class-keyword> {:parents <parents>, <attrs>}]\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:p [:span \"Where \"] [:code [:span \"<class-keyword>\"]] [:span \" is the keyword form of the classname (\"] [:code [:span \":circle\"]] [:span \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \":functiongraph\"]] [:span \" etc), \"] [:code [:span \"<parents>\"]] [:span \" are the parents described above and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"<attrs>\"]] [:span \" are any other key-value pairs.\"]] [\"h3\" {:id \"keyword_vs_component\"} [:span \"Keyword vs Component\"]] [:p [:span \"All classes the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:span \"JSXGraph API\"]] [:span \" are\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"exposed as components\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"in \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/main/src/jsxgraph/core.cljs#L149\"} [:code [:span \"jsxgraph.core\"]]] [:span \".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"You can use these components directly in place of the keyword in the example\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"above:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-5 5 5 -2] :showCopyright false}\\n  [jsx/Point {:name \\\"A\\\" :size 4 :parents [-1 1]}]\\n  [jsx/Point {:name \\\"B\\\" :size 4 :parents [2 -1]}]\\n  [jsx/Line {:strokeColor \\\"#00ff00\\\" :strokeWidth 2\\n             :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 1044, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :showCopyright false} [jsx/Point {:name \"A\", :size 4, :parents [-1 1]}] [jsx/Point {:name \"B\", :size 4, :parents [2 -1]}] [jsx/Line {:strokeColor \"#00ff00\", :strokeWidth 2, :parents [\"A\" \"B\"]}]])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drtoiYR2em8AwUZVcJB9xq1o7LbaK\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"imperative_style\"} [:span \"Imperative Style\"]] [:p [:span \"If you prefer the more imperative style of the original \"] [:code [:span \"JSXGraph\"]] [:span \" library,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"or if you need immediate access to an element after you add it to the board,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"you can provide a callback to the \"] [:code [:span \"jsx/JSXGraph\"]] [:span \" component using the \"] [:code [:span \":ref\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"key and get access to the \"] [:code [:span \"board\"]] [:span \" object.\"]] [:p [:span \"Use \"] [:code [:span \"jsxgraph.core/create\"]] [:span \" just like you'd use \"] [:code [:span \"board.create\"]] [:span \" in JavaScript\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to add elements:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(cljs\\n [jsx/JSXGraph\\n  {:boundingbox [-5 5 5 -2]\\n   :style {:height \\\"200px\\\" :width \\\"100%\\\"}\\n   :ref (fn [b]\\n          ;; `b` will be `nil` when the board is first created. After the board\\n          ;; mounts itself, the `:ref` callback will be called again with the\\n          ;; `JSXGraph` instance.\\n          (when b\\n            (let [p1 (jsx/create b \\\"point\\\" [0 0] {:name \\\"A\\\" :size 4 :face \\\"o\\\"})\\n                  p2 (jsx/create b \\\"point\\\" [2 -1] {:name \\\"B\\\" :size 4 :face \\\"o\\\"})]\\n              (jsx/create b \\\"line\\\"\\n                          ;; Note that we have the actual point instances here and\\n                          ;; can add them, instead of relying on the string ID.\\n                          [p1 p2]\\n                          {:strokeColor \\\"#00ff00\\\" :strokeWidth 2}))))}])\", :nextjournal/opts {:loc {:line 1061, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___29303__auto__] (clojure.core/let [result__29304__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :style {:height \"200px\", :width \"100%\"}, :ref (fn [b] (when b (let [p1 (jsx/create b \"point\" [0 0] {:name \"A\", :size 4, :face \"o\"}) p2 (jsx/create b \"point\" [2 -1] {:name \"B\", :size 4, :face \"o\"})] (jsx/create b \"line\" [p1 p2] {:strokeColor \"#00ff00\", :strokeWidth 2}))))}])] (v/html (if (clojure.core/and (clojure.core/vector? result__29304__auto__) (clojure.core/not (:inspect (clojure.core/meta result__29304__auto__)))) result__29304__auto__ [v/inspect result__29304__auto__])))), :hash \"5drcJEgSHSkGnmJKxHDkuQH8EGxn3P\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"accessing_element_values\"} [:span \"Accessing Element Values\"]] [:p [:span \"A big difference between the \"] [:code [:span \"JSXGraph.cljs\"]] [:span \" and \"] [:code [:span \"JSXGraph\"]] [:span \" versions has to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"do with how data is communicated. In JS, you typically create elements and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"then query them on demand from other elements.\"]] [:p [:span \"In \"] [:code [:span \"JSXGraph.cljs\"]] [:span \", elements communicate via updates to a shared \"] [:code [:span \"atom\"]] [:span \" or\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"reagent/atom\"]] [:span \". Many of the examples in the \"] [:a {:href \"#Guides\"} [:span \"Guides\"]] [:span \" and \"] [:a {:href \"#Advanced%20Examples\"} [:span \"Advanced\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Examples\"]] [:span \" above use this style, so please study these\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"carefully.\"]] [:blockquote [:p [:span \"See \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md\"} [:span \"Reagent's guide to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"state\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"for more detail.\"]]] [\"h2\" {:id \"thanks_and_support\"} [:span \"Thanks and Support\"]] [:p [:span \"To support this work and my other open source projects, consider sponsoring\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"me via my \"] [:a {:href \"https://github.com/sponsors/sritchie\"} [:span \"GitHub Sponsors page\"]] [:span \". Thank\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"you to my current sponsors!\"]] [:p [:span \"I'm grateful to \"] [:a {:href \"https://www.clojuriststogether.org/\"} [:span \"Clojurists Together\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"for financial support during this library's creation. Please\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"consider \"] [:a {:href \"https://www.clojuriststogether.org/developers/\"} [:span \"becoming a member\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to support this work and projects like it.\"]] [:p [:span \"For more information on me and my work, visit \"] [:a {:href \"https://samritchie.io\"} [:span \"https://samritchie.io\"]] [:span \".\"]] [\"h2\" {:id \"license\"} [:span \"License\"]] [:p [:span \"Copyright © 2022 Sam Ritchie.\"]] [:p [:span \"Distributed under the \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/main/LICENSE\"} [:span \"MIT\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"License\"]] [:span \".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"See \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/main/LICENSE\"} [:span \"LICENSE\"]] [:span \".\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}}], :css-class nil}, :nextjournal/viewer {:name :clerk/notebook, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5dt1qwFEn2BQwdEM84VqwY4LR6p4YV\"}}}, :index \"dev/jsxgraph/notebook.clj\", :browse? false, :paths [\"dev/jsxgraph/notebook.clj\"], :current-path \"dev/jsxgraph/notebook.clj\", :bundle? false, :path->url {\"dev/jsxgraph/notebook.clj\" \"\"}, :expanded-paths [\"dev/jsxgraph/notebook.clj\"], :report-fn #object[nextjournal.clerk.builder$stdout_reporter 0x5321e337 \"nextjournal.clerk.builder$stdout_reporter@5321e337\"]}")
app.init(opts)
</script></body></html>