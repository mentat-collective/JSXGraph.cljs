<!DOCTYPE html>
<html class="overflow-hidden min-h-screen"><head><title>JSXGraph.cljs</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./public/build/index.html", "./public/build/**/*.html", "./build/viewer.js"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-gray-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h2 {
    /*We cannot collapse margins due to nesting but we want to*/
    /*keep the h2’s large margin visible*/
    @apply font-condensed font-bold mt-8 first:mt-2;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }

  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.viewer-markdown ul ul {
  @apply mt-1 mb-0;
}

/* compact TOC */
.viewer-markdown .toc ul {
  list-style: none;
  @apply my-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.viewer-code {
  @apply font-mono bg-slate-100 rounded-sm text-sm overflow-x-auto dark:bg-gray-800;
}
.viewer-code .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
  .viewer-notebook .viewer-code .cm-content {
    @apply py-4 pl-12;
  }
}
/* Don’t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-italic, .cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .viewer-result {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-italic.cmt-string {
  @apply dark:text-sky-200;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.viewer-notebook,
.viewer-markdown {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-4
    prose-table:mt-0
    prose-th:mb-0
    prose-img:my-0
    prose-code:font-medium prose-code:bg-slate-100
    max-w-none;
}
.viewer-markdown blockquote p:first-of-type:before,
.viewer-markdown blockquote p:last-of-type:after {
  @apply content-none;
}

/* Images */
/* --------------------------------------------------------------- */


/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.viewer-markdown .toc      { @apply mt-4; }
.viewer-markdown h1 + .toc { @apply mt-8; }

.viewer-markdown .toc h1,
.viewer-markdown .toc h2,
.viewer-markdown .toc h3,
.viewer-markdown .toc h4,
.viewer-markdown .toc h5,
.viewer-markdown .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.viewer-markdown .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.viewer-markdown .toc li    { @apply m-0; }
.viewer-markdown .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.viewer-notebook { @apply py-16; }
#clerk-static-app .viewer-notebook { @apply pt-[0.8rem] pb-16; }
.viewer-markdown *:first-child:not(.viewer-code):not(li):not(h2) { @apply mt-0; }
/*.viewer + .viewer { @apply mt-6; }*/
.viewer + .viewer-result { @apply mt-0; }
.viewer-code + .viewer-result { @apply mt-3; }
.viewer-markdown + .viewer-markdown { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-3px] inline-flex justify-center items-center w-[18px] h-[18px]
    rounded-full bg-slate-100 border border-slate-300 hover:bg-slate-200 hover:border-slate-300
    m-0 ml-[4px] cursor-pointer;
}
.sidenote {
  @apply hidden float-left clear-both mx-[2.5%] my-4 text-xs relative w-[95%];
}
.sidenote-ref.expanded + .sidenote {
  @apply block;
}
@media (min-width: 860px) {
  .sidenote-ref {
    @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
  }
  .sidenote sup { @apply inline; }
  .viewer-markdown .contains-sidenotes p { @apply max-w-[65%]; }
  .viewer-markdown p .sidenote {
    @apply mr-[-54%] mt-[0.2rem] w-1/2 float-right clear-right relative block;
  }
}
.viewer-code + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-code-folded + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-result + .viewer-result {
  @apply mt-2;
}
.viewer-code + .viewer-code-folded {
  @apply mt-4;
}
.viewer-result {
  @apply leading-tight mb-6;
}
.viewer-result figure {
  @apply mt-0 !important;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by tw’s border-color */
.katex * { @apply border-black; }
</style><script src="/js/main.js" type="text/javascript"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&amp;family=Fira+Mono:wght@400;700&amp;family=Fira+Sans+Condensed:ital,wght@0,700;1,700&amp;family=Fira+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&amp;family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script>let viewer = nextjournal.clerk.sci_viewer
let app = nextjournal.clerk.static_app
let opts = viewer.read_string("{:out-path \"public\", :path->doc {\"dev/jsxgraph/notebook.clj\" {:nextjournal/viewer {:name :clerk/notebook, :render-fn #viewer-fn v/notebook-viewer}, :nextjournal/value {:blocks [{:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h1\" {:id \"JSXGraph.cljs\"} [:span \"JSXGraph.cljs\"]] [:p [:span \"A \"] [:a {:href \"https://reactjs.org/\"} [:span \"React\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"/ \"] [:a {:href \"https://reagent-project.github.io/\"} [:span \"Reagent\"]] [:span \" interface to\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"the \"] [:a {:href \"https://jsxgraph.org/\"} [:span \"JSXGraph\"]] [:span \" interactive geometry and mathematics\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"library.\"]] [:p [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/actions/workflows/kondo.yml\"} [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:img.inline {:src \"https://github.com/mentat-collective/jsxgraph.cljs/actions/workflows/kondo.yml/badge.svg?branch=main\", :alt \"\"}]}]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/main/LICENSE\"} [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:img.inline {:src \"https://img.shields.io/badge/license-MIT-brightgreen.svg\", :alt \"\"}]}]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:a {:href \"https://cljdoc.org/d/org.mentat/jsxgraph.cljs/CURRENT\"} [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:img.inline {:src \"https://cljdoc.org/badge/org.mentat/jsxgraph.cljs\", :alt \"\"}]}]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:a {:href \"https://clojars.org/org.mentat/jsxgraph.cljs\"} [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/jsxgraph.cljs.svg\", :alt \"\"}]}]]] [:blockquote [:p [:span \"The interactive documentation on this page was generated from \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/cde1b1b84f1bcc3e7cfa1b306172b3bc2398ed9a/dev/jsxgraph/notebook.clj\"} [:span \"this source\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"file\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"using \"] [:a {:href \"https://github.com/nextjournal/clerk\"} [:span \"Clerk\"]] [:span \". Follow\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"the \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/tree/main#interactive-documentation-via-clerk\"} [:span \"instructions in the\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"README\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"to run and modify this notebook on your machine!\"]] [:p [:span \"See the \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs\"} [:span \"Github\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"project\"]] [:span \" for more\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"details, and the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/jsxgraph.cljs/CURRENT/doc/readme\"} [:span \"cljdoc\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"page\"]] [:span \" for\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"detailed API documentation.\"]]] [\"h2\" {:id \"What%20is%20JSXGraph?\"} [:span \"What is JSXGraph?\"]] [:p [:a {:href \"https://jsxgraph.org/\"} [:span \"JSXGraph\"]] [:span \" is a JavaScript library that lets you build\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"2-dimensional scenes full of geometric objects, function curves and\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"interactive UI elements, potentially with many complex constraints defined\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"between these objects.\"]] [:p [:span \"For example, here is a visual JSXGraph proof that the \"] [:a {:href \"https://en.wikipedia.org//wiki/Euler_line\"} [:span \"Euler\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"line\"]] [:span \" passes through any\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"triangle's \"] [:a {:href \"https://en.wikipedia.org/wiki/Orthocenter\"} [:span \"orthocenter\"]] [:span \", \"] [:a {:href \"https://en.wikipedia.org/wiki/Centroid\"} [:span \"centroid\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"and \"] [:a {:href \"https://en.wikipedia.org/wiki/Circumcenter\"} [:span \"circumcenter\"]] [:span \". Drag the\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"triangle's corner points around and watch the example respond:\"]] [:blockquote [:p [:span \"The 'show code' link below will expand the example's source. Use the\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"checkmarks to toggle on and off the elements that contribute to each point\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"on the Euler Line.\"]]]]} {:nextjournal/viewer {:name :code-folded, :render-fn #viewer-fn v/foldable-code-viewer}, :nextjournal/value \"^{:nextjournal.clerk/visibility {:code :fold}}\\n(cljs\\n (let [!state (atom\\n               {:circumcenter true\\n                :orthocenter true\\n                :centroid true})\\n       centroid?     #(:centroid @!state)\\n       orthocenter?  #(:orthocenter @!state)\\n       circumcenter? #(:circumcenter @!state)\\n       cerise {:strokeColor \\\"#901B77\\\"\\n               :fillColor \\\"#CA147A\\\"}\\n       grass {:strokeColor \\\"#009256\\\"\\n              :fillColor \\\"#65B72E\\\"\\n              :visible true\\n              :withLabel true}\\n       perpendicular {:strokeColor \\\"black\\\"\\n                      :visible orthocenter?\\n                      :dash 1\\n                      :strokeWidth 1}\\n       median {:strokeWidth 1\\n               :strokeColor \\\"#333333\\\"\\n               :dash 2}]\\n   [jsx/JSXGraph\\n    {:boundingbox [-1.5 2 1.5 -1]\\n     :showCopyright false\\n     :keepaspectratio true}\\n    [:checkbox {:parents [-2 1.5 \\\"Circumcenter\\\"]\\n                :checked (:circumcenter @!state)\\n                :on {:up #(swap! !state assoc :circumcenter (not (.Value %)))}}]\\n    [:checkbox {:parents [-2 1.3 \\\"Orthocenter\\\"]\\n                :checked (:orthocenter @!state)\\n                :on {:up #(swap! !state assoc :orthocenter (not (.Value %)))}}]\\n    [:checkbox {:parents [-2 1.1 \\\"Centroid\\\"]\\n                :checked (:centroid @!state)\\n                :on {:up #(swap! !state assoc :centroid (not (.Value %)))}}]\\n\\n    ;; Triangle\\n    [:point (assoc cerise :parents [1 0] :id \\\"A\\\")]\\n    [:point (assoc cerise :parents [-1 0] :id \\\"B\\\")]\\n    [:point (assoc cerise :parents [0.65 1.45] :id \\\"C\\\")]\\n    [:polygon\\n     {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"]\\n      :borders {:ids [\\\"pol_0\\\" \\\"pol_1\\\" \\\"pol_2\\\"]}\\n      :fillColor \\\"#FFFF00\\\"\\n      :lines {:strokeWidth 2\\n              :strokeColor \\\"#009256\\\"}}]\\n\\n    ;; ## Circumcircle\\n    [:circumcircle\\n     {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"]\\n      :strokeColor \\\"#000000\\\"\\n      :visible circumcenter?\\n      :dash 3\\n      :strokeWidth 1\\n      :center (assoc grass\\n                     :name \\\"U\\\"\\n                     :visible circumcenter?)}]\\n\\n    ;; ## Orthocenter\\n    ;;\\n    ;; Altitudes\\n    [:perpendicular\\n     (assoc perpendicular :parents [\\\"pol_0\\\" \\\"C\\\"] :id \\\"pABC\\\")]\\n    [:intersection\\n     (assoc cerise\\n            :parents [\\\"pol_0\\\" \\\"pABC\\\"]\\n            :visible orthocenter?\\n            :name \\\"H_c\\\")]\\n\\n    [:perpendicular\\n     (assoc perpendicular :parents [\\\"pol_1\\\" \\\"A\\\"] :id \\\"pBCA\\\")]\\n    [:intersection\\n     (assoc cerise\\n            :parents [\\\"pol_1\\\" \\\"pBCA\\\"]\\n            :visible orthocenter?\\n            :name \\\"H_a\\\")]\\n\\n    [:perpendicular\\n     (assoc perpendicular :parents [\\\"pol_2\\\" \\\"B\\\"] :id \\\"pCAB\\\")]\\n    [:intersection\\n     (assoc cerise\\n            :parents [\\\"pol_2\\\" \\\"pCAB\\\"]\\n            :visible orthocenter?\\n            :name \\\"H_b\\\")]\\n\\n    ;; Intersection of Altitudes\\n    [:intersection\\n     (assoc grass\\n            :visible orthocenter?\\n            :id \\\"i1\\\"\\n            :name \\\"H\\\"\\n            :parents [\\\"pABC\\\" \\\"pCAB\\\" 0])]\\n\\n    ;; ## Centroid\\n    ;;\\n    ;; Medians\\n    [:midpoint\\n     (assoc cerise :name \\\"M_a\\\"\\n            :visible centroid?\\n            :parents [\\\"B\\\" \\\"C\\\"])]\\n    [:segment\\n     (assoc median :id \\\"ma\\\"\\n            :visible centroid?\\n            :parents [\\\"M_a\\\" \\\"A\\\"])]\\n\\n    [:midpoint\\n     (assoc cerise :name \\\"M_b\\\"\\n            :visible centroid?\\n            :parents [\\\"C\\\" \\\"A\\\"])]\\n    [:segment\\n     (assoc median :id \\\"mb\\\"\\n            :visible centroid?\\n            :parents [\\\"M_b\\\" \\\"B\\\"])]\\n\\n    [:midpoint\\n     (assoc cerise :name \\\"M_c\\\"\\n            :visible centroid?\\n            :parents [\\\"A\\\" \\\"B\\\"])]\\n    [:segment\\n     (assoc median :id \\\"mc\\\"\\n            :visible centroid?\\n            :parents [\\\"M_c\\\" \\\"C\\\"])]\\n\\n    ;; Intersection of Medians\\n    [:intersection\\n     (assoc grass :id \\\"i2\\\"\\n            :visible centroid?\\n            :name \\\"S\\\" :parents [\\\"ma\\\" \\\"mc\\\" 0])]\\n\\n    ;; Euler's Line (intersection of orthocenter and median, but the\\n    ;; circumcenter lies on this line as well).\\n    [:line\\n     {:parents [\\\"i1\\\" \\\"i2\\\"]\\n      :strokeWidth 2\\n      :strokeColor \\\"#901B77\\\"}]]))\", :nextjournal/opts {:loc {:line 50, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (let [!state (atom {:circumcenter true, :orthocenter true, :centroid true}) centroid? (fn* [] (:centroid (clojure.core/deref !state))) orthocenter? (fn* [] (:orthocenter (clojure.core/deref !state))) circumcenter? (fn* [] (:circumcenter (clojure.core/deref !state))) cerise {:strokeColor \\\"#901B77\\\", :fillColor \\\"#CA147A\\\"} grass {:strokeColor \\\"#009256\\\", :fillColor \\\"#65B72E\\\", :visible true, :withLabel true} perpendicular {:strokeColor \\\"black\\\", :visible orthocenter?, :dash 1, :strokeWidth 1} median {:strokeWidth 1, :strokeColor \\\"#333333\\\", :dash 2}] [jsx/JSXGraph {:boundingbox [-1.5 2 1.5 -1], :showCopyright false, :keepaspectratio true} [:checkbox {:parents [-2 1.5 \\\"Circumcenter\\\"], :checked (:circumcenter (clojure.core/deref !state)), :on {:up (fn* [%1] (swap! !state assoc :circumcenter (not (.Value %1))))}}] [:checkbox {:parents [-2 1.3 \\\"Orthocenter\\\"], :checked (:orthocenter (clojure.core/deref !state)), :on {:up (fn* [%1] (swap! !state assoc :orthocenter (not (.Value %1))))}}] [:checkbox {:parents [-2 1.1 \\\"Centroid\\\"], :checked (:centroid (clojure.core/deref !state)), :on {:up (fn* [%1] (swap! !state assoc :centroid (not (.Value %1))))}}] [:point (assoc cerise :parents [1 0] :id \\\"A\\\")] [:point (assoc cerise :parents [-1 0] :id \\\"B\\\")] [:point (assoc cerise :parents [0.65 1.45] :id \\\"C\\\")] [:polygon {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"], :borders {:ids [\\\"pol_0\\\" \\\"pol_1\\\" \\\"pol_2\\\"]}, :fillColor \\\"#FFFF00\\\", :lines {:strokeWidth 2, :strokeColor \\\"#009256\\\"}}] [:circumcircle {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"], :strokeColor \\\"#000000\\\", :visible circumcenter?, :dash 3, :strokeWidth 1, :center (assoc grass :name \\\"U\\\" :visible circumcenter?)}] [:perpendicular (assoc perpendicular :parents [\\\"pol_0\\\" \\\"C\\\"] :id \\\"pABC\\\")] [:intersection (assoc cerise :parents [\\\"pol_0\\\" \\\"pABC\\\"] :visible orthocenter? :name \\\"H_c\\\")] [:perpendicular (assoc perpendicular :parents [\\\"pol_1\\\" \\\"A\\\"] :id \\\"pBCA\\\")] [:intersection (assoc cerise :parents [\\\"pol_1\\\" \\\"pBCA\\\"] :visible orthocenter? :name \\\"H_a\\\")] [:perpendicular (assoc perpendicular :parents [\\\"pol_2\\\" \\\"B\\\"] :id \\\"pCAB\\\")] [:intersection (assoc cerise :parents [\\\"pol_2\\\" \\\"pCAB\\\"] :visible orthocenter? :name \\\"H_b\\\")] [:intersection (assoc grass :visible orthocenter? :id \\\"i1\\\" :name \\\"H\\\" :parents [\\\"pABC\\\" \\\"pCAB\\\" 0])] [:midpoint (assoc cerise :name \\\"M_a\\\" :visible centroid? :parents [\\\"B\\\" \\\"C\\\"])] [:segment (assoc median :id \\\"ma\\\" :visible centroid? :parents [\\\"M_a\\\" \\\"A\\\"])] [:midpoint (assoc cerise :name \\\"M_b\\\" :visible centroid? :parents [\\\"C\\\" \\\"A\\\"])] [:segment (assoc median :id \\\"mb\\\" :visible centroid? :parents [\\\"M_b\\\" \\\"B\\\"])] [:midpoint (assoc cerise :name \\\"M_c\\\" :visible centroid? :parents [\\\"A\\\" \\\"B\\\"])] [:segment (assoc median :id \\\"mc\\\" :visible centroid? :parents [\\\"M_c\\\" \\\"C\\\"])] [:intersection (assoc grass :id \\\"i2\\\" :visible centroid? :name \\\"S\\\" :parents [\\\"ma\\\" \\\"mc\\\" 0])] [:line {:parents [\\\"i1\\\" \\\"i2\\\"], :strokeWidth 2, :strokeColor \\\"#901B77\\\"}]]))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs\"} [:span \"JSXGraph.cljs\"]] [:span \" extends\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"JSXGraph with a \"] [:a {:href \"https://reagent-project.github.io/\"} [:span \"Reagent\"]] [:span \" component that\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"makes it easy to define JSXGraph constructions inside of a user interface\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"built with Clojurescript.\"]] [\"h2\" {:id \"Quickstart\"} [:span \"Quickstart\"]] [:p [:span \"Install \"] [:code [:span \"JSXGraph.cljs\"]] [:span \" into your Clojurescript project using the\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"instructions at its Clojars page:\"]] [:p [:a {:href \"https://clojars.org/org.mentat/jsxgraph.cljs\"} [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/jsxgraph.cljs.svg\", :alt \"\"}]}]]] [:p [:span \"Or grab the most recent code using a Git dependency:\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-code [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \";; deps\\n{org.mentat/jsxgraph.cljs\\n  {:git/sha \\\"cde1b1b84f1bcc3e7cfa1b306172b3bc2398ed9a\\\"}}\\n\"}]]}] [:p [:span \"Require \"] [:code [:span \"jsxgraph.core\"]] [:span \" in your namespace:\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-code [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(ns my-app\\n  (:require [jsxgraph.core :as jsx]\\n            [reagent.core :as reagent]))\\n\"}]]}] [:p [:span \"The main entrypoint to the library is the \"] [:code [:span \"jsxgraph.core/JSXGraph\"]] [:span \" component.\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"Each class in the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:span \"JSXGraph API\"]] [:span \" has a\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"corresponding component bound as \"] [:code [:span \"jsx/ClassName\"]] [:span \". Use these to build a simple\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"arrow and drag it around by its point:\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-2 2 2 -2] :axis true}\\n  [jsx/Arrow {:name \\\"A\\\" :size 4\\n              :parents [[0 0] [1 1]]}]])\", :nextjournal/opts {:loc {:line 220, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do [jsx/JSXGraph {:boundingbox [-2 2 2 -2], :axis true} [jsx/Arrow {:name \\\"A\\\", :size 4, :parents [[0 0] [1 1]]}]])] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"This guide assumes that you're coming at \"] [:code [:span \"JSXGraph\"]] [:span \" for the first time\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"through \"] [:code [:span \"JSXGraph.cljs\"]] [:span \". If you're coming from JavaScript, OR if you're\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"attempting to port \"] [:a {:href \"http://jsxgraph.org/wp/about/index.html\"} [:span \"one of the many JSXGraph\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"examples\"]] [:span \", you'll absolutely need to\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"read \"] [:a {:href \"#JSXGraph%20vs%20JSXGraph.cljs\"} [:span \"JSXGraph vs JSXGraph.cljs\"]] [:span \" below.\"]] [:blockquote [:p [:span \"If you're not familiar with React or Reagent, or what a \\\"component\\\" is,\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"please give the \"] [:a {:href \"https://reagent-project.github.io/\"} [:span \"Reagent homepage\"]] [:span \" a\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"read. If this is your first Clojurescript experience, come say hi to\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"me (@sritchie) in the \"] [:a {:href \"http://clojurians.net/\"} [:span \"Clojurians Slack\"]] [:span \" and I'll\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"get you started.\"]]] [\"h2\" {:id \"Basics\"} [:span \"Basics\"]] [:p [:span \"A \"] [:code [:span \"JSXGraph\"]] [:span \" construction consists of a \\\"board\\\" populated by some number of\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"\\\"elements\\\", where an element is an instance of one of the classes described\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"in the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:span \"JSXGraph API docs\"]] [:span \".\"]] [:p [:span \"The \"] [:a {:href \"https://reactjs.org/\"} [:span \"React\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"/ \"] [:a {:href \"https://reagent-project.github.io/\"} [:span \"Reagent\"]] [:span \" data model is \\\"declarative\\\".\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"This means that you create and populate a board by listing, in order, the\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"elements that you want to appear on the board.\"]] [\"h3\" {:id \"Your%20First%20Board\"} [:span \"Your First Board\"]] [:p [:span \"Declare a board with the \"] [:code [:span \"jsx/JSXGraph\"]] [:span \" component:\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n [jsx/JSXGraph {:axis true}])\", :nextjournal/opts {:loc {:line 252, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do [jsx/JSXGraph {:axis true}])] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"The component takes\"]] [:ul [:li [:<> [:span \"a \"] [:code [:span \"keyword => value\"]] [:span \" map of attributes (see the \"] [:code [:span \"attributes\"]] [:span \" section under\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:code [:span \"Parameters\"]] [:span \" at \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.JSXGraph.html\"} [:span \"this\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"page\"]] [:span \") for allowed\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"values\"]]] [:li [:<> [:span \"Any number of child components.\"]]]] [:p [:span \"Child components are added to the board in the order that they're listed. A\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"full re-render is triggered any time any of the properties of the board or\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"any child component changes.\"]] [:p [:span \"For example, here's a board with two \"] [:code [:span \"jsx/Point\"]] [:span \"s and a \"] [:code [:span \"jsx/Arrow\"]] [:span \" between\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"them:\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-3 3 3 -3] :axis true}\\n  [jsx/Point {:name \\\"A\\\" :size 1 :parents [-1 1]}]\\n  [jsx/Point {:id \\\"B\\\" :name \\\"BEE!\\\" :size 1 :parents [2 -1]}]\\n  [jsx/Arrow {:size 4\\n              :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 270, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do [jsx/JSXGraph {:boundingbox [-3 3 3 -3], :axis true} [jsx/Point {:name \\\"A\\\", :size 1, :parents [-1 1]}] [jsx/Point {:id \\\"B\\\", :name \\\"BEE!\\\", :size 1, :parents [2 -1]}] [jsx/Arrow {:size 4, :parents [\\\"A\\\" \\\"B\\\"]}]])] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"Note these details:\"]] [:ul [:li [:<> [:span \"The \"] [:code [:span \"Point\"]] [:span \" instances declare their initial coordinates with a vector\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"supplied via the \"] [:code [:span \":parents\"]] [:span \" key. (All elements require parents.) This leaves\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"them free to move! Drag each \"] [:code [:span \"Point\"]] [:span \" around and see.\"]]] [:li [:<> [:span \"The \"] [:code [:span \"Arrow\"]] [:span \" sets its \"] [:code [:span \":parents\"]] [:span \" to points \"] [:code [:span \"\\\"A\\\"\"]] [:span \" and \"] [:code [:span \"\\\"B\\\"\"]] [:span \" using their IDs.\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"This creates a constraint, where the \"] [:code [:span \"Arrow\"]] [:span \" can only be moved by moving\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"the points.\"]]] [:li [:<> [:span \"The second \"] [:code [:span \"Point\"]] [:span \" has a \"] [:code [:span \":name\"]] [:span \" different from its \"] [:code [:span \":id\"]] [:span \". This allowed us\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"to use the \"] [:code [:span \":name\"]] [:span \" for the second \"] [:code [:span \"Point\"]] [:span \"'s label, and the \"] [:code [:span \":id\"]] [:span \" for\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"reference by \"] [:code [:span \"Arrow\"]] [:span \".\"]]]] [:p [:span \"You can also refer to elements by their classname, written as either a string or a keyword:\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-3 3 3 -3] :axis true}\\n  [:point {:name \\\"A\\\" :size 1 :parents [-1 1]}]\\n  [\\\"point\\\" {:id \\\"B\\\" :name \\\"BEE!\\\" :size 1 :parents [2 -1]}]\\n  [:arrow {:size 4\\n           :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 291, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do [jsx/JSXGraph {:boundingbox [-3 3 3 -3], :axis true} [:point {:name \\\"A\\\", :size 1, :parents [-1 1]}] [\\\"point\\\" {:id \\\"B\\\", :name \\\"BEE!\\\", :size 1, :parents [2 -1]}] [:arrow {:size 4, :parents [\\\"A\\\" \\\"B\\\"]}]])] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:blockquote [:p [:span \"Note that this only works if you insert the element as a direct child of a\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:code [:span \"jsx/JSXGraph\"]] [:span \" component. When writing \"] [:a {:href \"#Custom%20Components\"} [:span \"Custom\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"Components\"]] [:span \" you'll need to write out the full\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:code [:span \"jsx/<ClassName>\"]] [:span \" form.\"]]] [\"h3\" {:id \"Event%20Listeners\"} [:span \"Event Listeners\"]] [:p [:code [:span \"JSXGraph\"]] [:span \" elements fire events during various updates and user interactions.\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"To get data out of the element, pass a map of \"] [:code [:span \"{<event-name> <handling-fn>}\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"to the element via the \"] [:code [:span \":on\"]] [:span \" key.\"]] [:p [:span \"a \"] [:code [:span \"Point\"]] [:span \" exposes its coordinates\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"via \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.CoordsElement.html#X\"} [:code [:span \"X()\"]]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"and \"] [:a {:href \"https://jsxgraph.org/docs/symbols/JXG.CoordsElement.html#X\"} [:code [:span \"Y()\"]]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"methods.\"]] [:p [:span \"This example registers a function that updates a \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md#intro-to-atoms\"} [:span \"reactive\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"atom\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:code [:span \"!state\"]] [:span \" every time the point fires a \"] [:code [:span \"\\\"drag\\\"\"]] [:span \" event, and renders the current\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"value of \"] [:code [:span \"!state\"]] [:span \" each time it changes.\"]] [:p [:span \"Drag the point around and the watch the state update:\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n (reagent/with-let\\n   [!state  (reagent/atom {:x 0 :y 0})\\n    update! (fn [p]\\n              (swap! !state assoc\\n                     :x (.X p)\\n                     :y (.Y p)))]\\n   [:<>\\n    [:pre (str @!state)]\\n    [jsx/JSXGraph {:axis true}\\n     [:point\\n      {:parents [0 0]\\n       :on {:drag update!}}]]]))\", :nextjournal/opts {:loc {:line 321, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (reagent/with-let [!state (reagent/atom {:x 0, :y 0}) update! (fn [p] (swap! !state assoc :x (.X p) :y (.Y p)))] [:<> [:pre (str (clojure.core/deref !state))] [jsx/JSXGraph {:axis true} [:point {:parents [0 0], :on {:drag update!}}]]]))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"The lovely thing about this data model is that other parts of your\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"application outside of \"] [:code [:span \"JSXGraph\"]] [:span \" can read from this state as well.\"]] [\"h3\" {:id \"Functions%20as%20Parents\"} [:span \"Functions as Parents\"]] [:p [:span \"Many \"] [:code [:span \"Element\"]] [:span \" types can take functions as parents. This feature allows you\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"to bind an \"] [:code [:span \"Element\"]] [:span \"'s coordinate to some external state, like the state\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"persisted above in \"] [:code [:span \"!state\"]] [:span \".\"]] [:p [:span \"This example adds a first free \"] [:code [:span \"Point\"]] [:span \" named \"] [:code [:span \"\\\"A\\\"\"]] [:span \", and a second \"] [:code [:span \"Point\"]] [:span \" with\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"position constrained to always equal \"] [:code [:span \"[cos(A_x), sin(A_y)]\"]] [:span \".\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n (reagent/with-let\\n   [!state  (reagent/atom {:x 0 :y 0})\\n    update! (fn [p]\\n              (swap! !state assoc\\n                     :x (.X p)\\n                     :y (.Y p)))\\n    cos-x (fn [] (Math/cos (:x @!state)))\\n    sin-y (fn [] (Math/sin (:y @!state)))]\\n   [:<>\\n    [:pre (str @!state)]\\n    [jsx/JSXGraph {:axis true}\\n     [jsx/Point\\n      {:parents [0 0]\\n       :name \\\"A\\\"\\n       :on {:drag update!}}]\\n     [jsx/Point\\n      {:parents [cos-x sin-y]\\n       :name \\\"[cos A_x, sin A_y]\\\"}]]]))\", :nextjournal/opts {:loc {:line 347, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (reagent/with-let [!state (reagent/atom {:x 0, :y 0}) update! (fn [p] (swap! !state assoc :x (.X p) :y (.Y p))) cos-x (fn [] (Math/cos (:x (clojure.core/deref !state)))) sin-y (fn [] (Math/sin (:y (clojure.core/deref !state))))] [:<> [:pre (str (clojure.core/deref !state))] [jsx/JSXGraph {:axis true} [jsx/Point {:parents [0 0], :name \\\"A\\\", :on {:drag update!}}] [jsx/Point {:parents [cos-x sin-y], :name \\\"[cos A_x, sin A_y]\\\"}]]]))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:blockquote [:p [:span \"There is a \\\"gotcha\\\" here! If you use a \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md#intro-to-atoms\"} [:span \"reactive\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"atom\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"and access its value somewhere in your component, any change to the atom\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"will force the board to re-render.\"]] [:p [:span \"If you do this you need to be careful to move any functions you want to use\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:em [:span \"outside\"]] [:span \" of the component. Otherwise the board will erase and re-mount\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"every component every time the atom's value changes.\"]]] [\"h3\" {:id \"GEONExT%20Syntax\"} [:span \"GEONExT Syntax\"]] [:p [:span \"Another way to declare dependencies between \"] [:code [:span \"Element\"]] [:span \"s is to use \\\"GEONExT\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"syntax\\\". I can't find good documentation for this anywhere, but its\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"referenced \"] [:a {:href \"https://jsxgraph.org/wiki/index.php?title=Point#GEONExT_syntax\"} [:span \"here on the \"] [:code [:span \"JSXGraph\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"wiki\"]] [:span \".\"]] [:p [:span \"This example adds a first free \"] [:code [:span \"Point\"]] [:span \" named \"] [:code [:span \"\\\"A\\\"\"]] [:span \", and a second \"] [:code [:span \"Point\"]] [:span \" with\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"its \"] [:code [:span \"Y\"]] [:span \" coordinate free and its \"] [:code [:span \"X\"]] [:span \" coordinate constrained to always equal\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:code [:span \"A_x + A_y\"]] [:span \":\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n [jsx/JSXGraph {:axis true}\\n  [jsx/Point {:name \\\"A\\\" :parents [0 0]}]\\n  [jsx/Point {:name \\\"B\\\" :parents [\\\"X(A) + Y(A)\\\" 2]}]])\", :nextjournal/opts {:loc {:line 388, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do [jsx/JSXGraph {:axis true} [jsx/Point {:name \\\"A\\\", :parents [0 0]}] [jsx/Point {:name \\\"B\\\", :parents [\\\"X(A) + Y(A)\\\" 2]}]])] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:blockquote [:p [:span \"There is currently \"] [:a {:href \"https://github.com/jsxgraph/jsxgraph/issues/489\"} [:span \"a bug\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"with this feature, where re-rendering a board will trigger an error. You\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"may need to refresh your page if this occurs.\"]]] [\"h3\" {:id \"Component%20Refs\"} [:span \"Component Refs\"]] [:p [:span \"TODO sometimes you need access to the actual element...\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-5 5 5 -2]\\n                :showCopyright false\\n                :axis true}\\n  [:point\\n   {:size 4\\n    :parents [1 1]\\n    :ref (fn [p]\\n           (when p\\n             (.setName p \\\"Point\\\")))}]])\", :nextjournal/opts {:loc {:line 401, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :showCopyright false, :axis true} [:point {:size 4, :parents [1 1], :ref (fn [p] (when p (.setName p \\\"Point\\\")))}]])] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"Intermediate%20Usage\"} [:span \"Intermediate Usage\"]] [:p [:span \"TODO The previous section should get you going! This is more advanced stuff.\"]] [\"h3\" {:id \"Custom%20Components\"} [:span \"Custom Components\"]] [:p [:span \"You can use \"] [:code [:span \":<>\"]] [:span \" to group primitives into a custom component. TODO get docs from reagent\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n (defn Triangle [a b c]\\n   [:<>\\n    [jsx/Point {:name \\\"A\\\" :size 4 :parents a}]\\n    [jsx/Point {:name \\\"B\\\" :size 4 :parents b}]\\n    [jsx/Point {:name \\\"C\\\" :size 4 :parents c}]\\n    [jsx/Polygon {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"]}]]))\", :nextjournal/opts {:loc {:line 422, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (defn Triangle [a b c] [:<> [jsx/Point {:name \\\"A\\\", :size 4, :parents a}] [jsx/Point {:name \\\"B\\\", :size 4, :parents b}] [jsx/Point {:name \\\"C\\\", :size 4, :parents c}] [jsx/Polygon {:parents [\\\"A\\\" \\\"B\\\" \\\"C\\\"]}]]))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"TODO show syntax.\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-5 5 5 -2]\\n                :showCopyright false\\n                :axis true}\\n  [Triangle\\n   [-1 -1] [1 1] [-1 1]]])\", :nextjournal/opts {:loc {:line 432, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :showCopyright false, :axis true} [Triangle [-1 -1] [1 1] [-1 1]]])] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"NOTE that we can't use the keyword form here.\"]] [\"h2\" {:id \"Advanced%20Examples\"} [:span \"Advanced Examples\"]] [\"h3\" {:id \"Archimedean%20Spiral\"} [:span \"Archimedean Spiral\"]] [:p [:span \"Here's a more complex example; an interactive exploration of the \"] [:a {:href \"https://en.wikipedia.org/wiki/Archimedean_spiral\"} [:span \"Archimedean\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"Spiral\"]] [:span \".\"]] [:p [:a {:href \"http://jsxgraph.org/wiki/index.php/Archimedean_spiral\"} [:span \"http://jsxgraph.org/wiki/index.php/Archimedean_spiral\"]]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n (reagent/with-let [!state (atom {:a 1 :b 0.25})]\\n   [jsx/JSXGraph\\n    {:boundingbox [-10 10 10 -10]\\n     :showCopyright false\\n     :keepAspectRatio true}\\n    [:slider {:name \\\"a\\\"\\n              :parents [[1 8] [5 8] [0 (:a @!state) 4]]\\n              :on {:drag #(swap! !state assoc :a (.Value %))}}]\\n    [:slider {:name \\\"b\\\"\\n              :parents [[1 9] [5 9] [0 (:b @!state) 4]]\\n              :on {:drag #(swap! !state assoc :b (.Value %))}}]\\n    [:curve {:id \\\"c\\\"\\n             :parents [(fn [phi]\\n                         (let [{:keys [a b]} @!state]\\n                           (+ a (* b phi))))\\n                       [0, 0] 0  (* 8 Math/PI)]\\n             :curveType \\\"polar\\\"\\n             :strokewidth 4}]\\n    [:glider  {:parents [\\\"c\\\"] :name \\\"g\\\"}]\\n    [:tangent {:parents [\\\"g\\\"] :dash 2 :strokeColor \\\"#a612a9\\\"}]\\n    [:normal  {:parents [\\\"g\\\"] :dash 2 :strokeColor \\\"#a612a9\\\"}]]))\", :nextjournal/opts {:loc {:line 451, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (reagent/with-let [!state (atom {:a 1, :b 0.25})] [jsx/JSXGraph {:boundingbox [-10 10 10 -10], :showCopyright false, :keepAspectRatio true} [:slider {:name \\\"a\\\", :parents [[1 8] [5 8] [0 (:a (clojure.core/deref !state)) 4]], :on {:drag (fn* [%1] (swap! !state assoc :a (.Value %1)))}}] [:slider {:name \\\"b\\\", :parents [[1 9] [5 9] [0 (:b (clojure.core/deref !state)) 4]], :on {:drag (fn* [%1] (swap! !state assoc :b (.Value %1)))}}] [:curve {:id \\\"c\\\", :parents [(fn [phi] (let [{:keys [a b]} (clojure.core/deref !state)] (+ a (* b phi)))) [0 0] 0 (* 8 Math/PI)], :curveType \\\"polar\\\", :strokewidth 4}] [:glider {:parents [\\\"c\\\"], :name \\\"g\\\"}] [:tangent {:parents [\\\"g\\\"], :dash 2, :strokeColor \\\"#a612a9\\\"}] [:normal {:parents [\\\"g\\\"], :dash 2, :strokeColor \\\"#a612a9\\\"}]]))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Lissajous%20Curve\"} [:span \"Lissajous Curve\"]] [:p [:a {:href \"http://jsxgraph.org/wiki/index.php/Lissajous_curves\"} [:span \"http://jsxgraph.org/wiki/index.php/Lissajous_curves\"]]] [:p [:a {:href \"https://en.wikipedia.org//wiki/Lissajous_curve\"} [:span \"https://en.wikipedia.org//wiki/Lissajous_curve\"]]] [:p [:span \"Lissajous curve (Lissajous figure or Bowditch curve) is the graph of the\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"system of parametric equations\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn v/katex-viewer}, :nextjournal/value \"x=A\\\\sin(at+\\\\delta),\\\\quad y=B\\\\sin(bt).\"}]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n (reagent/with-let [!state (atom {:a 3 :b 2 :A 3 :B 3 :delta 0})]\\n   [jsx/JSXGraph\\n    {:boundingbox [-12 10 12 -10]\\n     :showCopyright false\\n     :keepAspectRatio true\\n     :axis true}\\n    [:slider {:name \\\"a\\\" :parents [[2,8],[6,8],[0,3,6]]\\n              :on {:drag #(swap! !state assoc :a (.Value %))}}]\\n    [:slider {:name \\\"b\\\" :parents [[2,7],[6,7],[0,2,6]]\\n              :on {:drag #(swap! !state assoc :b (.Value %))}}]\\n    [:slider {:name \\\"A\\\" :parents [[2,6],[6,6],[0,3,6]]\\n              :on {:drag #(swap! !state assoc :A (.Value %))}}]\\n    [:slider {:name \\\"B\\\" :parents [[2,5],[6,5],[0,3,6]]\\n              :on {:drag #(swap! !state assoc :B (.Value %))}}]\\n    [:slider {:name \\\"&delta;\\\" :parents [[2,4],[6,4],[0,0,Math.PI]]\\n              :on {:drag #(swap! !state assoc :delta (.Value %))}}]\\n    [:curve\\n     {:parents [(fn [t]\\n                  (let [{:keys [a A delta]} @!state]\\n                    (* A (Math/sin (+ (* a t) delta)))))\\n                (fn [t]\\n                  (let [{:keys [b B]} @!state]\\n                    (* B (Math/sin (* b t)))))\\n                0\\n                (* 2 Math/PI)]\\n      :strokeColor \\\"#aa2233\\\"\\n      :strokewidth 3}]]))\", :nextjournal/opts {:loc {:line 485, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (reagent/with-let [!state (atom {:a 3, :b 2, :A 3, :B 3, :delta 0})] [jsx/JSXGraph {:boundingbox [-12 10 12 -10], :showCopyright false, :keepAspectRatio true, :axis true} [:slider {:name \\\"a\\\", :parents [[2 8] [6 8] [0 3 6]], :on {:drag (fn* [%1] (swap! !state assoc :a (.Value %1)))}}] [:slider {:name \\\"b\\\", :parents [[2 7] [6 7] [0 2 6]], :on {:drag (fn* [%1] (swap! !state assoc :b (.Value %1)))}}] [:slider {:name \\\"A\\\", :parents [[2 6] [6 6] [0 3 6]], :on {:drag (fn* [%1] (swap! !state assoc :A (.Value %1)))}}] [:slider {:name \\\"B\\\", :parents [[2 5] [6 5] [0 3 6]], :on {:drag (fn* [%1] (swap! !state assoc :B (.Value %1)))}}] [:slider {:name \\\"&delta;\\\", :parents [[2 4] [6 4] [0 0 Math.PI]], :on {:drag (fn* [%1] (swap! !state assoc :delta (.Value %1)))}}] [:curve {:parents [(fn [t] (let [{:keys [a A delta]} (clojure.core/deref !state)] (* A (Math/sin (+ (* a t) delta))))) (fn [t] (let [{:keys [b B]} (clojure.core/deref !state)] (* B (Math/sin (* b t))))) 0 (* 2 Math/PI)], :strokeColor \\\"#aa2233\\\", :strokewidth 3}]]))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Unit%20Circle\"} [:span \"Unit Circle\"]] [:p [:span \"Here's a more complicated one that does some logic to spit out multiple points.\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n (defn UnitCircle [n]\\n   (let [ids (vec (range n))]\\n     [:<>\\n      (into [:<>]\\n            (map\\n             (fn [i]\\n               (let [angle (* (/ i n) 2 Math/PI)\\n                     x (Math/cos angle)\\n                     y (Math/sin angle)]\\n                 [jsx/Point {:name i :size 5 :parents [x y]}])))\\n            ids)\\n      [jsx/Polygon {:parents (mapv str ids)\\n                    :borders {:strokeColor \\\"black\\\"}}]])))\", :nextjournal/opts {:loc {:line 518, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (defn UnitCircle [n] (let [ids (vec (range n))] [:<> (into [:<>] (map (fn [i] (let [angle (* (/ i n) 2 Math/PI) x (Math/cos angle) y (Math/sin angle)] [jsx/Point {:name i, :size 5, :parents [x y]}]))) ids) [jsx/Polygon {:parents (mapv str ids), :borders {:strokeColor \\\"black\\\"}}]])))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n (reagent/with-let [!n    (reagent/atom 6)\\n                    ->!n #(reset! !n (.Value %))]\\n   [jsx/JSXGraph {:boundingbox [-1.5 2 1.5 -2]\\n                  :showCopyright false\\n                  :keepaspectratio true}\\n    [UnitCircle @!n]\\n    [jsx/Slider {:name \\\"n\\\"\\n                 :snapWidth 1\\n                 :on {:drag ->!n}\\n                 :parents\\n                 [[-1 1.5] [1 1.5] [1 @!n 50]]}]]))\", :nextjournal/opts {:loc {:line 533, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (reagent/with-let [!n (reagent/atom 6) ->!n (fn* [%1] (reset! !n (.Value %1)))] [jsx/JSXGraph {:boundingbox [-1.5 2 1.5 -2], :showCopyright false, :keepaspectratio true} [UnitCircle (clojure.core/deref !n)] [jsx/Slider {:name \\\"n\\\", :snapWidth 1, :on {:drag ->!n}, :parents [[-1 1.5] [1 1.5] [1 (clojure.core/deref !n) 50]]}]]))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Riemann%20Sum\"} [:span \"Riemann Sum\"]] [:p [:span \"This demo shows how to get the input talking to some state. There are issues\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"here that I'll document soon.\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n (defonce !state\\n   (atom\\n    {:start -3 :end (* 2 Math/PI) :n 10})))\", :nextjournal/opts {:loc {:line 553, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (defonce !state (atom {:start -3, :end (* 2 Math/PI), :n 10})))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"And the example:\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n (reagent/with-let\\n   [init         @!state\\n    start-update #(swap! !state assoc :start (.Value %))\\n    end-update   #(swap! !state assoc :end (.Value %))\\n    n-update     #(swap! !state assoc :n (.Value %))\\n    nf           #(:n @!state)\\n    startf       #(:start @!state)\\n    endf         #(:end @!state)\\n    sin          #(Math/sin %)]\\n   [:<>\\n    [:pre (str @!state)]\\n    [jsx/JSXGraph {:boundingbox [-8 4 8 -5]\\n                   :showCopyright false\\n                   :axis true}\\n\\n     [jsx/Slider {:name \\\"start\\\"\\n                  :on {:drag start-update}\\n                  :parents\\n                  [[1 3.5] [5 3.5] [-10 (:start init) 0]]}]\\n     [jsx/Slider {:name \\\"end\\\"\\n                  :on {:drag end-update}\\n                  :parents\\n                  [[1 2.5] [5 2.5] [0 (:end init) 10]]}]\\n\\n     [jsx/Slider {:name \\\"n\\\"\\n                  :snapWidth 1\\n                  :on {:drag n-update}\\n                  :parents\\n                  [[1 1.5] [5 1.5] [1 (:n init) 50]]}]\\n\\n     [jsx/FunctionGraph {:parents [sin startf endf]}]\\n     [jsx/RiemannSum {:parents [sin nf \\\"left\\\" startf endf]}]]]))\", :nextjournal/opts {:loc {:line 560, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (reagent/with-let [init (clojure.core/deref !state) start-update (fn* [%1] (swap! !state assoc :start (.Value %1))) end-update (fn* [%1] (swap! !state assoc :end (.Value %1))) n-update (fn* [%1] (swap! !state assoc :n (.Value %1))) nf (fn* [] (:n (clojure.core/deref !state))) startf (fn* [] (:start (clojure.core/deref !state))) endf (fn* [] (:end (clojure.core/deref !state))) sin (fn* [%1] (Math/sin %1))] [:<> [:pre (str (clojure.core/deref !state))] [jsx/JSXGraph {:boundingbox [-8 4 8 -5], :showCopyright false, :axis true} [jsx/Slider {:name \\\"start\\\", :on {:drag start-update}, :parents [[1 3.5] [5 3.5] [-10 (:start init) 0]]}] [jsx/Slider {:name \\\"end\\\", :on {:drag end-update}, :parents [[1 2.5] [5 2.5] [0 (:end init) 10]]}] [jsx/Slider {:name \\\"n\\\", :snapWidth 1, :on {:drag n-update}, :parents [[1 1.5] [5 1.5] [1 (:n init) 50]]}] [jsx/FunctionGraph {:parents [sin startf endf]}] [jsx/RiemannSum {:parents [sin nf \\\"left\\\" startf endf]}]]]))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"3D\"} [:span \"3D\"]] [:p [:a {:href \"https://jsxgraph.org/docs/symbols/Functiongraph3D.html\"} [:span \"https://jsxgraph.org/docs/symbols/Functiongraph3D.html\"]]] [:p [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/issues/23\"} [:span \"https://github.com/mentat-collective/jsxgraph.cljs/issues/23\"]]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n (let [box [-5 5]\\n       F  (fn [x y] (Math/sin (* x (/ y 4))))]\\n   [jsx/JSXGraph\\n    {:boundingbox [-8 8 8 -8]\\n     :showCopyright false\\n     :axis false\\n     :showNavigation false\\n     :ref (fn [b]\\n            (let [view\\n                  (jsx/create b \\\"view3d\\\"\\n                              [[-6 -3] [8 8]\\n                               [box box box]]\\n                              {:xPlaneRear {:visible false}\\n                               :yPlaneRear {:visible false}})]\\n              ;; note that we create this on the VIEW, not on the board.\\n              (jsx/create view \\\"functiongraph3d\\\"\\n                          [F box box]\\n                          {:strokeWidth 0.5\\n                           :stepsU 70\\n                           :stepsV 70})))}]))\", :nextjournal/opts {:loc {:line 600, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do (let [box [-5 5] F (fn [x y] (Math/sin (* x (/ y 4))))] [jsx/JSXGraph {:boundingbox [-8 8 8 -8], :showCopyright false, :axis false, :showNavigation false, :ref (fn [b] (let [view (jsx/create b \\\"view3d\\\" [[-6 -3] [8 8] [box box box]] {:xPlaneRear {:visible false}, :yPlaneRear {:visible false}})] (jsx/create view \\\"functiongraph3d\\\" [F box box] {:strokeWidth 0.5, :stepsU 70, :stepsV 70})))}]))] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"JSXGraph%20vs%20JSXGraph.cljs\"} [:span \"JSXGraph vs JSXGraph.cljs\"]] [:p [:span \"We'll start by porting the simple \"] [:a {:href \"http://jsxgraph.org/wiki/index.php/Circle\"} [:span \"Circle\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"example\"]] [:span \" from the \"] [:a {:href \"http://jsxgraph.org/wiki/index.php?title=Category:Examples\"} [:span \"JSXGraph\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"examples\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"directory\"]] [:span \".\"]] [:p [:span \"From the wiki:\"]] [:blockquote [:p [:span \"One possibility to construct a circle is to give its center and a point\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"defining its radius. Lets construct two points \\\"A\\\" and \\\"B\\\". Then we'll\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"construct a circle through \\\"A\\\" and \\\"B\\\".\"]]] [:p [:span \"Given some \"] [:code [:span \"div\"]] [:span \" with \"] [:code [:span \"id=\\\"jxgbox\\\"\"]] [:span \", the following snippet of JS will inject\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"a \"] [:code [:span \"JSXGraph\"]] [:span \" construction into the \"] [:code [:span \"div\"]] [:span \":\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-code [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"var b = JXG.JSXGraph.initBoard('jxgbox', {boundingbox: [-5, 2, 5, -2]});\\nvar p1 = b.create('point',[0,0], {name:'A',size: 4, face: 'o'});\\nvar p2 = b.create('point',[2,-1], {name:'B',size: 4, face: 'o'})\\nvar ci = b.createElement('circle',[\\\"A\\\",\\\"B\\\"], {strokeColor:'#00ff00',strokeWidth:2});\\n\"}]]}] [:p [:span \"In \"] [:code [:span \"JSXGraph.cljs\"]] [:span \" we can write that example like this, and see the\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"construction rendered below. Note that the points are interactive, so drag\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"them around and watch the circle respond.\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-5 5 5 -2]\\n                :keepAspectRatio true}\\n  [:point {:name \\\"A\\\" :size 4 :face \\\"o\\\" :parents [0 0]}]\\n  [:point {:name \\\"B\\\" :size 4 :face \\\"o\\\" :parents [2 -1]}]\\n  [:circle {:strokeColor \\\"#00ff00\\\" :strokeWidth 2\\n            :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 649, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :keepAspectRatio true} [:point {:name \\\"A\\\", :size 4, :face \\\"o\\\", :parents [0 0]}] [:point {:name \\\"B\\\", :size 4, :face \\\"o\\\", :parents [2 -1]}] [:circle {:strokeColor \\\"#00ff00\\\", :strokeWidth 2, :parents [\\\"A\\\" \\\"B\\\"]}]])] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"When you attempt to port \"] [:a {:href \"http://jsxgraph.org/wiki/index.php?title=Category:Examples\"} [:span \"examples from\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"JSXGraph.org\"]] [:span \",\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"note the following differences:\"]] [:p [:strong [:span \"In JSXGraph:\"]]] [:p [:span \"You create a board by calling \"] [:code [:span \"initBoard\"]] [:span \" with the id of some existing \"] [:code [:span \"div\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"and a map of options.\"]] [:p [:span \"New elements are added to a board by calling \"] [:code [:span \"board.create(<type-string>   <parents> <attrs>)\"]] [:span \", where\"]] [:ul [:li [:p [:code [:span \"<type-string>\"]] [:span \": the lowercase version of one of the classes in the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:span \"API\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"Reference\"]]]] [:li [:p [:code [:span \"<parents>\"]] [:span \": an array of the elements described under each class's \\\"Element\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"Detail\\\"\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"section. (A \"] [:a {:href \"https://jsxgraph.org/docs/symbols/Circle.html\"} [:span \"Circle\"]] [:span \", for\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"example, takes two parents: a \"] [:code [:span \"Point\"]] [:span \" for its center, and either a \"] [:code [:span \"Point\"]] [:span \",\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:code [:span \"Line\"]] [:span \" or \"] [:code [:span \"Circle\"]] [:span \" for its radial point.)\"]]] [:li [:p [:code [:span \"<attrs>\"]] [:span \": a map of attributes described under the class's \\\"Attributes\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"Summary\\\" section.\"]]]] [:p [:strong [:span \"In JSXGraph.cljs\"]]] [:p [:span \"You create a board by providing a vector of the form \"] [:code [:span \"[jsx/JSXGraph  <options-map>]\"]] [:span \". The component creates its own \"] [:code [:span \"div\"]] [:span \". If you want to\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"customize the div, provide \"] [:code [:span \":id\"]] [:span \" or \"] [:code [:span \":style\"]] [:span \" keys.\"]] [:p [:span \"To add an element, add a vector of the following form as a child of the\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:code [:span \"JSXGraph\"]] [:span \" component:\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-code [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"[<class-keyword> {:parents <parents>, <attrs>}]\\n\"}]]}] [:p [:span \"Where \"] [:code [:span \"<class-keyword>\"]] [:span \" is the keyword form of the classname (\"] [:code [:span \":circle\"]] [:span \",\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:code [:span \":functiongraph\"]] [:span \" etc), \"] [:code [:span \"<parents>\"]] [:span \" are the parents described above and\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:code [:span \"<attrs>\"]] [:span \" are any other key-value pairs.\"]] [\"h3\" {:id \"Keyword%20vs%20Component\"} [:span \"Keyword vs Component\"]] [:p [:span \"All classes the \"] [:a {:href \"https://jsxgraph.org/docs/index.html\"} [:span \"JSXGraph API\"]] [:span \" are\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"exposed as components\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"in \"] [:a {:href \"https://github.com/mentat-collective/jsxgraph.cljs/blob/main/src/jsxgraph/core.cljs#L149\"} [:code [:span \"jsxgraph.core\"]]] [:span \".\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"You can use these components directly in place of the keyword in the example\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"above:\"]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n [jsx/JSXGraph {:boundingbox [-5 5 5 -2] :showCopyright false}\\n  [jsx/Point {:name \\\"A\\\" :size 4 :parents [-1 1]}]\\n  [jsx/Point {:name \\\"B\\\" :size 4 :parents [2 -1]}]\\n  [jsx/Line {:strokeColor \\\"#00ff00\\\" :strokeWidth 2\\n             :parents [\\\"A\\\" \\\"B\\\"]}]])\", :nextjournal/opts {:loc {:line 706, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :showCopyright false} [jsx/Point {:name \\\"A\\\", :size 4, :parents [-1 1]}] [jsx/Point {:name \\\"B\\\", :size 4, :parents [2 -1]}] [jsx/Line {:strokeColor \\\"#00ff00\\\", :strokeWidth 2, :parents [\\\"A\\\" \\\"B\\\"]}]])] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Imperative%20Style\"} [:span \"Imperative Style\"]] [:p [:span \"If you prefer the more imperative style of the original \"] [:code [:span \"JSXGraph\"]] [:span \" library,\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"or if you need immediate access to an element after you add it to the board,\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"you can provide a callback to the \"] [:code [:span \"jsx/JSXGraph\"]] [:span \" component using the \"] [:code [:span \":ref\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"key and get access to the \"] [:code [:span \"board\"]] [:span \" object.\"]] [:p [:span \"Use \"] [:code [:span \"jsxgraph.core/create\"]] [:span \" just like you'd use \"] [:code [:span \"board.create\"]] [:span \" in JavaScript\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"to add elements.\"]] [:blockquote [:p [:span \"The main advantage here is that you can keep your parent vector and\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"attributes map in Clojure.\"]]]]} {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(cljs\\n [jsx/JSXGraph\\n  {:boundingbox [-5 5 5 -2]\\n   :style {:height \\\"200px\\\" :width \\\"100%\\\"}\\n   :ref (fn [b]\\n          ;; `b` will be `nil` when the board is first created. After the board\\n          ;; mounts itself, the `:ref` callback will be called again with the\\n          ;; `JSXGraph` instance.\\n          (when b\\n            (let [p1 (jsx/create b \\\"point\\\" [0 0] {:name \\\"A\\\" :size 4 :face \\\"o\\\"})\\n                  p2 (jsx/create b \\\"point\\\" [2 -1] {:name \\\"B\\\" :size 4 :face \\\"o\\\"})]\\n              (jsx/create b \\\"line\\\"\\n                          ;; Note that we have the actual point instances here and\\n                          ;; can add them, instead of relying on the string ID.\\n                          [p1 p2]\\n                          {:strokeColor \\\"#00ff00\\\" :strokeWidth 2}))))}])\", :nextjournal/opts {:loc {:line 726, :column 1}}} {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___13257__auto__] (clojure.core/let [result__13258__auto__ (do [jsx/JSXGraph {:boundingbox [-5 5 5 -2], :style {:height \\\"200px\\\", :width \\\"100%\\\"}, :ref (fn [b] (when b (let [p1 (jsx/create b \\\"point\\\" [0 0] {:name \\\"A\\\", :size 4, :face \\\"o\\\"}) p2 (jsx/create b \\\"point\\\" [2 -1] {:name \\\"B\\\", :size 4, :face \\\"o\\\"})] (jsx/create b \\\"line\\\" [p1 p2] {:strokeColor \\\"#00ff00\\\", :strokeWidth 2}))))}])] (v/html (if (clojure.core/vector? result__13258__auto__) result__13258__auto__ [v/inspect result__13258__auto__]))))}, :nextjournal/value {}, :path [], :nextjournal/expanded-at {[] false}}\"}, :path []} {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Accessing%20Element%20Values\"} [:span \"Accessing Element Values\"]] [:p [:span \"A big difference between the \"] [:code [:span \"JSXGraph.cljs\"]] [:span \" and \"] [:code [:span \"JSXGraph\"]] [:span \" versions has to\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"do with how data is communicated. In JS, you typically create elements and\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"then query them on demand from other elements.\"]] [:p [:span \"TODO  what else do we want to say here?\"]] [\"h2\" {:id \"Thanks%20and%20Support\"} [:span \"Thanks and Support\"]] [:p [:span \"To support this work and my other open source projects, consider sponsoring\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"me via my \"] [:a {:href \"https://github.com/sponsors/sritchie\"} [:span \"GitHub Sponsors page\"]] [:span \". Thank\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"you to my current sponsors!\"]] [:p [:span \"I'm grateful to \"] [:a {:href \"https://www.clojuriststogether.org/\"} [:span \"Clojurists Together\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"for financial support during this library's creation. Please\"] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"consider \"] [:a {:href \"https://www.clojuriststogether.org/developers/\"} [:span \"becoming a member\"]] [#viewer-eval v/inspect-presented {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"to support this work and projects like it.\"]] [\"h2\" {:id \"License\"} [:span \"License\"]] [:p [:span \"Copyright © 2022 Sam Ritchie.\"]] [:p [:span \"Distributed under the \"] [:a {:href \"LICENSE\"} [:span \"MIT License\"]] [:span \". See \"] [:a {:href \"LICENSE\"} [:span \"LICENSE\"]] [:span \".\"]]]}], :toc {:type :toc, :children [{:type :toc, :content [{:type :text, :text \"JSXGraph.cljs\"}], :heading-level 1, :children [{:type :toc, :content [{:type :text, :text \"What is JSXGraph?\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"Quickstart\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"Basics\"}], :heading-level 2, :children [{:type :toc, :content [{:type :text, :text \"Your First Board\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Event Listeners\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Functions as Parents\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"GEONExT Syntax\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Component Refs\"}], :heading-level 3}]} {:type :toc, :content [{:type :text, :text \"Intermediate Usage\"}], :heading-level 2, :children [{:type :toc, :content [{:type :text, :text \"Custom Components\"}], :heading-level 3}]} {:type :toc, :content [{:type :text, :text \"Advanced Examples\"}], :heading-level 2, :children [{:type :toc, :content [{:type :text, :text \"Archimedean Spiral\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Lissajous Curve\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Unit Circle\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Riemann Sum\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"3D\"}], :heading-level 3}]} {:type :toc, :content [{:type :text, :text \"JSXGraph vs JSXGraph.cljs\"}], :heading-level 2, :children [{:type :toc, :content [{:type :text, :text \"Keyword vs Component\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Imperative Style\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Accessing Element Values\"}], :heading-level 3}]} {:type :toc, :content [{:type :text, :text \"Thanks and Support\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"License\"}], :heading-level 2}]}]}, :toc-visibility true, :title \"JSXGraph.cljs\", :scope {:namespace :jsxgraph.notebook}}, :path [], :nextjournal/expanded-at {[] false}}}, :index \"dev/jsxgraph/notebook.clj\", :browse? false, :paths [\"dev/jsxgraph/notebook.clj\"], :current-path \"dev/jsxgraph/notebook.clj\", :bundle? false, :path->url {\"dev/jsxgraph/notebook.clj\" \"\"}, :report-fn #object[nextjournal.clerk.builder$stdout_reporter 0xa404535 \"nextjournal.clerk.builder$stdout_reporter@a404535\"]}")
app.init(opts)
</script></body></html>